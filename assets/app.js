angular.module("app",["ngRoute"]),angular.module("app").config(["$routeProvider",function(e){e.when("/",{controller:"HomeCtrl",templateUrl:"/templates/Home.html"}).when("/register",{controller:"RegisterCtrl",templateUrl:"/templates/Register.html"}).when("/login",{controller:"LoginCtrl",templateUrl:"/templates/Login.html"}).when("/barter-user-:otheruser",{controller:"BarterCtrl",templateUrl:"/templates/Barter.html"}).when("/my_items",{controller:"MyItemsCtrl",templateUrl:"/templates/MyItems.html"}).when("/brokenLink",{templateUrl:"templates/BrokenLinkError.html"}).when("/register-setup",{controller:"RegisterSetupCtrl",templateUrl:"/templates/RegisterSetUp.html"}).when("/user-settings",{controller:"UserSettings",templateUrl:"/templates/UserSettings.html"}).when("/user-settings-password",{controller:"UserSettingsPassword",templateUrl:"/templates/UserSettingsPassword.html"}).when("/postItem",{controller:"PostItemCtrl",templateUrl:"/templates/PostItem.html"}).when("/postSuccessfull-:id",{controller:"PostItemSuccessCtrl",templateUrl:"/templates/PostItemSuccess.html"}).when("/createReservation-:id",{controller:"ReservationCtrl",templateUrl:"/templates/Reservation.html"}).when("/pendingTrades",{controller:"PendingTradesCtrl",templateUrl:"/templates/PendingTrades.html"}).when("/pendingTrades-details-:id",{controller:"PendingTradesDetailsCtrl",templateUrl:"/templates/PendingTradesDetail.html"}).when("/About",{templateUrl:"/templates/About.html"}).when("/Contact",{templateUrl:"/templates/Contact.html"}).otherwise({redirectTo:"/"})}]).factory("authHttpResponseInterceptor",["$q","$location",function(e,t){return{response:function(t){return t||e.when(t)},responseError:function(n){return 401===n.status?t.path("/login"):404===n.status&&t.path("/brokenLink"),e.reject(n)}}}]).config(["$httpProvider",function(e){e.interceptors.push("authHttpResponseInterceptor")}]),angular.module("app").controller("UserCtrl",["$scope","UserSvc",function(e,t){document.getElementById("user_h1_header");t.getUserOpenInfo("b").then(function(t){console.log(t),e.user_name=t.first_name+" "+t.last_name,e.user_trading_items=["img1","img2"]})}]),angular.module("app").controller("ApplicationCtrl",["$scope","UserSvc","$location",function(e,t,n){e.logout=function(){t.logout(),e.currentUser=null,localStorage.clear(),n.path("/"),window.location.reload()},t.hasSession().then(function(n){n&&t.getUserAccountInfo().then(function(t){e.currentUser=t})})}]),angular.module("app").controller("BarterCtrl",["$scope","$routeParams","$location","ChatSvc","UserSvc","TradingItemSvc","OfferSvc",function(e,t,n,r,a,s,o){function i(e){var t=document.createElement("li");t.className="draggable ui-widget-content ui-corner-tr";var n=document.createElement("h5");n.className="ui-widget-header",n.innerHTML=e.name;var r=document.createElement("img");r.src=e.image.path200,r.width="96",r.height="72";var a=document.createElement("a");return a.title="Barter this image",a.className="ui-icon ui-icon-transferthick-e-w",a.innerHTML="Barter Item",t.appendChild(n),t.appendChild(r),t.appendChild(a),t.setAttribute("data",e._id),t}function l(e,t){for(x in e)if(t===e[x])return e.splice(x,1),e}function c(e,t){return e>t?[e,t]:[t,e]}function u(e){var t=["message__item message__item--bot","message message--bot"];e.author!==h.user&&e.user!=h.user||(t[0]="message__item message__item--user",t[1]="message message--user");var n=document.createElement("div");n.className="message__list";var r=document.createElement("div");r.className=t[0];var a=document.createElement("span");a.innerHTML=e.body.replace(/</g,"&lt;").replace(/>/g,"&gt;"),a.className=t[1],r.appendChild(a),n.appendChild(r),e.offerId&&(r.id=e.offerId,a.id=e.offerId),"OD"===e.special&&(a.style.color="purple"),document.getElementById("barter_message_content")&&document.getElementById("barter_message_content").appendChild(n);var s=document.getElementById("barter_message_content");s.scrollTop=s.scrollHeight}function d(){document.getElementById("barter_h4_error").style.display="block"}function m(){for(var e=document.getElementById("gallery_ul_item"),t=document.getElementById("gallery2_ul_item"),n=0;n<e.children.length;n++)e.children[n].children[2].click();for(var n=0;n<t.children.length;n++)t.children[n].children[2].click()}function f(e,n,r){var a=h.user,s=t.otheruser,o=document.createElement("div"),i=document.createElement("div"),l=document.createElement("div"),c=document.createElement("div"),u=document.createElement("div"),d=document.createElement("div");o.className="modal fade",i.className="modal-dialog",l.className="modal-content",c.className="modal-header",u.className="modal-body",d.className="modal-footer";var m=a+"'s Tradding Offer To "+s;r||(m=s+"'s Tradding Offer To "+a);var f=document.createElement("h2");f.innerHTML=m,c.appendChild(f);var p=document.createElement("div");p.className="row",u.appendChild(p);var _=document.createElement("div"),I=document.createElement("div"),v=document.createElement("div");_.className="col-md-5",I.className="col-md-2",v.className="col-md-5";var y=document.createElement("img");y.src="images/trade.png",y.style.width="50px",y.style.height="50px",g(e,h.Items_User,_),g(n,h.Items_Other_User,v),I.appendChild(y),p.appendChild(_),p.appendChild(I),p.appendChild(v);var U=document.createElement("div"),E=document.createElement("h3");E.innerHTML="Do you want to accept the offer?";var C=document.createElement("a"),b=document.createElement("a");return C.className="btn btn-default",C.setAttribute("role","button"),C.innerHTML="Yes",C.setAttribute("data-dismiss","modal"),b.className="btn btn-default",b.setAttribute("role","button"),b.setAttribute("data-dismiss","modal"),b.innerHTML="No",U.appendChild(E),U.appendChild(C),U.appendChild(b),d.appendChild(U),l.appendChild(c),l.appendChild(u),r||l.appendChild(d),i.appendChild(l),o.appendChild(i),[o,C,b,U]}function g(e,t,n){for(x in e){var r=document.createElement("img");r.src=t[e[x]].image.path200,r.style.width="100px",r.style.height="120px",r.title=t[e[x]].name,n.appendChild(r)}}function p(e,t){for(var n=0;n<e.length;n++)if(!t[e[n]])return!1;return!0}var h={};h.otherUser=t.otheruser,h.user="",h.userTag="",e.otherUser=h.otherUser,e.CurrentUserItems=null,h.UserItems=[],h.OtherUserItems=[],h.Items_User={},h.Items_Other_User={};var _=function(e,t,n){function r(t){"gallery"===e?h.UserItems.push(t.attr("data")):"gallery2"===e&&h.OtherUserItems.push(t.attr("data")),t.fadeOut(function(){var n=$("ul",i).length?$("ul",i):$("<ul class='"+e+" ui-helper-reset'/>").appendTo(i);n.attr("id",e+"_ul_item"),t.find("a.ui-icon-transferthick-e-w").remove(),t.append(c).appendTo(n).fadeIn(function(){t.animate({width:"48px"}).find("img").animate({height:"36px"})})})}function a(t){"gallery"===e?h.UserItems=l(h.UserItems,t.attr("data")):"gallery2"===e&&(h.OtherUserItems=l(h.OtherUserItems,t.attr("data"))),t.fadeOut(function(){t.find("a.ui-icon-refresh").remove().end().css("width","96px").append(u).find("img").css("height","72px").end().appendTo(o).fadeIn()})}function s(e){var t=e.attr("href"),n=e.siblings("img").attr("alt"),r=$("img[src$='"+t+"']");if(r.length)r.dialog("open");else{var a=$("<img alt='"+n+"' width='384' height='288' style='display: none; padding: 8px;' />").attr("src",t).appendTo("body");setTimeout(function(){a.dialog({title:n,width:400,modal:!0})},1)}}var o=$("#"+e),i=$("#"+t);$("li",o).draggable({cancel:"a.ui-icon",revert:"invalid",containment:"#"+n,helper:"clone",cursor:"move"}),i.droppable({accept:"#"+e+" > li",classes:{"ui-droppable-active":"ui-state-highlight"},drop:function(e,t){r(t.draggable)}}),o.droppable({accept:"#"+t+" li",classes:{"ui-droppable-active":"custom-state-active"},drop:function(e,t){a(t.draggable)}});var c="<a title='Remove this image' class='ui-icon ui-icon-refresh'>Remove Item</a>",u="<a title='Remove this image' class='ui-icon ui-icon-transferthick-e-w'>Delete image</a>";$("ul."+e+" > li").on("click",function(e){var t=$(this),n=$(e.target);return n.is("a.ui-icon-transferthick-e-w")?r(t):n.is("a.ui-icon-zoomin")?s(n):n.is("a.ui-icon-refresh")&&a(t),!1})};s.getAllUserTradingItems(t.otheruser).then(function(e){var t=document.getElementById("gallery2");for(x in e)h.Items_Other_User[e[x]._id]=e[x],e[x].traded||t.appendChild(i(e[x]));_("gallery2","trash2","containment-wrapper2")}),a.returnSessionUserName().then(function(e){var n=c(e,t.otheruser);h.userTag=n[0]+"-"+n[1],h.user=e,s.getAllUserTradingItems(e).then(function(e){var t=document.getElementById("gallery");for(x in e)h.Items_User[e[x]._id]=e[x],e[x].traded||t.appendChild(i(e[x]));_("gallery","trash","containment-wrapper")})}),r.getRecentMessages(t.otheruser).then(function(e){for(var t=e.length-1;t>=0;t--)u(e[t])});var I=io.connect("https://lit-ridge-83847.herokuapp.com"),v=document.getElementById("barter_input_message");document.getElementById("barter_input_message").addEventListener("keyup",function(e){e.preventDefault(),13==e.keyCode&&""!=v.value&&(I.emit("chat",{body:v.value,user:h.user,tag:h.userTag}),r.sendMessage(h.otherUser,v.value),v.value="")}),I.on("chat",function(e){e.tag===h.userTag&&u(e)}),e.$on("$destroy",function(){I.removeAllListeners()}),e.SubmitOffer=function(){if(document.getElementById("barter_h4_error").style.display="none",0==h.UserItems.length||0==h.OtherUserItems.length)return void d();var n=f(h.UserItems,h.OtherUserItems,!0),a={User_offer_username:h.user,User_other_username:t.otheruser,User_offer_items:h.UserItems,User_other_items:h.OtherUserItems};o.makeOffer(a).then(function(a){a.shift();var s=a[0]._id,o="See "+h.user+"'s offer to "+t.otheruser+" -: "+s.substr(s.length-5);n[0].id="modal_"+s,n[1].onclick=function(){e.redirect=!0},n[2].onclick=function(){e.redirect=!1},n[3].id="modal_footer_"+s,document.getElementById("collectionOfModals").appendChild(n[0]),I.emit("chat",{body:o,user:h.user,offerId:s,tag:h.userTag}),r.sendMessageWithOfferID(h.otherUser,o,s),m()})},e.FireModal=function(e){if("barter_message_content"!==e.target.id&&"barter_input_message"!==e.target.id&&""!=e.target.id){if(document.getElementById("modal_"+e.target.id))return void $("#modal_"+e.target.id).modal();var t=!0;o.GetOneOfferById(e.target.id).then(function(n){if(n.User_offer_username===h.user)if(t=p(n.User_offer_items,h.Items_User),t=p(n.User_other_items,h.Items_Other_User)){var a=f(n.User_offer_items,n.User_other_items,!0);a[0].id="modal_"+e.target.id,document.getElementById("collectionOfModals").appendChild(a[0]),$("#modal_"+e.target.id).modal()}else alert("Sorry items missing");else{t=p(n.User_offer_items,h.Items_Other_User),t=p(n.User_other_items,h.Items_User);var s=null;if(t){var a=null;!1===n.TransactionPending.accepted||!0===n.TransactionPending.accepted?(a=f(n.User_other_items,n.User_offer_items,!0),a[0].id="modal_"+e.target.id,document.getElementById("collectionOfModals").appendChild(a[0]),$("#modal_"+e.target.id).modal()):(a=f(n.User_other_items,n.User_offer_items,!1),a[1].onclick=function(){s=!0},a[2].onclick=function(){s=!1},a[3].id="modal_footer_"+e.target.id,a[0].id="modal_"+e.target.id,document.getElementById("collectionOfModals").appendChild(a[0]),$("#modal_"+e.target.id).modal(),$("#modal_"+e.target.id).on("hidden.bs.modal",function(e){var t=e.currentTarget.id.replace("modal_","");if(s)I.emit("chat",{body:"Offer Accepted. 👍",user:h.user,special:"OD",tag:h.userTag}),r.sendMessage(h.otherUser,"Offer Accepted. 👍"),window.location="/#/createReservation-"+t;else if(!1===s){s=null;var n={};n.offerStatus="DECLINED",n.offerId=t,o.setReservation(n).then(function(e){document.getElementById("modal_footer_"+t).remove(),I.emit("chat",{body:"Offer declined. 👎",user:h.user,special:"OD",tag:h.userTag}),r.sendMessage(h.otherUser,"Offer declined. 👎")})}}))}}})}},e.redirect=!1}]),angular.module("app").controller("HomeCtrl",["$scope","$rootScope","UserSvc","GeoSvc","TradingItemSvc",function(e,t,n,r,a){function s(){n.hasSession().then(function(t){t?n.returnSessionUserName().then(function(t){a.getItemFromCityStateAvoidUser(g,t).then(function(t){var n=g.city+", "+g.state;c(o(t),g.city,n,!0,d,e.CityItems)}),a.getAllItemsBut(t).then(function(t){console.log(t),c(t,"All Items","All Items",!1,m,e.AllItems)})}):(a.getItemFromCityState(g).then(function(t){var n=g.city+", "+g.state;c(o(t),g.city,n,!0,d,e.CityItems)}),a.getAllItems().then(function(t){c(t,"All Items","All Items",!1,m,e.AllItems)}))})}function o(e){var t=[];for(x in e)for(y in e[x])t.push(e[x][y]);return t}function i(){navigator.geolocation?navigator.geolocation.getCurrentPosition(l):e.UserCity="Geolocation is not supported by this browser."}function l(t){r.getCityState(t).then(function(t){"ERROR"==t.status?e.UserGeo=null:e.UserGeo=t;var n=JSON.stringify(t);localStorage.setItem("usr-loc",n)})}function c(e,t,n,r,a,s){var o=document.createElement("div");o.className="Home_Title",o.innerHTML=r?"Neary by Trades at City "+n+"<hr />":n+"<hr />",a.appendChild(o);var i=t.replace(/\s+/g,"_"),l=document.createElement("section");l.id="itemView-"+i,l.class="regular slider";for(x in e){s.push(e[x]);var c=document.createElement("div"),u=document.createElement("img"),d=document.createElement("p");u.src=e[x].image.path200,u.id="item-"+e[x]._id,u.setAttribute("data-toggle","modal"),u.setAttribute("data-target","#modal_"+e[x]._id),d.innerHTML=e[x].name,c.appendChild(u),c.appendChild(d),l.appendChild(c)}var m=document.createElement("div");m.id="home_near_by_"+i,m.appendChild(l),a.appendChild(m),$("#itemView-"+i).slick({arrows:!0,dots:!0,infinite:!0,slidesToShow:3,slidesToScroll:3})}function u(t){for(x in t){document.getElementById("a_"+t[x]._id).onclick=function(){e.HomeCtrlRedirect=!0},$("#modal_"+t[x]._id).on("hidden.bs.modal",function(n){var r=t[x].user;1==e.HomeCtrlRedirect&&(window.location="/#/barter-user-"+r)})}}e.UserCity="",e.CityItems=[],e.AllItems=[],e.HomeCtrlRedirect=!1;var d=document.getElementById("cityDiv"),m=document.getElementById("allItemDiv"),f=localStorage.getItem("usr-loc"),g=JSON.parse(f);e.GetLocation=function(){i()},null===g||"ERROR"===g.status?(i(),s()):(e.UserGeo=g,s()),e.SearchBar="",e.SearchItems=function(){var t=e.SearchBar;a.getSearchItem(t).then(function(n){var r=document.createElement("div");document.getElementById("Home_TargetSearchDiv").appendChild(r),e.temp=[],c(n,t,"All Items of keyword: "+t,!1,r,e.temp)})},e.$on("CityItemsDone",function(t){u(e.CityItems)}),e.$on("allItemsDone",function(t){u(e.AllItems)})}]),angular.module("app").directive("onFinishRender",["$timeout",function(e){return{restrict:"A",link:function(t,n,r){!0===t.$last&&e(function(){t.$emit(r.onFinishRender)})}}}]),angular.module("app").controller("LoginCtrl",["$scope","$location","UserSvc",function(e,t,n){function r(){e.showView=!0}e.login=function(e,a){n.login(e,a).then(function(e){if(401===e.status)return r();t.path("/"),window.location.reload()})}}]),angular.module("app").controller("MyItemsCtrl",["$scope","UserSvc","TradingItemSvc",function(e,t,n){function r(e,t){for(var n=0;n<t;n++)e+=" ";return e}t.getUserAccountInfo().then(function(t){e.Users=t,n.getAllUserTradingItems(t.username).then(function(t){for(x in t)t[x].description.length>55?t[x].description=t[x].description.substring(0,55)+"...":t[x].description=r(t[x].description,55-t[x].description.length);e.UserItems=t})})}]),angular.module("app").controller("PendingTradesCtrl",["$scope","$location","UserSvc","OfferSvc","TradingItemSvc",function(e,t,n,r,a){function s(e){var t=0;for(x in e)t++;var n=0;for(x in e)a.getItemById(x).then(function(e){n++,d.ItemMap[e._id]=e,n===t&&o()})}function o(){console.log("This hit");var e=0;for(x in d.Offers)d.Offers[x].User_offer_username===d.user.username?n.getUserOpenInfo(d.Offers[x].User_other_username).then(function(t){e++,d.UserMap[t.username]=t.user_image.path200,d.Offers.length===e&&i()}):n.getUserOpenInfo(d.Offers[x].User_offer_username).then(function(t){e++,d.UserMap[t.username]=t.user_image.path200,d.Offers.length===e&&i()})}function i(){for(x in d.Offers)d.Offers[x].User_offer_username===d.user.username?(d.Offers[x].otherPath=d.UserMap[d.Offers[x].User_other_username],d.Offers[x].otherUser=d.Offers[x].User_other_username):(d.Offers[x].otherPath=d.UserMap[d.Offers[x].User_offer_username],d.Offers[x].otherUser=d.Offers[x].User_offer_username);l(),e.User=d.user,e.Offers=d.Offers}function l(){for(x in d.Offers){var e=d.Offers[x],t=e.TransactionPending._id,n=c(d.Offers[x]);n[0].id="modal_"+t;var r=!1;n[1].onclick=function(){r=!0},document.getElementById("appendModals").appendChild(n[0]),$("#modal_"+t).on("hidden.bs.modal",function(e){if(r){var t=e.currentTarget.id.replace("modal_","");r=!1,window.location="/#/pendingTrades-details-"+t}})}}function c(e){var t=e.User_offer_username,n=e.User_other_username,r=e.User_other_items,a=e.User_offer_items,s=document.createElement("div"),o=document.createElement("div"),i=document.createElement("div"),l=document.createElement("div"),c=document.createElement("div"),m=document.createElement("div");s.className="modal fade",o.className="modal-dialog",i.className="modal-content",l.className="modal-header",c.className="modal-body",m.className="modal-footer";var f=t+"'s Tradding Offer To "+n,g=document.createElement("h2");g.innerHTML=f,l.appendChild(g);var p=document.createElement("div");p.className="row",c.appendChild(p);var h=document.createElement("div"),_=document.createElement("div"),I=document.createElement("div");h.className="col-md-5",_.className="col-md-2",I.className="col-md-5";var v=document.createElement("img");v.src="images/trade.png",v.style.width="50px",v.style.height="50px";var y=document.createElement("div"),U=document.createElement("a");return U.className="btn btn-default",U.setAttribute("role","button"),U.innerHTML="View Location and Time Details",U.setAttribute("data-dismiss","modal"),y.appendChild(U),m.appendChild(y),u(r,d.ItemMap,h),u(a,d.ItemMap,I),_.appendChild(v),p.appendChild(h),p.appendChild(_),p.appendChild(I),i.appendChild(l),i.appendChild(c),i.appendChild(m),o.appendChild(i),s.appendChild(o),[s,U]}function u(e,t,n){for(x in e){var r=document.createElement("img");r.src=t[e[x]].image.path200,r.style.width="100px",r.style.height="120px",r.title=t[e[x]].name,n.appendChild(r)}}var d={};d.ItemMap={},d.user="",d.Offers=[],d.UserMap={},d.userImg="",n.getUserAccountInfo().then(function(e){d.user=e,d.userImg=e.user_image.path200,r.GetPendingOffers(e.username).then(function(e){d.Offers=e;for(x in e){for(y in e[x].User_other_items){var t=e[x].User_other_items[y];d.ItemMap[t]=1}for(z in e[x].User_offer_items){var t=e[x].User_offer_items[z];d.ItemMap[t]=1}}s(d.ItemMap)})})}]),angular.module("app").controller("PendingTradesDetailsCtrl",["$scope","$routeParams","UserSvc","OfferSvc","ReservationSvc","TradingItemSvc",function(e,t,n,r,a,s){function o(e){r.GetOneOfferById(e).then(function(e){i(e)})}function i(t){if(t.User_offer_username===e.User.username){for(x in t.User_offer_items)s.getItemById(t.User_offer_items[x]).then(function(t){e.UserImage.push(t)});for(x in t.User_other_items)s.getItemById(t.User_offer_items[x]).then(function(t){e.OtherImage.push(t)})}else{for(x in t.User_other_items)s.getItemById(t.User_other_items[x]).then(function(t){e.UserImage.push(t)});for(x in t.User_other_items)s.getItemById(t.User_offer_items[x]).then(function(t){e.OtherImage.push(t)})}}e.User={},e.UserImage=[],e.OtherImage=[],n.getUserAccountInfo().then(function(n){e.User=n,a.getReservation(t.id).then(function(t){e.Reservation=t,$("#areapicker").locationpicker({location:t.location,radius:200,zoom:17,enableAutocomplete:!0}),o(t.offerId)})})}]),angular.module("app").controller("PostItemCtrl",["$scope","$location","UserSvc","TradingItemSvc",function(e,t,n,r){function a(e){document.getElementById("post_item_error_"+e)&&(document.getElementById("post_item_error_"+e).style.display="block")}function s(e){document.getElementById("post_item_error_"+e)&&(document.getElementById("post_item_error_"+e).style.display="none")}e.getUser="",e.name_of_item="",e.description_of_item="",n.getUserAccountInfo().then(function(t){e.getUser=t.username,e.UserId=t._id}),e.submitPost=function(){var n=!1,o=new FormData,i=$("#post_item_image")[0].files[0];o.append("image",i),null==i&&(n=!0,document.getElementById("post_item_error_image")&&(document.getElementById("post_item_error_image").style.display="block"));var l={};l.name=e.name_of_item,l.description=e.description_of_item,l.user=e.getUser,l.user_id=e.UserId;for(x in l)null===l[x]||void 0===l[x]||l[x].length<=0?(a(x),n=!0):s(x);!1===n&&(document.getElementById("post_item_submit")&&document.getElementById("post_item_submit").setAttributeNode(document.createAttribute("disabled")),document.getElementById("post_item_h3_uploading")&&(document.getElementById("post_item_h3_uploading").style.display="block"),r.addItem(l,o).then(function(e){console.log(e),t.path("/postSuccessfull-"+e._id)}))}}]),angular.module("app").controller("PostItemSuccessCtrl",["$scope","$routeParams","TradingItemSvc",function(e,t,n){e.postItemSuccess={},n.getItemById(t.id).then(function(t){e.postItemSuccess=t,console.log(t)})}]),angular.module("app").controller("RegisterCtrl",["$scope","$location","UserSvc",function(e,t,n){e.register=function(r,a,s,o,i,l,c){n.register(r,a,s,o,i,l,c).then(function(n){e.$emit("login",n),t.path("register-setup"),window.location.reload()})},e.checkUniqueUser=function(){e.register_username.length>0&&n.check_username(e.register_username).then(function(e){var t=document.getElementById("register_UserCheck");t.style.display=e?"none":"block"})},e.checkUniqueEmail=function(){e.register_EmailCheck.length>0&&n.check_email(e.register_EmailCheck).then(function(e){var t=document.getElementById("register_EmailCheck");t.style.display=e?"none":"block"})},e.register_username="",e.register_EmailCheck="",e.UniqueEmail=!0,e.UniqueUser=!0}]),angular.module("app").controller("RegisterSetupCtrl",["$scope","UserSvc",function(e,t){var n={};n.username="",n.user={},e.register_setup_userImage="images/users/blank_user.png",t.getRegisterSession(),t.getUserAccountInfo().then(function(t){n.user=t,e.register_setup_username=t.username}),e.fileUpClient=function(){document.getElementById("register_setup_next").innerHTML="Next Step"},e.continueRegister=function(){var e=new FormData,r=$("#register_setup_images_file")[0].files[0];e.append("image",r),t.SetUserProfileImage(e,n.user._id),t.destoryRegisterSession()};var r=function(){t.destoryRegisterSession()};window.onbeforeunload=r,window.onhashchange=function(e){"https://lit-ridge-83847.herokuapp.com/#/register-setup"==e.oldURL&&t.destoryRegisterSession()},$("#myCarousel").carousel({interval:2576});var a=!1;$("#myCarousel").on("click",".nav a",function(){a=!0,$(".nav li").removeClass("active"),$(this).parent().addClass("active")}).on("slid.bs.carousel",function(e){if(!a){var t=$(".nav").children().length-1,n=$(".nav li.active");console.log(t),console.log(n),n.removeClass("active").next().addClass("active");t==parseInt(n.data("slide-to"))&&$(".nav li").first().addClass("active")}a=!1})}]),angular.module("app").directive("customOnChange",function(){return{restrict:"A",link:function(e,t,n){var r=e.$eval(n.customOnChange);t.bind("change",r)}}}),angular.module("app").controller("ReservationCtrl",["$scope","$routeParams","$location","UserSvc","OfferSvc","ReservationSvc","TradingItemSvc",function(e,t,n,r,a,s,o){$(function(){$("#datepicker").datepicker({showOn:"button",buttonImage:"https://i.imgur.com/xyqM5eV.png?2",buttonImageOnly:!0,buttonText:"Pick a date"}),$("#basicExample").timepicker()}),e.reservation={},e.reservation.offerId=t.id,e.reservation.location={},e.reservation.date={},e.submitReservation=function(){var t=$("#basicExample").val(),r=$("#datepicker").val();if(e.reservation.date.time=t,e.reservation.date.day=r,""===t||""===r)return void(document.getElementById("reservation_h4_warrning").style.display="block");s.makeReservation(e.reservation).then(function(e){for(x in e.data.User_other_items)o.setTradeTrueById(e.data.User_other_items[x]);for(x in e.data.User_offer_items)o.setTradeTrueById(e.data.User_offer_items[x]);n.path("/pendingTrades")})},r.getUserAccountInfo().then(function(t){e.reservation.location.latitude=t.geocode.lat,e.reservation.location.longitude=t.geocode.lng,$("#areapicker").locationpicker({location:{latitude:t.geocode.lat,longitude:t.geocode.lng},radius:200,inputBinding:{locationNameInput:$("#address")},enableAutocomplete:!0,onchanged:function(t,n,r){e.reservation.location=t}})})}]),angular.module("app").controller("UserCtrl",["$scope","UserSvc",function(e,t){document.getElementById("h1");t.getUserAccountInfo().then(function(t){e.User=t.username,e.userImage=t.user_image})}]),angular.module("app").controller("UserSettings",["$scope","UserSvc",function(e,t){var n={};n.formItems={},n.errorFormItems={},n.formItems.email=document.getElementById("user_settings_input_email"),n.formItems.first_name=document.getElementById("user_settings_input_first"),n.formItems.last_name=document.getElementById("user_settings_input_last"),n.formItems.username=document.getElementById("user_settings_input_username"),n.errorFormItems.username=document.getElementById("user_settings_check_username"),n.errorFormItems.email=document.getElementById("user_settings_check_email"),n.user_image=document.getElementById("user_settings_image"),n.fieldset=document.getElementById("user_settings_fieldSet"),n.containError=!1,n.originalUser={},t.getLogInSession(),t.getUserAccountInfo().then(function(e){n.originalUser=e;for(x in n.formItems)n.formItems[x].setAttribute("value",e[x]);n.fieldset.removeAttribute("disabled"),e.user_image.hasOwnProperty("default")?n.user_image.src=e.user_image.default:n.user_image.src=e.user_image.path800}),e.checkUniqueEmail=function(){n.formItems.email.value.length>0&&n.formItems.email.value!=n.originalUser.email&&t.check_email(n.formItems.email.value).then(function(e){e?(n.errorFormItems.email.style.display="none",n.containError=!1):(n.errorFormItems.email.style.display="block",n.containError=!0)})},e.checkUniqueUsername=function(){n.formItems.username.value.length>0&&n.formItems.username.value!=n.originalUser.username&&t.check_username(n.formItems.username.value).then(function(e){e?(n.errorFormItems.username.style.display="none",n.containError=!1):(n.errorFormItems.username.style.display="block",n.containError=!0)})},e.ConfirmChanges=function(){n.containError||t.updateUserContent(n.formItems.email.value,n.formItems.first_name.value,n.formItems.last_name.value,n.formItems.username.value,n.originalUser._id).then(function(e){document.getElementById("user_settings_h3_change").style.display="block"})},e.fileUploadReady=function(){document.getElementById("user_settings_submit").removeAttribute("disabled"),document.getElementById("user_settings_h4_imgUp").style.display="none"},e.submitImage=function(){var e=new FormData,r=$("#user_settings_images_input")[0].files[0];e.append("image",r);var a=document.createAttribute("disabled");document.getElementById("user_settings_submit").setAttributeNode(a),t.SetUserProfileImage(e,n.originalUser._id).then(function(e){document.getElementById("user_settings_h4_imgUp").style.display="block"})}}]),angular.module("app").directive("customOnChange",function(){return{restrict:"A",link:function(e,t,n){var r=e.$eval(n.customOnChange);t.bind("change",r)}}}),angular.module("app").controller("UserSettingsPassword",["$scope","UserSvc",function(e,t){e.updatePassword=function(){if(e.UserPassword.length>0&&e.NewPassword.length>0&&e.ConfirmNewPassword.length>0)if(document.getElementById("user_settings_password_p_success").style.display="none",e.NewPassword!=e.UserPassword&&e.ConfirmNewPassword==e.NewPassword){var n=document.createAttribute("disabled");document.getElementById("user_settings_password_btn_UP").setAttributeNode(n),document.getElementById("user_settings_password_p_matching").style.display="none",document.getElementById("user_settings_password_p_confirm").style.display="none",t.changePassword(e.UserPassword,e.NewPassword).then(function(e){200==e.status?(document.getElementById("user_settings_password_p_success").style.display="block",document.getElementById("user_settings_password_p_wrong").style.display="none",document.getElementById("user_settings_password_btn_UP").removeAttribute("disabled")):406==e.status&&(document.getElementById("user_settings_password_p_wrong").style.display="block",document.getElementById("user_settings_password_btn_UP").removeAttribute("disabled"))})}else e.NewPassword==e.UserPassword?(document.getElementById("user_settings_password_p_matching").style.display="block",console.log("pop")):e.ConfirmNewPassword!=e.NewPassword&&(document.getElementById("user_settings_password_p_confirm").style.display="block",console.log("hit"))}}]),angular.module("app").service("ChatSvc",["$http",function(e){var t=this;t.getRecentMessages=function(t){return e.get("api/chat/"+t).then(function(e){return e.data})},t.sendMessage=function(t,n){return e.post("api/chat/",{otherUser:t,body:n})},t.sendMessageWithOfferID=function(t,n,r){return e.post("api/chat/special/",{otherUser:t,body:n,offerId:r})}}]),angular.module("app").service("GeoSvc",["$http",function(e){this.getCityState=function(t){return e.get("/api/geo/"+t.coords.latitude+"-"+t.coords.longitude).then(function(e){return e.data})}}]),angular.module("app").service("OfferSvc",["$http",function(e){var t=this;t.GetAllOffersByUserName=function(t){return e.get("/api/offers/username/"+t).then(function(e){return e.data})},t.GetOneOfferById=function(t){return e.get("/api/offers/id/"+t).then(function(e){return e.data})},t.makeOffer=function(t){return e.post("/api/offers/make/",t).then(function(e){return e.data})},t.setReservation=function(t){return e.put("/api/offers/addTransactionPending/",t).then(function(e){return e})},t.GetPendingOffers=function(t){return e.get("/api/offers/pending/username/"+t).then(function(e){return e.data})}}]),angular.module("app").service("ReservationSvc",["$http","OfferSvc",function(e,t){var n=this;n.makeReservation=function(n){return e.post("/api/reservation/make/",n).then(function(e){var n=e.data;n.shift();var r={};return r.offerId=n[0].offerId,r.TransactionPendingId=n[0]._id,r.offerStatus="accepted",t.setReservation(r)})},n.declineReservation=function(){},n.getReservation=function(t){return e.get("/api/transPend/getTransPend/findOne/"+t).then(function(e){return e.data})}}]),angular.module("app").service("TradingItemSvc",["$http",function(e){var t=this;t.addItem=function(t,n){return e.post("api/trading/addItem/",t).then(function(t){return console.log(t),e.put("api/trading/updateImage/"+t.data._id,n,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){return console.log(e),e.data})})},t.getUsersTradingObjects=function(t){return e.get("api/chat/"+t).then(function(e){return e.data})},t.getAllUserTradingItems=function(t){return e.get("api/trading/getItems/"+t).then(function(e){return e.data.shift(),e.data})},t.getAllItems=function(){return e.get("api/trading/getAllItems/").then(function(e){return e.data})},t.getAllItemsBut=function(t){return e.get("api/trading/getAllItemsBut/"+t).then(function(e){return e.data})},t.getItemById=function(t){return e.get("api/trading/getItems/findOne/"+t).then(function(e){return e.data})},t.deleteItem=function(t){return e.delete("api//trading/deleteItems/"+t).then(function(e){return e})},t.editItem=function(t){return e.put("api/trading/editItems/"+t).then(function(e){return e})},t.getItemFromCityState=function(t){return e.get("api/trading/grabItemByCity-State/"+t.city+"-"+t.state).then(function(e){return"ERROR"===e.data[0].status?e.data:(e.data.shift(),e.data)})},t.getItemFromCityStateAvoidUser=function(t,n){return e.get("api/trading/grabItemByCity-State/avoid-"+n+"/"+t.city+"-"+t.state).then(function(e){return"ERROR"===e.data[0].status?e.data:(e.data.shift(),e.data)})},t.setTradeTrueById=function(t){return e.get("api/trading/setTradeTrueById/"+t).then(function(e){return e})},t.setTradeFalseById=function(t){return e.get("api/trading/setTradeFalseById/"+t).then(function(e){return e})},t.getSearchItem=function(t){
return e.get("api/itemSearch/search/"+t).then(function(e){return e.data})}}]),angular.module("app").service("UserSvc",["$http","$q",function(e,t){var n=this;n.updateUserContent=function(t,n,r,a,s){return e.post("api/users/updateUser/",{email:t,first_name:n,last_name:r,username:a,_id:s})},n.SetUserProfileImage=function(t,n){return e.post("api/users/profileImage/"+n,t,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){return e.data})},n.check_username=function(t){return e.get("/api/users/checkUsername/"+t).then(function(e){return e.data})},n.check_email=function(t){return e.get("/api/users/checkEmail/"+t).then(function(e){return e.data})},n.getUser=function(){return e.get("/api/users").then(function(e){return e.data})},n.login=function(t,r){return e.post("/api/sessions",{username:t,password:r}).then(function(t){return e.defaults.headers.common["X-Auth"]=t.data,n.getUser()},function(e){return e})},n.register=function(t,r,a,s,o,i,l){return e.post("/api/users",{first_name:t,last_name:r,username:a,password:s,email:o,location:{city:i,state:l}}).then(function(e){return console.log(e),n.calculateLatLng(e.data._id,i,l),n.login(a,s)})},n.calculateLatLng=function(t,n,r){return console.log("HIT"),e.put("/api/users/updateLatLong/"+t+"-"+n+"-"+r)},n.getUserAccountInfo=function(){return e.get("/api/users/user/accountInfo").then(function(e){return e.data})},n.changePassword=function(t,n){return console.log(t,n),e.post("/api/users/user/changepassword",{password:t,new_password:n}).then(function(e){return e},function(e){return e})},n.getUserOpenInfo=function(t){return e.get("/api/users/userOpen/"+t).then(function(e){return e.data})},n.logout=function(){return e.get("/api/users/logout")},n.returnSessionUserName=function(){return e.get("/api/users/user").then(function(e){return e.data})},n.hasSession=function(){return e.get("/api/users/session").then(function(e){return e.data})},n.getLogInSession=function(){return e.get("/api/users/login/session").then(function(e){return e.data})},n.getRegisterSession=function(){return e.get("/api/users/register/session").then(function(e){return e.data})},n.destoryRegisterSession=function(){return e.post("/api/users/register/session/destroy/")}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsIlJvdXRlcy5qcyIsImNydGwudXNlci5qcyIsImN0cmwuYXBwbGljYXRpb24uanMiLCJjdHJsLmJhcnRlci5qcyIsImN0cmwuaG9tZS5qcyIsImN0cmwubG9naW4uanMiLCJjdHJsLm15X2l0ZW1zLmpzIiwiY3RybC5wZW5kaW5nVHJhZGVzLmpzIiwiY3RybC5wZW5kaW5nVHJhZGVzRGV0YWlsLmpzIiwiY3RybC5wb3N0X2l0ZW0uanMiLCJjdHJsLnBvc3RfaXRlbV9zdWNjZXNzLmpzIiwiY3RybC5yZWdpc3Rlci5qcyIsImN0cmwucmVnaXN0ZXJTZXRVcC5qcyIsImN0cmwucmVzZXJ2ZS5qcyIsImN0cmwudXNlci5qcyIsImN0cmwudXNlcl9zZXR0aW5ncy5qcyIsImN0cmwudXNlcl9zZXR0aW5nc19wYXNzd29yZC5qcyIsInN2Yy5jaGF0LmpzIiwic3ZjLmdlby5qcyIsInN2Yy5vZmZlcnMuanMiLCJzdmMucmVzZXJ2YXRpb24uanMiLCJzdmMudHJhZGluZ0l0ZW0uanMiLCJzdmMudXNlci5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwiJHJvdXRlUHJvdmlkZXIiLCJ3aGVuIiwiY29udHJvbGxlciIsInRlbXBsYXRlVXJsIiwib3RoZXJ3aXNlIiwicmVkaXJlY3RUbyIsImZhY3RvcnkiLCIkcSIsIiRsb2NhdGlvbiIsInJlc3BvbnNlIiwicmVzcG9uc2VFcnJvciIsInJlamVjdGlvbiIsInN0YXR1cyIsInBhdGgiLCJyZWplY3QiLCIkaHR0cFByb3ZpZGVyIiwiaW50ZXJjZXB0b3JzIiwicHVzaCIsIiRzY29wZSIsIlVzZXJTdmMiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZ2V0VXNlck9wZW5JbmZvIiwidGhlbiIsInVzZXJJbmYiLCJjb25zb2xlIiwibG9nIiwidXNlcl9uYW1lIiwiZmlyc3RfbmFtZSIsImxhc3RfbmFtZSIsInVzZXJfdHJhZGluZ19pdGVtcyIsImxvZ291dCIsImN1cnJlbnRVc2VyIiwibG9jYWxTdG9yYWdlIiwiY2xlYXIiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlbG9hZCIsImhhc1Nlc3Npb24iLCJnZXRVc2VyQWNjb3VudEluZm8iLCIkcm91dGVQYXJhbXMiLCJDaGF0U3ZjIiwiVHJhZGluZ0l0ZW1TdmMiLCJPZmZlclN2YyIsImNyZWF0ZUxpSXRlbUh0bWwiLCJpdGVtIiwibGkiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiaDUiLCJpbm5lckhUTUwiLCJuYW1lIiwiaW1nIiwic3JjIiwiaW1hZ2UiLCJwYXRoMjAwIiwid2lkdGgiLCJoZWlnaHQiLCJhX2JhcnQiLCJ0aXRsZSIsImFwcGVuZENoaWxkIiwic2V0QXR0cmlidXRlIiwiX2lkIiwicmVtb3ZlRWxlbWVudEJ5VmFsdWUiLCJhcnIiLCJ2YWx1ZSIsIngiLCJzcGxpY2UiLCJncmVhdGVyU3RyaW5nIiwiczEiLCJzMiIsImNyZWF0ZUJ1YmJsZSIsIk1lc3NhZ2VDb250ZW50IiwiY2xhc3NlcyIsImF1dGhvciIsImJhcnRlckNvbnRyb2xsZXIiLCJ1c2VyIiwiZGl2X21lc3NhZ2VfbGlzdCIsImRpdl9tZXNzYWdlIiwic3Bhbl9tZXNzYWdlIiwiYm9keSIsInJlcGxhY2UiLCJvZmZlcklkIiwiaWQiLCJzcGVjaWFsIiwic3R5bGUiLCJjb2xvciIsImQiLCJzY3JvbGxUb3AiLCJzY3JvbGxIZWlnaHQiLCJ0aHJvd0Vycm9yIiwiZGlzcGxheSIsInJlbW92ZUl0ZW1zIiwiZ2FsbGVyeV91bF9pdGVtIiwiZ2FsbGVyeTJfdWxfaXRlbSIsImkiLCJjaGlsZHJlbiIsImxlbmd0aCIsImNsaWNrIiwiY3JlYXRlTW9kYWwiLCJVc2VyQXJyYXkiLCJPdGhlckFycmF5IiwiT3JkZXJDYXNlIiwib3RoZXJVc2VyIiwib3RoZXJ1c2VyIiwibW9kYWxEaXYiLCJtb2RhbERpYWxvZyIsIm1vZGFsQ29udGVudCIsIm1vZGFsSGVhZGVyIiwibW9kYWxCb2R5IiwibW9kYWxGb290ZXIiLCJoZWFkZXJTdHJpbmciLCJoMl90aXRsZSIsImRpdlJvdyIsImRpdkJvZHkxIiwiZGl2Qm9keTIiLCJkaXZCb2R5MyIsImNyZWF0ZUltYWdlSXRlbSIsIkl0ZW1zX1VzZXIiLCJJdGVtc19PdGhlcl9Vc2VyIiwibW9kYWxEaXZGb290IiwiaDMiLCJhX3llcyIsImFfbm8iLCJpdGVtcyIsIml0ZW1NYXAiLCJkaXYiLCJuZXdJbWciLCJoYXNJdGVtcyIsIm1hcCIsInVzZXJUYWciLCJDdXJyZW50VXNlckl0ZW1zIiwiVXNlckl0ZW1zIiwiT3RoZXJVc2VySXRlbXMiLCJFbmFibGVEcmFnIiwiR2FsbGVyeU5hbWUiLCJUcmFzaE5hbWUiLCJDb250YWlubWVudE5hbWUiLCJkZWxldGVJbWFnZSIsIiRpdGVtIiwiYXR0ciIsImZhZGVPdXQiLCIkbGlzdCIsIiQiLCIkdHJhc2giLCJhcHBlbmRUbyIsImZpbmQiLCJyZW1vdmUiLCJhcHBlbmQiLCJyZWN5Y2xlX2ljb24iLCJmYWRlSW4iLCJhbmltYXRlIiwicmVjeWNsZUltYWdlIiwiZW5kIiwiY3NzIiwidHJhc2hfaWNvbiIsIiRnYWxsZXJ5Iiwidmlld0xhcmdlckltYWdlIiwiJGxpbmsiLCJzaWJsaW5ncyIsIiRtb2RhbCIsImRpYWxvZyIsInNldFRpbWVvdXQiLCJtb2RhbCIsImRyYWdnYWJsZSIsImNhbmNlbCIsInJldmVydCIsImNvbnRhaW5tZW50IiwiaGVscGVyIiwiY3Vyc29yIiwiZHJvcHBhYmxlIiwiYWNjZXB0IiwidWktZHJvcHBhYmxlLWFjdGl2ZSIsImRyb3AiLCJldmVudCIsInVpIiwib24iLCJ0aGlzIiwiJHRhcmdldCIsInRhcmdldCIsImlzIiwiZ2V0QWxsVXNlclRyYWRpbmdJdGVtcyIsImdhbGxlcnkyIiwidHJhZGVkIiwicmV0dXJuU2Vzc2lvblVzZXJOYW1lIiwidXNlck5hbWUiLCJzdHJpbmdQYXJhbXMiLCJnYWxsZXJ5IiwiZ2V0UmVjZW50TWVzc2FnZXMiLCJjb252Iiwic29ja2V0IiwiaW8iLCJjb25uZWN0IiwibWVzc2FnZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJwcmV2ZW50RGVmYXVsdCIsImtleUNvZGUiLCJlbWl0IiwidGFnIiwic2VuZE1lc3NhZ2UiLCJkYXRhIiwiJG9uIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiU3VibWl0T2ZmZXIiLCJtb2RhbENyZWF0aW9uIiwib2ZmZXIiLCJVc2VyX29mZmVyX3VzZXJuYW1lIiwiVXNlcl9vdGhlcl91c2VybmFtZSIsIlVzZXJfb2ZmZXJfaXRlbXMiLCJVc2VyX290aGVyX2l0ZW1zIiwibWFrZU9mZmVyIiwiZG9jIiwic2hpZnQiLCJkb2NJZCIsInN1YnN0ciIsIm9uY2xpY2siLCJyZWRpcmVjdCIsInNlbmRNZXNzYWdlV2l0aE9mZmVySUQiLCJGaXJlTW9kYWwiLCJkb25lIiwiR2V0T25lT2ZmZXJCeUlkIiwiT2ZmZXIiLCJhbGVydCIsImNoZWNrQ2xpY2siLCJUcmFuc2FjdGlvblBlbmRpbmciLCJhY2NlcHRlZCIsImUiLCJjdXJyZW50VGFyZ2V0Iiwib2JqIiwib2ZmZXJTdGF0dXMiLCJzZXRSZXNlcnZhdGlvbiIsInN0dWZmIiwiJHJvb3RTY29wZSIsIkdlb1N2YyIsImdldEl0ZW1zQnlDaXR5U3RhdGUiLCJTZXNzaW9uTmFtZSIsImdldEl0ZW1Gcm9tQ2l0eVN0YXRlQXZvaWRVc2VyIiwidXNyX2xvY19vYmoiLCJJdGVtcyIsImNpdHlTdGF0ZSIsImNpdHkiLCJzdGF0ZSIsIm1ha2VTbGlkZXJIdG1sIiwiY29tYmluZU5lc3RlZEFycmF5cyIsImhvbWVfY2l0eURvbSIsIkNpdHlJdGVtcyIsImdldEFsbEl0ZW1zQnV0IiwiQWxsSXRlbXMiLCJob21lX2FsbEl0ZW1Eb20iLCJnZXRJdGVtRnJvbUNpdHlTdGF0ZSIsImdldEFsbEl0ZW1zIiwiSW5wdXQiLCJhcnJheSIsInkiLCJnZXRMb2NhdGlvbiIsIm5hdmlnYXRvciIsImdlb2xvY2F0aW9uIiwiZ2V0Q3VycmVudFBvc2l0aW9uIiwic2hvd1Bvc2l0aW9uIiwiVXNlckNpdHkiLCJwb3NpdGlvbiIsImdldENpdHlTdGF0ZSIsIlVzZXJHZW8iLCJ1c3JfbG9jX3N0cmluZyIsIkpTT04iLCJzdHJpbmdpZnkiLCJzZXRJdGVtIiwic2V0Q29kZSIsIkNpdHkiLCJEb20iLCJzY29wZUFycmF5IiwiSXRlbVRpdGxlIiwibmV3U2V0Q29kZSIsInNlY3Rpb24iLCJjbGFzcyIsImRpdlRlbXAiLCJpbWdUZW1wIiwiaW1nVGVtcE5hbWUiLCJzbGlkZXJDb2xsZWN0aW9uIiwic2xpY2siLCJhcnJvd3MiLCJkb3RzIiwiaW5maW5pdGUiLCJzbGlkZXNUb1Nob3ciLCJzbGlkZXNUb1Njcm9sbCIsInNldExpc3RlbmVycyIsIkhvbWVDdHJsUmVkaXJlY3QiLCJzdHIiLCJnZXRJdGVtIiwicGFyc2UiLCJHZXRMb2NhdGlvbiIsIlNlYXJjaEJhciIsIlNlYXJjaEl0ZW1zIiwic2VhcmNoIiwiZ2V0U2VhcmNoSXRlbSIsInRlbXAiLCJuZ1JlcGVhdEZpbmlzaGVkRXZlbnQiLCJkaXJlY3RpdmUiLCIkdGltZW91dCIsInJlc3RyaWN0IiwibGluayIsInNjb3BlIiwiZWxlbWVudCIsIiRsYXN0IiwiJGVtaXQiLCJvbkZpbmlzaFJlbmRlciIsImhhbmRsZUh0bWxFcnJvciIsInNob3dWaWV3IiwibG9naW4iLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwiRmlsbFN0cmluZyIsInN0cmluZyIsIm51bWJlck9mIiwiVXNlck9iamVjdCIsIlVzZXJzIiwiVHJhZGluZ09iamVjdCIsImRlc2NyaXB0aW9uIiwic3Vic3RyaW5nIiwiZ2V0SW1hZ2VzIiwiTWFwT2ZJZHMiLCJjb3VudCIsImltYWdlQ291bnQiLCJnZXRJdGVtQnlJZCIsInBlbmRpbmdUcmFkZXMiLCJJdGVtTWFwIiwiZ2V0VXNlckltYWdlIiwiT2ZmZXJzIiwiVXNlck1hcCIsInVzZXJfaW1hZ2UiLCJzZXRVc2VySW1hZ2UiLCJvdGhlclBhdGgiLCJqb2luVGhlbSIsIlVzZXIiLCJpZFRlbXAiLCJpdENsaWtlZCIsIlBlbmRpbmdUcmFkZU9iaiIsInVzZXJJbWciLCJHZXRQZW5kaW5nT2ZmZXJzIiwieiIsIlJlc2VydmF0aW9uU3ZjIiwiZ3JhYk9mZmVyIiwicHJvY2Nlc3NPZmZlciIsIkl0ZW0iLCJVc2VySW1hZ2UiLCJPdGhlckltYWdlIiwiZ2V0UmVzZXJ2YXRpb24iLCJyZXNlcnZhdGlvbiIsIlJlc2VydmF0aW9uIiwibG9jYXRpb25waWNrZXIiLCJyYWRpdXMiLCJ6b29tIiwiZW5hYmxlQXV0b2NvbXBsZXRlIiwiZGlzcGxheUVycm9yIiwibmFtZU9mIiwicmVtb3ZlRXJyb3IiLCJnZXRVc2VyIiwibmFtZV9vZl9pdGVtIiwiZGVzY3JpcHRpb25fb2ZfaXRlbSIsIlVzZXJJZCIsInN1Ym1pdFBvc3QiLCJlcnJvcnMiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiZmlsZSIsImZpbGVzIiwidHJhZGluZ09iamVjdCIsInVzZXJfaWQiLCJ1bmRlZmluZWQiLCJzZXRBdHRyaWJ1dGVOb2RlIiwiY3JlYXRlQXR0cmlidXRlIiwiYWRkSXRlbSIsInBvc3RJdGVtU3VjY2VzcyIsInJlZ2lzdGVyIiwiZW1haWwiLCJjaGVja1VuaXF1ZVVzZXIiLCJyZWdpc3Rlcl91c2VybmFtZSIsImNoZWNrX3VzZXJuYW1lIiwibGFiZWwiLCJjaGVja1VuaXF1ZUVtYWlsIiwicmVnaXN0ZXJfRW1haWxDaGVjayIsImNoZWNrX2VtYWlsIiwiVW5pcXVlRW1haWwiLCJVbmlxdWVVc2VyIiwiUmVnaXN0ZXJTZXRVcCIsInJlZ2lzdGVyX3NldHVwX3VzZXJJbWFnZSIsImdldFJlZ2lzdGVyU2Vzc2lvbiIsInJlZ2lzdGVyX3NldHVwX3VzZXJuYW1lIiwiZmlsZVVwQ2xpZW50IiwiY29udGludWVSZWdpc3RlciIsIlNldFVzZXJQcm9maWxlSW1hZ2UiLCJkZXN0b3J5UmVnaXN0ZXJTZXNzaW9uIiwiZGVzdG9yeVJlZ2lzdGVyIiwib25iZWZvcmV1bmxvYWQiLCJvbmhhc2hjaGFuZ2UiLCJvbGRVUkwiLCJjYXJvdXNlbCIsImludGVydmFsIiwiY2xpY2tFdmVudCIsInJlbW92ZUNsYXNzIiwicGFyZW50IiwiYWRkQ2xhc3MiLCJjdXJyZW50IiwibmV4dCIsInBhcnNlSW50IiwiZmlyc3QiLCJhdHRycyIsIm9uQ2hhbmdlSGFuZGxlciIsIiRldmFsIiwiY3VzdG9tT25DaGFuZ2UiLCJiaW5kIiwiZGF0ZXBpY2tlciIsInNob3dPbiIsImJ1dHRvbkltYWdlIiwiYnV0dG9uSW1hZ2VPbmx5IiwiYnV0dG9uVGV4dCIsInRpbWVwaWNrZXIiLCJkYXRlIiwic3VibWl0UmVzZXJ2YXRpb24iLCJ0aW1lIiwidmFsIiwiZGF5IiwibWFrZVJlc2VydmF0aW9uIiwic2V0VHJhZGVUcnVlQnlJZCIsImxhdGl0dWRlIiwiZ2VvY29kZSIsImxhdCIsImxvbmdpdHVkZSIsImxuZyIsImlucHV0QmluZGluZyIsImxvY2F0aW9uTmFtZUlucHV0Iiwib25jaGFuZ2VkIiwiY3VycmVudExvY2F0aW9uIiwiaXNNYXJrZXJEcm9wcGVkIiwidXNlckltYWdlIiwiVXNlclN2Y09iaiIsImZvcm1JdGVtcyIsImVycm9yRm9ybUl0ZW1zIiwiZmllbGRzZXQiLCJjb250YWluRXJyb3IiLCJvcmlnaW5hbFVzZXIiLCJnZXRMb2dJblNlc3Npb24iLCJyZW1vdmVBdHRyaWJ1dGUiLCJoYXNPd25Qcm9wZXJ0eSIsImRlZmF1bHQiLCJwYXRoODAwIiwiY2hlY2tVbmlxdWVVc2VybmFtZSIsIkNvbmZpcm1DaGFuZ2VzIiwidXBkYXRlVXNlckNvbnRlbnQiLCJmaWxlVXBsb2FkUmVhZHkiLCJzdWJtaXRJbWFnZSIsImRpcyIsInJlc3VsdHMiLCJ1cGRhdGVQYXNzd29yZCIsIlVzZXJQYXNzd29yZCIsIk5ld1Bhc3N3b3JkIiwiQ29uZmlybU5ld1Bhc3N3b3JkIiwiY2hhbmdlUGFzc3dvcmQiLCJzZXJ2aWNlIiwiJGh0dHAiLCJzdmMiLCJnZXQiLCJtZXNzYWdlQm9keSIsInBvc3QiLCJjb29yZHMiLCJHZXRBbGxPZmZlcnNCeVVzZXJOYW1lIiwiVXNlcm5hbWUiLCJPZmZlck9iamVjdCIsIk9mZmVyQ3JlYXRlZCIsIlJlc2VydmF0aW9uT2JqZWN0IiwicHV0Iiwib2ZmZXJDcmVhdGVkIiwicmVzZXJ2YXRpb25PYmplY3QiLCJUcmFuc2FjdGlvblBlbmRpbmdJZCIsImRlY2xpbmVSZXNlcnZhdGlvbiIsImZvcm0iLCJ0cmFuc2Zvcm1SZXF1ZXN0IiwiaWRlbnRpdHkiLCJoZWFkZXJzIiwiQ29udGVudC1UeXBlIiwicmVzcG9uc2UyIiwiZ2V0VXNlcnNUcmFkaW5nT2JqZWN0cyIsImFsbEl0ZW0iLCJhbGxJdGVtcyIsIlVzZXJOYW1lIiwiZGVsZXRlSXRlbSIsImRlbGV0ZSIsImVkaXRJdGVtIiwiR2VvT2JqZWN0Iiwic2V0VHJhZGVGYWxzZUJ5SWQiLCJTZWFyY2giLCJmaXJzdG5hbWUiLCJsYXN0bmFtZSIsIkZvcm0iLCJkZWZhdWx0cyIsImNvbW1vbiIsImVyciIsImNhbGN1bGF0ZUxhdExuZyIsIm5ld19wYXNzd29yZCJdLCJtYXBwaW5ncyI6IkFBQUFBLFFBQVFDLE9BQU8sT0FBTyxZQ0F0QkQsUUFBUUMsT0FBTyxPQUNaQyxRQUFBLGlCQUFPLFNBQVVDLEdBQ2RBLEVBQ0tDLEtBQUssS0FBS0MsV0FBWSxXQUFZQyxZQUFZLHlCQUM5Q0YsS0FBSyxhQUFhQyxXQUFXLGVBQWVDLFlBQVksNkJBQ3hERixLQUFLLFVBQVVDLFdBQVcsWUFBWUMsWUFBWSwwQkFDbERGLEtBQUssMkJBQTJCQyxXQUFXLGFBQWFDLFlBQVksMkJBQ3BFRixLQUFLLGFBQWNDLFdBQVksY0FBZUMsWUFBYSw0QkFDM0RGLEtBQUssZUFBZUUsWUFBWSxtQ0FDaENGLEtBQUssbUJBQW1CQyxXQUFXLG9CQUFvQkMsWUFBWSxrQ0FDbkVGLEtBQUssa0JBQWtCQyxXQUFXLGVBQWVDLFlBQVksaUNBQzdERixLQUFLLDJCQUEyQkMsV0FBVyx1QkFBdUJDLFlBQVkseUNBQzlFRixLQUFLLGFBQWNDLFdBQVcsZUFBZ0JDLFlBQVksNkJBQzFERixLQUFLLHdCQUF5QkMsV0FBVyxzQkFBdUJDLFlBQVksb0NBQzVFRixLQUFLLDBCQUEwQkMsV0FBVyxrQkFBa0JDLFlBQVksZ0NBQ3hFRixLQUFLLGtCQUFtQkMsV0FBVyxvQkFBb0JDLFlBQVksa0NB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QUFPQSxHQUFTK0wsUUFLcEJvUSxFQUFJMUUsbUJBQXFCLFdBQ3ZCLE1BQU95RSxHQUFNRSxJQUFJLCtCQUNoQnRiLEtBQUssU0FBU2QsR0FDYixNQUFPQSxHQUFTK0wsUUFLcEJvUSxFQUFJckUsdUJBQXlCLFdBQzNCLE1BQU9vRSxHQUFNSSxLQUFLIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXIubW9kdWxlKCdhcHAnLFsnbmdSb3V0ZSddKTtcbiIsImFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpXG4gIC5jb25maWcoZnVuY3Rpb24gKCRyb3V0ZVByb3ZpZGVyKSB7XG4gICAgICAkcm91dGVQcm92aWRlclxuICAgICAgICAgIC53aGVuKFwiL1wiLHtjb250cm9sbGVyOiBcIkhvbWVDdHJsXCIsIHRlbXBsYXRlVXJsOlwiL3RlbXBsYXRlcy9Ib21lLmh0bWxcIn0pXG4gICAgICAgICAgLndoZW4oJy9yZWdpc3Rlcicse2NvbnRyb2xsZXI6J1JlZ2lzdGVyQ3RybCcsdGVtcGxhdGVVcmw6Jy90ZW1wbGF0ZXMvUmVnaXN0ZXIuaHRtbCd9KVxuICAgICAgICAgIC53aGVuKCcvbG9naW4nLHtjb250cm9sbGVyOidMb2dpbkN0cmwnLHRlbXBsYXRlVXJsOicvdGVtcGxhdGVzL0xvZ2luLmh0bWwnfSlcbiAgICAgICAgICAud2hlbignL2JhcnRlci11c2VyLTpvdGhlcnVzZXInLHtjb250cm9sbGVyOidCYXJ0ZXJDdHJsJyx0ZW1wbGF0ZVVybDonL3RlbXBsYXRlcy9CYXJ0ZXIuaHRtbCd9KVxuICAgICAgICAgIC53aGVuKCcvbXlfaXRlbXMnLCB7Y29udHJvbGxlcjogXCJNeUl0ZW1zQ3RybFwiLCB0ZW1wbGF0ZVVybDogXCIvdGVtcGxhdGVzL015SXRlbXMuaHRtbFwifSlcbiAgICAgICAgICAud2hlbignL2Jyb2tlbkxpbmsnLHt0ZW1wbGF0ZVVybDondGVtcGxhdGVzL0Jyb2tlbkxpbmtFcnJvci5odG1sJ30pXG4gICAgICAgICAgLndoZW4oJy9yZWdpc3Rlci1zZXR1cCcse2NvbnRyb2xsZXI6J1JlZ2lzdGVyU2V0dXBDdHJsJyx0ZW1wbGF0ZVVybDonL3RlbXBsYXRlcy9SZWdpc3RlclNldFVwLmh0bWwnfSlcbiAgICAgICAgICAud2hlbignL3VzZXItc2V0dGluZ3MnLHtjb250cm9sbGVyOidVc2VyU2V0dGluZ3MnLHRlbXBsYXRlVXJsOicvdGVtcGxhdGVzL1VzZXJTZXR0aW5ncy5odG1sJ30pXG4gICAgICAgICAgLndoZW4oJy91c2VyLXNldHRpbmdzLXBhc3N3b3JkJyx7Y29udHJvbGxlcjonVXNlclNldHRpbmdzUGFzc3dvcmQnLHRlbXBsYXRlVXJsOicvdGVtcGxhdGVzL1VzZXJTZXR0aW5nc1Bhc3N3b3JkLmh0bWwnfSlcbiAgICAgICAgICAud2hlbihcIi9wb3N0SXRlbVwiLCB7Y29udHJvbGxlcjpcIlBvc3RJdGVtQ3RybFwiLCB0ZW1wbGF0ZVVybDpcIi90ZW1wbGF0ZXMvUG9zdEl0ZW0uaHRtbFwifSlcbiAgICAgICAgICAud2hlbihcIi9wb3N0U3VjY2Vzc2Z1bGwtOmlkXCIsIHtjb250cm9sbGVyOlwiUG9zdEl0ZW1TdWNjZXNzQ3RybFwiLCB0ZW1wbGF0ZVVybDpcIi90ZW1wbGF0ZXMvUG9zdEl0ZW1TdWNjZXNzLmh0bWxcIn0pXG4gICAgICAgICAgLndoZW4oXCIvY3JlYXRlUmVzZXJ2YXRpb24tOmlkXCIse2NvbnRyb2xsZXI6XCJSZXNlcnZhdGlvbkN0cmxcIix0ZW1wbGF0ZVVybDpcIi90ZW1wbGF0ZXMvUmVzZXJ2YXRpb24uaHRtbFwifSlcbiAgICAgICAgICAud2hlbihcIi9wZW5kaW5nVHJhZGVzXCIsIHtjb250cm9sbGVyOlwiUGVuZGluZ1RyYWRlc0N0cmxcIix0ZW1wbGF0ZVVybDpcIi90ZW1wbGF0ZXMvUGVuZGluZ1RyYWRlcy5odG1sXCJ9KVxuICAgICAgICAgIC53aGVuKFwiL3BlbmRpbmdUcmFkZXMtZGV0YWlscy06aWRcIiwge2NvbnRyb2xsZXI6XCJQZW5kaW5nVHJhZGVzRGV0YWlsc0N0cmxcIiwgdGVtcGxhdGVVcmw6XCIvdGVtcGxhdGVzL1BlbmRpbmdUcmFkZXNEZXRhaWwuaHRtbFwifSlcbiAgICAgICAgICAud2hlbignL0Fib3V0Jyx7dGVtcGxhdGVVcmw6Jy90ZW1wbGF0ZXMvQWJvdXQuaHRtbCd9KVxuICAgICAgICAgIC53aGVuKCcvQ29udGFjdCcse3RlbXBsYXRlVXJsOicvdGVtcGxhdGVzL0NvbnRhY3QuaHRtbCd9KVxuICAgICAgICAgIC5vdGhlcndpc2Uoe3JlZGlyZWN0VG86ICcvJ30pO1xuICB9KVxuICAuZmFjdG9yeSgnYXV0aEh0dHBSZXNwb25zZUludGVyY2VwdG9yJyxbJyRxJywnJGxvY2F0aW9uJyxmdW5jdGlvbigkcSwkbG9jYXRpb24pe1xuICAgIHJldHVybiB7XG4gICAgXHRyZXNwb25zZTogZnVuY3Rpb24ocmVzcG9uc2Upe1xuICAgIFx0XHRyZXR1cm4gcmVzcG9uc2UgfHwgJHEud2hlbihyZXNwb25zZSk7XG4gICAgXHR9LFxuICAgIFx0cmVzcG9uc2VFcnJvcjogZnVuY3Rpb24ocmVqZWN0aW9uKSB7XG4gICAgXHRcdGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDEpIHtcbiAgICBcdFx0XHQkbG9jYXRpb24ucGF0aCgnL2xvZ2luJykvLy5zZWFyY2goJ3JldHVyblRvJywgJGxvY2F0aW9uLnBhdGgoKSk7XG4gICAgXHRcdH1lbHNlIGlmKCByZWplY3Rpb24uc3RhdHVzID09PSA0MDQpe1xuICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvYnJva2VuTGluaycpLy8uc2VhcmNoKCdyZXR1cm5UbycsJGxvY2F0aW9uLnBhdGgoKSk7XG4gICAgICAgIH1cbiAgICBcdFx0cmV0dXJuICRxLnJlamVjdChyZWplY3Rpb24pO1xuICAgIFx0fVxuICAgIH1cbiAgfV0pXG4gIC5jb25maWcoWyckaHR0cFByb3ZpZGVyJyxmdW5jdGlvbigkaHR0cFByb3ZpZGVyKSB7XG4gICAgLy9IdHRwIEludGVyY3BldG9yIHRvIGNoZWNrIGF1dGggZmFpbHVyZXMgZm9yIHhociByZXF1ZXN0c1xuICAgICRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goJ2F1dGhIdHRwUmVzcG9uc2VJbnRlcmNlcHRvcicpO1xuICB9XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJykuY29udHJvbGxlcignVXNlckN0cmwnLCBmdW5jdGlvbiAoJHNjb3BlLCBVc2VyU3ZjKSB7XG4gICAgdmFyIGgxX2hlYWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlcl9oMV9oZWFkZXJcIik7XG4gICAgVXNlclN2Yy5nZXRVc2VyT3BlbkluZm8oXCJiXCIpLnRoZW4oZnVuY3Rpb24odXNlckluZil7XG4gICAgICAgIGNvbnNvbGUubG9nKHVzZXJJbmYpO1xuICAgICAgICAkc2NvcGUudXNlcl9uYW1lID0gdXNlckluZi5maXJzdF9uYW1lICsgXCIgXCIrdXNlckluZi5sYXN0X25hbWVcbiAgICAgICAgLy9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXJfbmFtZVwiKS5pbm5lckhUTUwgPSB1c2VySW5mLmZpcnN0X25hbWU7XG4gICAgICAgICRzY29wZS51c2VyX3RyYWRpbmdfaXRlbXMgPSBbXCJpbWcxXCIsXCJpbWcyXCJdO1xuICAgIH0pO1xuXG4gICBcbn0pO1xuICAgICIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKS5jb250cm9sbGVyKCdBcHBsaWNhdGlvbkN0cmwnLCBmdW5jdGlvbiAoJHNjb3BlLFVzZXJTdmMsJGxvY2F0aW9uKSB7XG5cbiAgICAkc2NvcGUubG9nb3V0ID0gZnVuY3Rpb24oKXtcbiAgICAgICAgVXNlclN2Yy5sb2dvdXQoKTtcbiAgICAgICAgJHNjb3BlLmN1cnJlbnRVc2VyID0gbnVsbDtcbiAgICAgICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7XG4gICAgICAgICRsb2NhdGlvbi5wYXRoKFwiL1wiKTtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgIH07XG5cbiAgICBVc2VyU3ZjLmhhc1Nlc3Npb24oKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcbiAgICAgICAgaWYocmVzcG9uc2Upe1xuICAgICAgICAgIFVzZXJTdmMuZ2V0VXNlckFjY291bnRJbmZvKCkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgICAgICAgICAgICRzY29wZS5jdXJyZW50VXNlciA9IHJlc3BvbnNlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG59KTtcbiIsImFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJCYXJ0ZXJDdHJsXCIsIGZ1bmN0aW9uICgkc2NvcGUsICRyb3V0ZVBhcmFtcywgJGxvY2F0aW9uLCBDaGF0U3ZjLCBVc2VyU3ZjLCBUcmFkaW5nSXRlbVN2YywgT2ZmZXJTdmMpIHtcblxuICB2YXIgYmFydGVyQ29udHJvbGxlciA9IHt9O1xuICBiYXJ0ZXJDb250cm9sbGVyLm90aGVyVXNlciA9ICRyb3V0ZVBhcmFtcy5vdGhlcnVzZXI7XG4gIGJhcnRlckNvbnRyb2xsZXIudXNlciA9IFwiXCI7XG4gIGJhcnRlckNvbnRyb2xsZXIudXNlclRhZyA9IFwiXCJcbiAgJHNjb3BlLm90aGVyVXNlciA9IGJhcnRlckNvbnRyb2xsZXIub3RoZXJVc2VyO1xuICAkc2NvcGUuQ3VycmVudFVzZXJJdGVtcyA9IG51bGw7XG4gIGJhcnRlckNvbnRyb2xsZXIuVXNlckl0ZW1zID0gW107XG4gIGJhcnRlckNvbnRyb2xsZXIuT3RoZXJVc2VySXRlbXMgPSBbXTtcbiAgYmFydGVyQ29udHJvbGxlci5JdGVtc19Vc2VyID0ge307XG4gIGJhcnRlckNvbnRyb2xsZXIuSXRlbXNfT3RoZXJfVXNlciA9IHt9O1xuICAvLyBJT1ZBTk5JJ3MgQ09ERVxuICB2YXIgRW5hYmxlRHJhZyA9IGZ1bmN0aW9uKEdhbGxlcnlOYW1lLFRyYXNoTmFtZSxDb250YWlubWVudE5hbWUpIHtcbiAgICAgICAgLy8gVGhlcmUncyB0aGUgZ2FsbGVyeSBhbmQgdGhlIHRyYXNoXG4gICAgICAgIHZhciAkZ2FsbGVyeSA9ICQoXCIjXCIrR2FsbGVyeU5hbWUpLFxuICAgICAgICAgICR0cmFzaCA9ICQoXCIjXCIrVHJhc2hOYW1lKTtcblxuICAgICAgICAvLyBMZXQgdGhlIGdhbGxlcnkgaXRlbXMgYmUgZHJhZ2dhYmxlXG4gICAgICAgICQoXCJsaVwiLCAkZ2FsbGVyeSkuZHJhZ2dhYmxlKHtcblxuICAgICAgICAgIGNhbmNlbDogXCJhLnVpLWljb25cIiwgLy8gY2xpY2tpbmcgYW4gaWNvbiB3b24ndCBpbml0aWF0ZSBkcmFnZ2luZ1xuICAgICAgICAgIHJldmVydDogXCJpbnZhbGlkXCIsIC8vIHdoY29udGFpbm1lbnQtd3JhcHBlcmVuIG5vdCBkcm9wcGVkLCB0aGUgaXRlbSB3aWxsIHJldmVydCBiYWNrIHRvIGl0cyBpbml0aWFsIHBvc2l0aW9uXG4gICAgICAgICAgY29udGFpbm1lbnQ6IFwiI1wiK0NvbnRhaW5tZW50TmFtZSxcbiAgICAgICAgICBoZWxwZXI6IFwiY2xvbmVcIixcbiAgICAgICAgICBjdXJzb3I6IFwibW92ZVwiXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIExldCB0aGUgdHJhc2ggYmUgZHJvcHBhYmxlLCBhY2NlcHRpbmcgdGhlIGdhbGxlcnkgaXRlbXNcbiAgICAgICAgJHRyYXNoLmRyb3BwYWJsZSh7XG4gICAgICAgICAgYWNjZXB0OiBcIiNcIitHYWxsZXJ5TmFtZStcIiA+IGxpXCIsXG4gICAgICAgICAgY2xhc3Nlczoge1xuICAgICAgICAgICAgXCJ1aS1kcm9wcGFibGUtYWN0aXZlXCI6IFwidWktc3RhdGUtaGlnaGxpZ2h0XCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIGRyb3A6IGZ1bmN0aW9uIChldmVudCwgdWkpIHtcbiAgICAgICAgICAgIGRlbGV0ZUltYWdlKHVpLmRyYWdnYWJsZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBMZXQgdGhlIGdhbGxlcnkgYmUgZHJvcHBhYmxlIGFzIHdlbGwsIGFjY2VwdGluZyBpdGVtcyBmcm9tIHRoZSB0cmFzaFxuICAgICAgICAkZ2FsbGVyeS5kcm9wcGFibGUoe1xuICAgICAgICAgIGFjY2VwdDogXCIjXCIrVHJhc2hOYW1lK1wiIGxpXCIsXG4gICAgICAgICAgY2xhc3Nlczoge1xuICAgICAgICAgICAgXCJ1aS1kcm9wcGFibGUtYWN0aXZlXCI6IFwiY3VzdG9tLXN0YXRlLWFjdGl2ZVwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICBkcm9wOiBmdW5jdGlvbiAoZXZlbnQsIHVpKSB7XG4gICAgICAgICAgICByZWN5Y2xlSW1hZ2UodWkuZHJhZ2dhYmxlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEltYWdlIGRlbGV0aW9uIGZ1bmN0aW9uXG4gICAgICAgIHZhciByZWN5Y2xlX2ljb24gPSBcIjxhIHRpdGxlPSdSZW1vdmUgdGhpcyBpbWFnZScgY2xhc3M9J3VpLWljb24gdWktaWNvbi1yZWZyZXNoJz5SZW1vdmUgSXRlbTwvYT5cIjtcbiAgICAgICAgZnVuY3Rpb24gZGVsZXRlSW1hZ2UoJGl0ZW0pIHtcbiAgICAgICAgICAgIGlmIChHYWxsZXJ5TmFtZSA9PT0gXCJnYWxsZXJ5XCIpIHtcbiAgICAgICAgICAgICAgICBiYXJ0ZXJDb250cm9sbGVyLlVzZXJJdGVtcy5wdXNoKCRpdGVtLmF0dHIoXCJkYXRhXCIpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoR2FsbGVyeU5hbWUgPT09IFwiZ2FsbGVyeTJcIikge1xuICAgICAgICAgICAgICAgIGJhcnRlckNvbnRyb2xsZXIuT3RoZXJVc2VySXRlbXMucHVzaCgkaXRlbS5hdHRyKFwiZGF0YVwiKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICRpdGVtLmZhZGVPdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciAkbGlzdCA9ICQoXCJ1bFwiLCAkdHJhc2gpLmxlbmd0aCA/XG4gICAgICAgICAgICAgICAgJChcInVsXCIsICR0cmFzaCkgOlxuICAgICAgICAgICAgICAgICQoXCI8dWwgY2xhc3M9J1wiK0dhbGxlcnlOYW1lK1wiIHVpLWhlbHBlci1yZXNldCcvPlwiKS5hcHBlbmRUbygkdHJhc2gpO1xuICAgICAgICAgICAgICAgICRsaXN0LmF0dHIoXCJpZFwiLEdhbGxlcnlOYW1lK1wiX3VsX2l0ZW1cIik7XG4gICAgICAgICAgICAgICAgJGl0ZW0uZmluZChcImEudWktaWNvbi10cmFuc2ZlcnRoaWNrLWUtd1wiKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAkaXRlbS5hcHBlbmQocmVjeWNsZV9pY29uKS5hcHBlbmRUbygkbGlzdCkuZmFkZUluKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgJGl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgIC5hbmltYXRlKHsgd2lkdGg6IFwiNDhweFwiIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmluZChcImltZ1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFuaW1hdGUoeyBoZWlnaHQ6IFwiMzZweFwiIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbWFnZSByZWN5Y2xlIGZ1bmN0aW9uXG4gICAgICAgIHZhciB0cmFzaF9pY29uID0gXCI8YSB0aXRsZT0nUmVtb3ZlIHRoaXMgaW1hZ2UnIGNsYXNzPSd1aS1pY29uIHVpLWljb24tdHJhbnNmZXJ0aGljay1lLXcnPkRlbGV0ZSBpbWFnZTwvYT5cIjtcbiAgICAgICAgZnVuY3Rpb24gcmVjeWNsZUltYWdlKCRpdGVtKSB7XG4gICAgICAgICAgICBpZiAoR2FsbGVyeU5hbWUgPT09IFwiZ2FsbGVyeVwiKSB7XG4gICAgICAgICAgICAgICAgYmFydGVyQ29udHJvbGxlci5Vc2VySXRlbXMgPSByZW1vdmVFbGVtZW50QnlWYWx1ZShiYXJ0ZXJDb250cm9sbGVyLlVzZXJJdGVtcywkaXRlbS5hdHRyKFwiZGF0YVwiKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKEdhbGxlcnlOYW1lID09PSBcImdhbGxlcnkyXCIpIHtcbiAgICAgICAgICAgICAgICBiYXJ0ZXJDb250cm9sbGVyLk90aGVyVXNlckl0ZW1zID0gcmVtb3ZlRWxlbWVudEJ5VmFsdWUoYmFydGVyQ29udHJvbGxlci5PdGhlclVzZXJJdGVtcywkaXRlbS5hdHRyKFwiZGF0YVwiKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICRpdGVtLmZhZGVPdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICRpdGVtXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKFwiYS51aS1pY29uLXJlZnJlc2hcIilcbiAgICAgICAgICAgICAgICAgICAgLnJlbW92ZSgpXG4gICAgICAgICAgICAgICAgICAgIC5lbmQoKVxuICAgICAgICAgICAgICAgICAgICAuY3NzKFwid2lkdGhcIiwgXCI5NnB4XCIpXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQodHJhc2hfaWNvbilcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoXCJpbWdcIilcbiAgICAgICAgICAgICAgICAgICAgLmNzcyhcImhlaWdodFwiLCBcIjcycHhcIilcbiAgICAgICAgICAgICAgICAgICAgLmVuZCgpXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmRUbygkZ2FsbGVyeSlcbiAgICAgICAgICAgICAgICAgICAgLmZhZGVJbigpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbWFnZSBwcmV2aWV3IGZ1bmN0aW9uLCBkZW1vbnN0cmF0aW5nIHRoZSB1aS5kaWFsb2cgdXNlZCBhcyBhIG1vZGFsIHdpbmRvd1xuICAgICAgICBmdW5jdGlvbiB2aWV3TGFyZ2VySW1hZ2UoJGxpbmspIHtcbiAgICAgICAgICB2YXIgc3JjID0gJGxpbmsuYXR0cihcImhyZWZcIiksXG4gICAgICAgICAgICB0aXRsZSA9ICRsaW5rLnNpYmxpbmdzKFwiaW1nXCIpLmF0dHIoXCJhbHRcIiksXG4gICAgICAgICAgICAkbW9kYWwgPSAkKFwiaW1nW3NyYyQ9J1wiICsgc3JjICsgXCInXVwiKTtcblxuICAgICAgICAgIGlmICgkbW9kYWwubGVuZ3RoKSB7XG4gICAgICAgICAgICAkbW9kYWwuZGlhbG9nKFwib3BlblwiKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGltZyA9ICQoXCI8aW1nIGFsdD0nXCIgKyB0aXRsZSArIFwiJyB3aWR0aD0nMzg0JyBoZWlnaHQ9JzI4OCcgc3R5bGU9J2Rpc3BsYXk6IG5vbmU7IHBhZGRpbmc6IDhweDsnIC8+XCIpXG4gICAgICAgICAgICAgIC5hdHRyKFwic3JjXCIsIHNyYykuYXBwZW5kVG8oXCJib2R5XCIpO1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGltZy5kaWFsb2coe1xuICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgICAgICAgICB3aWR0aDogNDAwLFxuICAgICAgICAgICAgICAgIG1vZGFsOiB0cnVlXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSwgMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVzb2x2ZSB0aGUgaWNvbnMgYmVoYXZpb3Igd2l0aCBldmVudCBkZWxlZ2F0aW9uXG4gICAgICAgICQoXCJ1bC5cIitHYWxsZXJ5TmFtZStcIiA+IGxpXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgdmFyICRpdGVtID0gJCh0aGlzKSxcbiAgICAgICAgICAgICR0YXJnZXQgPSAkKGV2ZW50LnRhcmdldCk7XG5cbiAgICAgICAgICBpZiAoJHRhcmdldC5pcyhcImEudWktaWNvbi10cmFuc2ZlcnRoaWNrLWUtd1wiKSkge1xuICAgICAgICAgICAgZGVsZXRlSW1hZ2UoJGl0ZW0pO1xuICAgICAgICAgIH0gZWxzZSBpZiAoJHRhcmdldC5pcyhcImEudWktaWNvbi16b29taW5cIikpIHtcbiAgICAgICAgICAgIHZpZXdMYXJnZXJJbWFnZSgkdGFyZ2V0KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCR0YXJnZXQuaXMoXCJhLnVpLWljb24tcmVmcmVzaFwiKSkge1xuICAgICAgICAgICAgcmVjeWNsZUltYWdlKCRpdGVtKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgLy9mb3IgdGhlIG90aGVyIHVzZXJcblxuXG4gIFRyYWRpbmdJdGVtU3ZjLmdldEFsbFVzZXJUcmFkaW5nSXRlbXMoJHJvdXRlUGFyYW1zLm90aGVydXNlcilcbiAgICAudGhlbihmdW5jdGlvbiAoT3RoZXJVc2VySXRlbXMpIHtcblxuICAgICAgICB2YXIgZ2FsbGVyeTIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbGxlcnkyXCIpO1xuICAgICAgICBmb3IgKHggaW4gT3RoZXJVc2VySXRlbXMpIHtcbiAgICAgICAgICAgIGJhcnRlckNvbnRyb2xsZXIuSXRlbXNfT3RoZXJfVXNlcltPdGhlclVzZXJJdGVtc1t4XS5faWRdID0gT3RoZXJVc2VySXRlbXNbeF07XG4gICAgICAgICAgICBpZighT3RoZXJVc2VySXRlbXNbeF0udHJhZGVkKXtcbiAgICAgICAgICAgICAgICBnYWxsZXJ5Mi5hcHBlbmRDaGlsZChjcmVhdGVMaUl0ZW1IdG1sKE90aGVyVXNlckl0ZW1zW3hdKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgICAgICBFbmFibGVEcmFnKFwiZ2FsbGVyeTJcIixcInRyYXNoMlwiLFwiY29udGFpbm1lbnQtd3JhcHBlcjJcIik7XG4gICAgfSlcblxuICBmdW5jdGlvbiBjcmVhdGVMaUl0ZW1IdG1sKGl0ZW0pIHtcbiAgICAgIHZhciBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcbiAgICAgIGxpLmNsYXNzTmFtZSA9IFwiZHJhZ2dhYmxlIHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci10clwiO1xuICAgICAgdmFyIGg1ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImg1XCIpO1xuICAgICAgaDUuY2xhc3NOYW1lID0gXCJ1aS13aWRnZXQtaGVhZGVyXCI7XG4gICAgICBoNS5pbm5lckhUTUwgPSBpdGVtLm5hbWU7XG4gICAgICB2YXIgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAgIGltZy5zcmMgPSBpdGVtLmltYWdlLnBhdGgyMDA7XG4gICAgICBpbWcud2lkdGggPSBcIjk2XCI7XG4gICAgICBpbWcuaGVpZ2h0ID0gXCI3MlwiO1xuICAgICAgdmFyIGFfYmFydCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuICAgICAgYV9iYXJ0LnRpdGxlID0gXCJCYXJ0ZXIgdGhpcyBpbWFnZVwiO1xuICAgICAgYV9iYXJ0LmNsYXNzTmFtZSA9IFwidWktaWNvbiB1aS1pY29uLXRyYW5zZmVydGhpY2stZS13XCJcbiAgICAgIGFfYmFydC5pbm5lckhUTUwgPSBcIkJhcnRlciBJdGVtXCI7XG4gICAgICBsaS5hcHBlbmRDaGlsZChoNSk7XG4gICAgICBsaS5hcHBlbmRDaGlsZChpbWcpO1xuICAgICAgbGkuYXBwZW5kQ2hpbGQoYV9iYXJ0KTtcbiAgICAgIGxpLnNldEF0dHJpYnV0ZShcImRhdGFcIixpdGVtLl9pZCk7XG4gICAgICByZXR1cm4gbGk7XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVFbGVtZW50QnlWYWx1ZShhcnIsdmFsdWUpIHtcbiAgICAgIGZvcih4IGluIGFycikge1xuICAgICAgICAgIGlmKHZhbHVlID09PSBhcnJbeF0pe1xuICAgICAgICAgICAgICBhcnIuc3BsaWNlKHgsMSk7XG4gICAgICAgICAgICAgIHJldHVybiBhcnI7XG4gICAgICAgICAgfVxuICAgICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ3JlYXRlclN0cmluZyhzMSxzMil7XG4gICAgaWYoczE+czIpXG4gICAgICByZXR1cm4gW3MxLHMyXTtcbiAgICByZXR1cm4gW3MyLHMxXTtcbiAgfVxuXG4gIC8vIGdldCdzIGN1cnJlbnQgdXNlcidzIG5hbWUuXG4gIFVzZXJTdmMucmV0dXJuU2Vzc2lvblVzZXJOYW1lKCkudGhlbihmdW5jdGlvbiAodXNlck5hbWUpIHtcbiAgICAgIHZhciBzdHJpbmdQYXJhbXMgPSBncmVhdGVyU3RyaW5nKHVzZXJOYW1lLCRyb3V0ZVBhcmFtcy5vdGhlcnVzZXIpO1xuICAgICAgYmFydGVyQ29udHJvbGxlci51c2VyVGFnID0gc3RyaW5nUGFyYW1zWzBdKyctJytzdHJpbmdQYXJhbXNbMV07XG4gICAgYmFydGVyQ29udHJvbGxlci51c2VyID0gdXNlck5hbWU7XG4gICAgLy9iYXJ0ZXJDb250cm9sbGVyLnVzZXJUYWdcbiAgICBUcmFkaW5nSXRlbVN2Yy5nZXRBbGxVc2VyVHJhZGluZ0l0ZW1zKHVzZXJOYW1lKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAoQ3VycmVudFVzZXJJdGVtcykge1xuICAgICAgICAgICAgdmFyIGdhbGxlcnkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbGxlcnlcIik7XG4gICAgICAgICAgICBmb3IoIHggaW4gQ3VycmVudFVzZXJJdGVtcykge1xuICAgICAgICAgICAgICAgIGJhcnRlckNvbnRyb2xsZXIuSXRlbXNfVXNlcltDdXJyZW50VXNlckl0ZW1zW3hdLl9pZF0gPSBDdXJyZW50VXNlckl0ZW1zW3hdO1xuICAgICAgICAgICAgICAgIGlmKCFDdXJyZW50VXNlckl0ZW1zW3hdLnRyYWRlZCl7XG4gICAgICAgICAgICAgICAgICAgIGdhbGxlcnkuYXBwZW5kQ2hpbGQoY3JlYXRlTGlJdGVtSHRtbChDdXJyZW50VXNlckl0ZW1zW3hdKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgRW5hYmxlRHJhZyhcImdhbGxlcnlcIixcInRyYXNoXCIsXCJjb250YWlubWVudC13cmFwcGVyXCIpO1xuICAgICAgICB9KVxuICB9KVxuXG4gIC8vIGEgcmV2ZXJzZSBsb29wIHRvIHBvcHVsYXRlIG1lc3NhZ2UgY29udGFpbmVyLlxuICBDaGF0U3ZjLmdldFJlY2VudE1lc3NhZ2VzKCRyb3V0ZVBhcmFtcy5vdGhlcnVzZXIpLnRoZW4oZnVuY3Rpb24gKGNvbnYpIHtcbiAgICBmb3IgKHZhciB4ID0gY29udi5sZW5ndGggLSAxOyB4ID49IDA7IHgtLSkge1xuICAgICAgY3JlYXRlQnViYmxlKGNvbnZbeF0pO1xuICAgIH1cbiAgfSlcblxuICB2YXIgc29ja2V0ID0gaW8uY29ubmVjdChcImh0dHBzOi8vbGl0LXJpZGdlLTgzODQ3Lmhlcm9rdWFwcC5jb21cIik7XG4gIC8vIFF1ZXJ5IERPTVxuICB2YXIgbWVzc2FnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYXJ0ZXJfaW5wdXRfbWVzc2FnZScpO1xuICAvLyBFbWl0IGV2ZW50c1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJhcnRlcl9pbnB1dF9tZXNzYWdlXCIpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSAxMyAmJiBtZXNzYWdlLnZhbHVlICE9IFwiXCIpIHtcbiAgICAgICAgc29ja2V0LmVtaXQoJ2NoYXQnLCB7XG4gICAgICAgICAgYm9keTogbWVzc2FnZS52YWx1ZSxcbiAgICAgICAgICB1c2VyOiBiYXJ0ZXJDb250cm9sbGVyLnVzZXIsXG4gICAgICAgICAgdGFnOiBiYXJ0ZXJDb250cm9sbGVyLnVzZXJUYWdcbiAgICAgICAgfSk7XG4gICAgICAgIENoYXRTdmMuc2VuZE1lc3NhZ2UoYmFydGVyQ29udHJvbGxlci5vdGhlclVzZXIsIG1lc3NhZ2UudmFsdWUpO1xuICAgICAgICBtZXNzYWdlLnZhbHVlID0gXCJcIjtcbiAgICAgIH1cbiAgICB9KTtcblxuICAvLyBMaXN0ZW4gZm9yIGV2ZW50c1xuICBzb2NrZXQub24oJ2NoYXQnLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgaWYoZGF0YS50YWcgPT09IGJhcnRlckNvbnRyb2xsZXIudXNlclRhZyl7XG4gICAgICAgICAgY3JlYXRlQnViYmxlKGRhdGEpO1xuICAgICAgfVxuXG4gIH0pO1xuXG4gIC8vIGNyZWF0ZXMgYnViYmxlIGJhc2VkIG9uIFVzZXIgYW5kIEJvZHlcbiAgLy8gY2FuIGJlIHVzZWQgZm9yIHVwbG9hZGluZyBhbmQgYWxzbyBsaXZlIHVwZGF0ZS5cbiAgLy8gdGhlbSBjb250YWluZXIgc2Nyb2xscyB0byBsYXN0IG1lc3NhZ2UuXG4gIGZ1bmN0aW9uIGNyZWF0ZUJ1YmJsZShNZXNzYWdlQ29udGVudCkge1xuICAgIHZhciBjbGFzc2VzID0gW1wibWVzc2FnZV9faXRlbSBtZXNzYWdlX19pdGVtLS1ib3RcIiwgXCJtZXNzYWdlIG1lc3NhZ2UtLWJvdFwiXVxuICAgIGlmIChNZXNzYWdlQ29udGVudC5hdXRob3IgPT09IGJhcnRlckNvbnRyb2xsZXIudXNlciB8fCBNZXNzYWdlQ29udGVudC51c2VyID09IGJhcnRlckNvbnRyb2xsZXIudXNlcikge1xuICAgICAgY2xhc3Nlc1swXSA9IFwibWVzc2FnZV9faXRlbSBtZXNzYWdlX19pdGVtLS11c2VyXCI7XG4gICAgICBjbGFzc2VzWzFdID0gXCJtZXNzYWdlIG1lc3NhZ2UtLXVzZXJcIjtcbiAgICB9XG4gICAgdmFyIGRpdl9tZXNzYWdlX2xpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGRpdl9tZXNzYWdlX2xpc3QuY2xhc3NOYW1lID0gXCJtZXNzYWdlX19saXN0XCI7XG4gICAgdmFyIGRpdl9tZXNzYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBkaXZfbWVzc2FnZS5jbGFzc05hbWUgPSBjbGFzc2VzWzBdO1xuICAgIHZhciBzcGFuX21lc3NhZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAvLyBzaW1wbGUgYXBwcm9hY2ggb2YgcHJldmVudGluZyBzY3JpcHQgaW5qZWN0aW9uXG4gICAgc3Bhbl9tZXNzYWdlLmlubmVySFRNTCA9IE1lc3NhZ2VDb250ZW50LmJvZHkucmVwbGFjZSgvPC9nLCBcIiZsdDtcIikucmVwbGFjZSgvPi9nLCBcIiZndDtcIik7XG4gICAgc3Bhbl9tZXNzYWdlLmNsYXNzTmFtZSA9IGNsYXNzZXNbMV07XG4gICAgZGl2X21lc3NhZ2UuYXBwZW5kQ2hpbGQoc3Bhbl9tZXNzYWdlKTtcbiAgICBkaXZfbWVzc2FnZV9saXN0LmFwcGVuZENoaWxkKGRpdl9tZXNzYWdlKTtcblxuICAgIGlmKE1lc3NhZ2VDb250ZW50Lm9mZmVySWQpIHtcbiAgICAgICAgZGl2X21lc3NhZ2UuaWQgPSBNZXNzYWdlQ29udGVudC5vZmZlcklkO1xuICAgICAgICBzcGFuX21lc3NhZ2UuaWQgPSBNZXNzYWdlQ29udGVudC5vZmZlcklkO1xuICAgIH1cblxuICAgIGlmIChNZXNzYWdlQ29udGVudC5zcGVjaWFsID09PSBcIk9EXCIpIHtcbiAgICAgICAgc3Bhbl9tZXNzYWdlLnN0eWxlLmNvbG9yID0gXCJwdXJwbGVcIjtcbiAgICB9XG5cbiAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJiYXJ0ZXJfbWVzc2FnZV9jb250ZW50XCIpKVxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJiYXJ0ZXJfbWVzc2FnZV9jb250ZW50XCIpLmFwcGVuZENoaWxkKGRpdl9tZXNzYWdlX2xpc3QpO1xuXG4gICAgdmFyIGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJhcnRlcl9tZXNzYWdlX2NvbnRlbnRcIik7XG4gICAgZC5zY3JvbGxUb3AgPSBkLnNjcm9sbEhlaWdodDtcbiAgfVxuXG5cbiAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbiAoKSB7XG4gICAgc29ja2V0LnJlbW92ZUFsbExpc3RlbmVycygpO1xuICB9KTtcblxuICBmdW5jdGlvbiB0aHJvd0Vycm9yKCkge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJiYXJ0ZXJfaDRfZXJyb3JcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgfVxuXG4gIC8vIG5nLWNsaWNrIHRoYXQgc3VibWl0cyBvZmZlcnMuXG4gICRzY29wZS5TdWJtaXRPZmZlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJiYXJ0ZXJfaDRfZXJyb3JcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuXG4gICAgICBpZiAoYmFydGVyQ29udHJvbGxlci5Vc2VySXRlbXMubGVuZ3RoID09IDAgfHwgYmFydGVyQ29udHJvbGxlci5PdGhlclVzZXJJdGVtcy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgIHRocm93RXJyb3IoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgbW9kYWxDcmVhdGlvbiA9IGNyZWF0ZU1vZGFsKGJhcnRlckNvbnRyb2xsZXIuVXNlckl0ZW1zLGJhcnRlckNvbnRyb2xsZXIuT3RoZXJVc2VySXRlbXMsdHJ1ZSk7XG4gICAgICB2YXIgb2ZmZXIgPSB7XG4gICAgICAgICAgVXNlcl9vZmZlcl91c2VybmFtZTogYmFydGVyQ29udHJvbGxlci51c2VyLFxuICAgICAgICAgIFVzZXJfb3RoZXJfdXNlcm5hbWU6ICRyb3V0ZVBhcmFtcy5vdGhlcnVzZXIsXG4gICAgICAgICAgVXNlcl9vZmZlcl9pdGVtczogYmFydGVyQ29udHJvbGxlci5Vc2VySXRlbXMsXG4gICAgICAgICAgVXNlcl9vdGhlcl9pdGVtczogYmFydGVyQ29udHJvbGxlci5PdGhlclVzZXJJdGVtc1xuICAgICAgfVxuICAgICAgT2ZmZXJTdmMubWFrZU9mZmVyKG9mZmVyKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgICAgICBkb2Muc2hpZnQoKTtcbiAgICAgICAgICAgIHZhciBkb2NJZCA9IGRvY1swXS5faWQ7XG4gICAgICAgICAgICB2YXIgbWVzc2FnZSA9IFwiU2VlIFwiK2JhcnRlckNvbnRyb2xsZXIudXNlcitcIidzIG9mZmVyIHRvIFwiKyAkcm91dGVQYXJhbXMub3RoZXJ1c2VyICtcIiAtOiBcIiArIGRvY0lkLnN1YnN0cihkb2NJZC5sZW5ndGggLSA1KVxuICAgICAgICAgICAgbW9kYWxDcmVhdGlvblswXS5pZCA9IFwibW9kYWxfXCIrZG9jSWQ7XG4gICAgICAgICAgICBtb2RhbENyZWF0aW9uWzFdLm9uY2xpY2sgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICRzY29wZS5yZWRpcmVjdCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtb2RhbENyZWF0aW9uWzJdLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnJlZGlyZWN0ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtb2RhbENyZWF0aW9uWzNdLmlkID0gXCJtb2RhbF9mb290ZXJfXCIgKyBkb2NJZDtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29sbGVjdGlvbk9mTW9kYWxzXCIpLmFwcGVuZENoaWxkKG1vZGFsQ3JlYXRpb25bMF0pO1xuICAgICAgICAgICAgc29ja2V0LmVtaXQoJ2NoYXQnLCB7XG4gICAgICAgICAgICAgIGJvZHk6IG1lc3NhZ2UsXG4gICAgICAgICAgICAgIHVzZXI6IGJhcnRlckNvbnRyb2xsZXIudXNlcixcbiAgICAgICAgICAgICAgb2ZmZXJJZDogZG9jSWQsXG4gICAgICAgICAgICAgIHRhZzogYmFydGVyQ29udHJvbGxlci51c2VyVGFnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIENoYXRTdmMuc2VuZE1lc3NhZ2VXaXRoT2ZmZXJJRChiYXJ0ZXJDb250cm9sbGVyLm90aGVyVXNlciwgbWVzc2FnZSxkb2NJZCk7XG4gICAgICAgICAgICByZW1vdmVJdGVtcygpO1xuICAgICAgICB9KTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gcmVtb3ZlSXRlbXMoKSB7XG4gICAgICB2YXIgZ2FsbGVyeV91bF9pdGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnYWxsZXJ5X3VsX2l0ZW1cIiksXG4gICAgICBnYWxsZXJ5Ml91bF9pdGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnYWxsZXJ5Ml91bF9pdGVtXCIpO1xuICAgICAgLy8gdGhpcyBpcyBoYXJkIGNvZGVkLiBJZiBhbnkgaXNzdWVzLiBDb21lIGhlcmUhXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdhbGxlcnlfdWxfaXRlbS5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGdhbGxlcnlfdWxfaXRlbS5jaGlsZHJlbltpXS5jaGlsZHJlblsyXS5jbGljaygpO1xuICAgICAgfVxuICAgICAgLy8gdGhpcyBpcyBoYXJkIGNvZGVkLiBJZiBhbnkgaXNzdWVzLiBDb21lIGhlcmUhXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdhbGxlcnkyX3VsX2l0ZW0uY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgZ2FsbGVyeTJfdWxfaXRlbS5jaGlsZHJlbltpXS5jaGlsZHJlblsyXS5jbGljaygpO1xuICAgICAgfVxuICB9XG5cbiAgLy8gRnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgbW9kYWwuXG4gIC8vIFVzZXJBcnJheSBpcyB0aGUgY3VycmVudCB1c2VyJ3MgYXJyYXkgb2YgaXRlbXMuXG4gIC8vIE90aGVyQXJyYXkgaXMgdGhlIG90aGVyIHVzZXIncyBhcnJheSBvZiBpdGVtcy5cbiAgLy8gT3JkZXJDYXNlIGRldGVybWluZXMgd2hldGVyIGlmIGl0J3MgdGhlIFVzZXIncyBvZmZlciBvciBvdGhlciB1c2VyIG9mZmVyLlxuICBmdW5jdGlvbiBjcmVhdGVNb2RhbCAoVXNlckFycmF5LE90aGVyQXJyYXksT3JkZXJDYXNlKSB7XG5cbiAgICAgIHZhciB1c2VyID0gYmFydGVyQ29udHJvbGxlci51c2VyLFxuICAgICAgb3RoZXJVc2VyID0gJHJvdXRlUGFyYW1zLm90aGVydXNlcjtcblxuICAgICAgdmFyIG1vZGFsRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxcbiAgICAgIG1vZGFsRGlhbG9nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxcbiAgICAgIG1vZGFsQ29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXG4gICAgICBtb2RhbEhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXG4gICAgICBtb2RhbEJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuICAgICAgbW9kYWxGb290ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgbW9kYWxEaXYuY2xhc3NOYW1lID0gXCJtb2RhbCBmYWRlXCI7XG4gICAgICBtb2RhbERpYWxvZy5jbGFzc05hbWUgPSBcIm1vZGFsLWRpYWxvZ1wiO1xuICAgICAgbW9kYWxDb250ZW50LmNsYXNzTmFtZSA9IFwibW9kYWwtY29udGVudFwiO1xuICAgICAgbW9kYWxIZWFkZXIuY2xhc3NOYW1lID0gXCJtb2RhbC1oZWFkZXJcIjtcbiAgICAgIG1vZGFsQm9keS5jbGFzc05hbWUgPSBcIm1vZGFsLWJvZHlcIjtcbiAgICAgIG1vZGFsRm9vdGVyLmNsYXNzTmFtZSA9IFwibW9kYWwtZm9vdGVyXCI7XG4gICAgICB2YXIgaGVhZGVyU3RyaW5nID0gdXNlciArIFwiJ3MgVHJhZGRpbmcgT2ZmZXIgVG8gXCIgKyBvdGhlclVzZXI7XG4gICAgICBpZighT3JkZXJDYXNlKXtcbiAgICAgICAgICBoZWFkZXJTdHJpbmcgPSBvdGhlclVzZXIgKyBcIidzIFRyYWRkaW5nIE9mZmVyIFRvIFwiICsgdXNlcjtcbiAgICAgIH1cblxuICAgICAgdmFyIGgyX3RpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgyXCIpO1xuICAgICAgaDJfdGl0bGUuaW5uZXJIVE1MID0gaGVhZGVyU3RyaW5nO1xuICAgICAgbW9kYWxIZWFkZXIuYXBwZW5kQ2hpbGQoaDJfdGl0bGUpO1xuXG4gICAgICB2YXIgZGl2Um93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGRpdlJvdy5jbGFzc05hbWUgPSBcInJvd1wiO1xuICAgICAgbW9kYWxCb2R5LmFwcGVuZENoaWxkKGRpdlJvdyk7XG4gICAgICB2YXIgZGl2Qm9keTEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuICAgICAgZGl2Qm9keTIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuICAgICAgZGl2Qm9keTMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gICAgICBkaXZCb2R5MS5jbGFzc05hbWUgPSBcImNvbC1tZC01XCI7XG4gICAgICBkaXZCb2R5Mi5jbGFzc05hbWUgPSBcImNvbC1tZC0yXCI7XG4gICAgICBkaXZCb2R5My5jbGFzc05hbWUgPSBcImNvbC1tZC01XCI7XG5cbiAgICAgIHZhciBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgICAgaW1nLnNyYyA9IFwiaW1hZ2VzL3RyYWRlLnBuZ1wiO1xuICAgICAgaW1nLnN0eWxlLndpZHRoID0gXCI1MHB4XCI7XG4gICAgICBpbWcuc3R5bGUuaGVpZ2h0ID0gXCI1MHB4XCI7XG5cbiAgICAgIGNyZWF0ZUltYWdlSXRlbShVc2VyQXJyYXksYmFydGVyQ29udHJvbGxlci5JdGVtc19Vc2VyLGRpdkJvZHkxKTtcbiAgICAgIGNyZWF0ZUltYWdlSXRlbShPdGhlckFycmF5LGJhcnRlckNvbnRyb2xsZXIuSXRlbXNfT3RoZXJfVXNlcixkaXZCb2R5Myk7XG4gICAgICBkaXZCb2R5Mi5hcHBlbmRDaGlsZChpbWcpO1xuICAgICAgZGl2Um93LmFwcGVuZENoaWxkKGRpdkJvZHkxKTtcbiAgICAgIGRpdlJvdy5hcHBlbmRDaGlsZChkaXZCb2R5Mik7XG4gICAgICBkaXZSb3cuYXBwZW5kQ2hpbGQoZGl2Qm9keTMpO1xuXG4gICAgICB2YXIgbW9kYWxEaXZGb290ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIHZhciBoMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoM1wiKTtcbiAgICAgIGgzLmlubmVySFRNTCA9IFwiRG8geW91IHdhbnQgdG8gYWNjZXB0IHRoZSBvZmZlcj9cIjtcbiAgICAgIHZhciBhX3llcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuICAgICAgdmFyIGFfbm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgICAgIGFfeWVzLmNsYXNzTmFtZSA9IFwiYnRuIGJ0bi1kZWZhdWx0XCI7XG4gICAgICBhX3llcy5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJidXR0b25cIik7XG4gICAgICBhX3llcy5pbm5lckhUTUwgPSBcIlllc1wiO1xuICAgICAgYV95ZXMuc2V0QXR0cmlidXRlKFwiZGF0YS1kaXNtaXNzXCIsXCJtb2RhbFwiKTtcbiAgICAgIGFfbm8uY2xhc3NOYW1lID0gXCJidG4gYnRuLWRlZmF1bHRcIjtcbiAgICAgIGFfbm8uc2V0QXR0cmlidXRlKFwicm9sZVwiLFwiYnV0dG9uXCIpO1xuICAgICAgYV9uby5zZXRBdHRyaWJ1dGUoXCJkYXRhLWRpc21pc3NcIixcIm1vZGFsXCIpO1xuICAgICAgYV9uby5pbm5lckhUTUwgPSBcIk5vXCI7XG4gICAgICBtb2RhbERpdkZvb3QuYXBwZW5kQ2hpbGQoaDMpO1xuICAgICAgbW9kYWxEaXZGb290LmFwcGVuZENoaWxkKGFfeWVzKTtcbiAgICAgIG1vZGFsRGl2Rm9vdC5hcHBlbmRDaGlsZChhX25vKTtcbiAgICAgIG1vZGFsRm9vdGVyLmFwcGVuZENoaWxkKG1vZGFsRGl2Rm9vdCk7XG5cbiAgICAgIG1vZGFsQ29udGVudC5hcHBlbmRDaGlsZChtb2RhbEhlYWRlcik7XG4gICAgICBtb2RhbENvbnRlbnQuYXBwZW5kQ2hpbGQobW9kYWxCb2R5KTtcbiAgICAgIGlmKCFPcmRlckNhc2UpIHtcbiAgICAgICAgICBtb2RhbENvbnRlbnQuYXBwZW5kQ2hpbGQobW9kYWxGb290ZXIpO1xuICAgICAgfVxuICAgICAgbW9kYWxEaWFsb2cuYXBwZW5kQ2hpbGQobW9kYWxDb250ZW50KTtcbiAgICAgIG1vZGFsRGl2LmFwcGVuZENoaWxkKG1vZGFsRGlhbG9nKTtcbiAgICAgIHJldHVybiBbbW9kYWxEaXYsYV95ZXMsYV9ubyxtb2RhbERpdkZvb3RdO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlSW1hZ2VJdGVtIChpdGVtcyxpdGVtTWFwLGRpdikge1xuICAgICAgZm9yICh4IGluIGl0ZW1zKSB7XG4gICAgICAgICAgdmFyIG5ld0ltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgICAgICAgbmV3SW1nLnNyYyA9IGl0ZW1NYXBbaXRlbXNbeF1dLmltYWdlLnBhdGgyMDA7XG4gICAgICAgICAgbmV3SW1nLnN0eWxlLndpZHRoID0gXCIxMDBweFwiO1xuICAgICAgICAgIG5ld0ltZy5zdHlsZS5oZWlnaHQgPSBcIjEyMHB4XCI7XG4gICAgICAgICAgbmV3SW1nLnRpdGxlID0gaXRlbU1hcFtpdGVtc1t4XV0ubmFtZTtcbiAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQobmV3SW1nKTtcbiAgICAgIH1cbiAgfVxuXG4gICRzY29wZS5GaXJlTW9kYWwgPSBmdW5jdGlvbihldmVudCl7XG4gICAgICBpZihldmVudC50YXJnZXQuaWQgIT09IFwiYmFydGVyX21lc3NhZ2VfY29udGVudFwiICYmIGV2ZW50LnRhcmdldC5pZCAhPT0gXCJiYXJ0ZXJfaW5wdXRfbWVzc2FnZVwiICYmIGV2ZW50LnRhcmdldC5pZCAhPSBcIlwiKSB7XG5cbiAgICAgICAgICBpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1vZGFsX1wiK2V2ZW50LnRhcmdldC5pZCkpIHtcbiAgICAgICAgICAgICAgJChcIiNtb2RhbF9cIitldmVudC50YXJnZXQuaWQpLm1vZGFsKCk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB2YXIgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgIE9mZmVyU3ZjLkdldE9uZU9mZmVyQnlJZChldmVudC50YXJnZXQuaWQpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKE9mZmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBvZmZlcmVyIHdhcyBjcmVhdGVkIGJ5IGN1cnJlbnQgdXNlci5cbiAgICAgICAgICAgICAgICAgICAgaWYoT2ZmZXIuVXNlcl9vZmZlcl91c2VybmFtZSA9PT0gYmFydGVyQ29udHJvbGxlci51c2VyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb25lID0gaGFzSXRlbXMoT2ZmZXIuVXNlcl9vZmZlcl9pdGVtcyxiYXJ0ZXJDb250cm9sbGVyLkl0ZW1zX1VzZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9uZSA9IGhhc0l0ZW1zKE9mZmVyLlVzZXJfb3RoZXJfaXRlbXMsYmFydGVyQ29udHJvbGxlci5JdGVtc19PdGhlcl9Vc2VyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRvbmUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbENyZWF0aW9uID0gY3JlYXRlTW9kYWwoT2ZmZXIuVXNlcl9vZmZlcl9pdGVtcyxPZmZlci5Vc2VyX290aGVyX2l0ZW1zLHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsQ3JlYXRpb25bMF0uaWQgPSBcIm1vZGFsX1wiK2V2ZW50LnRhcmdldC5pZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbGxlY3Rpb25PZk1vZGFsc1wiKS5hcHBlbmRDaGlsZChtb2RhbENyZWF0aW9uWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiI21vZGFsX1wiK2V2ZW50LnRhcmdldC5pZCkubW9kYWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG9pbmcgc3R1ZmYgaGVyZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydChcIlNvcnJ5IGl0ZW1zIG1pc3NpbmdcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbmUgPSBoYXNJdGVtcyhPZmZlci5Vc2VyX29mZmVyX2l0ZW1zLGJhcnRlckNvbnRyb2xsZXIuSXRlbXNfT3RoZXJfVXNlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb25lID0gaGFzSXRlbXMoT2ZmZXIuVXNlcl9vdGhlcl9pdGVtcyxiYXJ0ZXJDb250cm9sbGVyLkl0ZW1zX1VzZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoZWNrQ2xpY2sgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoZG9uZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsQ3JlYXRpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChPZmZlci5UcmFuc2FjdGlvblBlbmRpbmcuYWNjZXB0ZWQgPT09IGZhbHNlIHx8IE9mZmVyLlRyYW5zYWN0aW9uUGVuZGluZy5hY2NlcHRlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RhbENyZWF0aW9uID0gY3JlYXRlTW9kYWwoT2ZmZXIuVXNlcl9vdGhlcl9pdGVtcyxPZmZlci5Vc2VyX29mZmVyX2l0ZW1zLHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RhbENyZWF0aW9uWzBdLmlkID0gXCJtb2RhbF9cIitldmVudC50YXJnZXQuaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29sbGVjdGlvbk9mTW9kYWxzXCIpLmFwcGVuZENoaWxkKG1vZGFsQ3JlYXRpb25bMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiI21vZGFsX1wiK2V2ZW50LnRhcmdldC5pZCkubW9kYWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RhbENyZWF0aW9uID0gY3JlYXRlTW9kYWwoT2ZmZXIuVXNlcl9vdGhlcl9pdGVtcyxPZmZlci5Vc2VyX29mZmVyX2l0ZW1zLGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kYWxDcmVhdGlvblsxXS5vbmNsaWNrID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrQ2xpY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsQ3JlYXRpb25bMl0ub25jbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrQ2xpY2sgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RhbENyZWF0aW9uWzNdLmlkID0gXCJtb2RhbF9mb290ZXJfXCIrZXZlbnQudGFyZ2V0LmlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RhbENyZWF0aW9uWzBdLmlkID0gXCJtb2RhbF9cIitldmVudC50YXJnZXQuaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29sbGVjdGlvbk9mTW9kYWxzXCIpLmFwcGVuZENoaWxkKG1vZGFsQ3JlYXRpb25bMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiI21vZGFsX1wiK2V2ZW50LnRhcmdldC5pZCkubW9kYWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNtb2RhbF9cIiArIGV2ZW50LnRhcmdldC5pZCkub24oXCJoaWRkZW4uYnMubW9kYWxcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkID0gZS5jdXJyZW50VGFyZ2V0LmlkLnJlcGxhY2UoXCJtb2RhbF9cIixcIlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoY2hlY2tDbGljaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvY2tldC5lbWl0KCdjaGF0Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogXCJPZmZlciBBY2NlcHRlZC4g8J+RjVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcjogYmFydGVyQ29udHJvbGxlci51c2VyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BlY2lhbDogXCJPRFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFnOiBiYXJ0ZXJDb250cm9sbGVyLnVzZXJUYWdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGF0U3ZjLnNlbmRNZXNzYWdlKGJhcnRlckNvbnRyb2xsZXIub3RoZXJVc2VyLCBcIk9mZmVyIEFjY2VwdGVkLiDwn5GNXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IFwiLyMvY3JlYXRlUmVzZXJ2YXRpb24tXCIraWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoZWNrQ2xpY2sgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tDbGljayA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9iaiA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5vZmZlclN0YXR1cyA9IFwiREVDTElORURcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5vZmZlcklkID0gaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPZmZlclN2Yy5zZXRSZXNlcnZhdGlvbihvYmopXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChzdHVmZil7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1vZGFsX2Zvb3Rlcl9cIiArIGlkKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvY2tldC5lbWl0KCdjaGF0Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBcIk9mZmVyIGRlY2xpbmVkLiDwn5GOXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXI6IGJhcnRlckNvbnRyb2xsZXIudXNlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BlY2lhbDogXCJPRFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWc6IGJhcnRlckNvbnRyb2xsZXIudXNlclRhZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGF0U3ZjLnNlbmRNZXNzYWdlKGJhcnRlckNvbnRyb2xsZXIub3RoZXJVc2VyLCBcIk9mZmVyIGRlY2xpbmVkLiDwn5GOXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAvLyBlbmQgb2YgZWxzZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gLy8gZW5kIG9mIGlmLlxuICAgICAgICAgICAgICAgICAgICB9IC8vIGVuZCBvZiBlbHNlXG4gICAgICAgICAgICAgICAgfSk7IC8vIGVuZCBvZiB0aGVuLlxuICAgICAgICAgIH0vLyBlbmQgb2YgZWxzZVxuICAgICAgfVxuICB9XG5cbiAgJHNjb3BlLnJlZGlyZWN0ID0gZmFsc2U7XG4gIGZ1bmN0aW9uIGhhc0l0ZW1zKGFyciwgbWFwKSB7XG4gICAgZm9yKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKyl7XG4gICAgICAgIGlmKCFtYXBbYXJyW2ldXSl7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG59KTsgLy8gRW5kIG9mIENvbnRyb2xsZXJcbiIsImFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJIb21lQ3RybFwiLCBmdW5jdGlvbigkc2NvcGUsJHJvb3RTY29wZSxVc2VyU3ZjLEdlb1N2YyxUcmFkaW5nSXRlbVN2Yyl7XG5cbiAgICAkc2NvcGUuVXNlckNpdHkgPSBcIlwiO1xuICAgICRzY29wZS5DaXR5SXRlbXMgPSBbXTtcbiAgICAkc2NvcGUuQWxsSXRlbXMgPSBbXTtcbiAgICAkc2NvcGUuSG9tZUN0cmxSZWRpcmVjdCA9IGZhbHNlO1xuICAgIHZhciBob21lX2NpdHlEb20gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNpdHlEaXZcIiksXG4gICAgaG9tZV9hbGxJdGVtRG9tID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhbGxJdGVtRGl2XCIpXG5cbiAgICB2YXIgc3RyID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ1c3ItbG9jXCIpO1xuICAgIHZhciB1c3JfbG9jX29iaiA9IEpTT04ucGFyc2Uoc3RyKTtcblxuICAgICRzY29wZS5HZXRMb2NhdGlvbiA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIGdldExvY2F0aW9uKCk7XG4gICAgfVxuXG4gICAgLy8gY29uZGl0aW9uIHRvIGNoZWNrIGlmIHRoZXJlIGlzIGEgY3VycmVudCBnZW8gbG9jYXRvci5cbiAgICAvLyB3aWxsIGNhbGwgZnVuY3Rpb24uIElmIG5vdC4gV2lsbCBncmFiIHRyYWRpbmcgZGF0YSBmb3JtIGRhdGFiYXNlLlxuICAgIGlmICh1c3JfbG9jX29iaiA9PT0gbnVsbCB8fCB1c3JfbG9jX29iai5zdGF0dXMgPT09IFwiRVJST1JcIikge1xuICAgICAgICBnZXRMb2NhdGlvbigpO1xuICAgICAgICBnZXRJdGVtc0J5Q2l0eVN0YXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgJHNjb3BlLlVzZXJHZW8gPSB1c3JfbG9jX29iajtcbiAgICAgICAgZ2V0SXRlbXNCeUNpdHlTdGF0ZSgpO1xuICAgIH1cblxuXG5cbiAgICBmdW5jdGlvbiBnZXRJdGVtc0J5Q2l0eVN0YXRlKCl7XG4gICAgICAgIFVzZXJTdmMuaGFzU2Vzc2lvbigpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbihoYXNTZXNzaW9uKXtcbiAgICAgICAgICAgICAgICBpZihoYXNTZXNzaW9uKXtcbiAgICAgICAgICAgICAgICAgICAgVXNlclN2Yy5yZXR1cm5TZXNzaW9uVXNlck5hbWUoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oU2Vzc2lvbk5hbWUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRyYWRpbmdJdGVtU3ZjLmdldEl0ZW1Gcm9tQ2l0eVN0YXRlQXZvaWRVc2VyKHVzcl9sb2Nfb2JqLFNlc3Npb25OYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihJdGVtcyl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2l0eVN0YXRlID0gdXNyX2xvY19vYmouY2l0eStcIiwgXCIrdXNyX2xvY19vYmouc3RhdGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWtlU2xpZGVySHRtbChjb21iaW5lTmVzdGVkQXJyYXlzKEl0ZW1zKSx1c3JfbG9jX29iai5jaXR5LGNpdHlTdGF0ZSx0cnVlLGhvbWVfY2l0eURvbSwkc2NvcGUuQ2l0eUl0ZW1zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVHJhZGluZ0l0ZW1TdmMuZ2V0QWxsSXRlbXNCdXQoU2Vzc2lvbk5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKEFsbEl0ZW1zKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKEFsbEl0ZW1zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VTbGlkZXJIdG1sKEFsbEl0ZW1zLFwiQWxsIEl0ZW1zXCIsXCJBbGwgSXRlbXNcIixmYWxzZSxob21lX2FsbEl0ZW1Eb20sJHNjb3BlLkFsbEl0ZW1zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIFRyYWRpbmdJdGVtU3ZjLmdldEl0ZW1Gcm9tQ2l0eVN0YXRlKHVzcl9sb2Nfb2JqKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKEl0ZW1zKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2l0eVN0YXRlID0gdXNyX2xvY19vYmouY2l0eStcIiwgXCIrdXNyX2xvY19vYmouc3RhdGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFrZVNsaWRlckh0bWwoY29tYmluZU5lc3RlZEFycmF5cyhJdGVtcyksdXNyX2xvY19vYmouY2l0eSxjaXR5U3RhdGUsdHJ1ZSxob21lX2NpdHlEb20sJHNjb3BlLkNpdHlJdGVtcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgVHJhZGluZ0l0ZW1TdmMuZ2V0QWxsSXRlbXMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oQWxsSXRlbXMpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VTbGlkZXJIdG1sKEFsbEl0ZW1zLFwiQWxsIEl0ZW1zXCIsXCJBbGwgSXRlbXNcIixmYWxzZSxob21lX2FsbEl0ZW1Eb20sJHNjb3BlLkFsbEl0ZW1zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIGNvbWJpbmVOZXN0ZWRBcnJheXMoSW5wdXQpe1xuICAgICAgICB2YXIgYXJyYXkgPSBbXTtcbiAgICAgICAgZm9yKHggaW4gSW5wdXQpe1xuICAgICAgICAgICAgZm9yKHkgaW4gSW5wdXRbeF0pe1xuICAgICAgICAgICAgICAgIGFycmF5LnB1c2goSW5wdXRbeF1beV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvLyBBIGZ1bmN0aW9uIHRoYXQgZ2V0cyB0aGUgY3VycmVudCBnZW9sb2NhaXRvbi4gSWYgbm90LiBXaWxsIHJldHVybiBlcnJvci5cbiAgICBmdW5jdGlvbiBnZXRMb2NhdGlvbigpIHtcbiAgICAgICAgaWYgKG5hdmlnYXRvci5nZW9sb2NhdGlvbikge1xuICAgICAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihzaG93UG9zaXRpb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJHNjb3BlLlVzZXJDaXR5ID0gXCJHZW9sb2NhdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgYnJvd3Nlci5cIjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGZ1bmN0aW9uIHRoYXQgZ2V0cyBwcm9jY2Vzc2VkIGFmdGVyIGdlb2xvY2F0aW9uIGlzIGNhcHR1cmVkLlxuICAgIC8vIHdpbGwgc2V0IGl0IHRvIGxvY2FsIHN0b3JhZ2UuXG4gICAgZnVuY3Rpb24gc2hvd1Bvc2l0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgIEdlb1N2Yy5nZXRDaXR5U3RhdGUocG9zaXRpb24pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09IFwiRVJST1JcIiApIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlVzZXJHZW8gPSBudWxsO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5Vc2VyR2VvID0gcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciB1c3JfbG9jX3N0cmluZyA9IEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInVzci1sb2NcIix1c3JfbG9jX3N0cmluZyk7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYWtlU2xpZGVySHRtbChhcnJheSxzZXRDb2RlLGNpdHlTdGF0ZSxDaXR5LERvbSxzY29wZUFycmF5KXtcbiAgICAgICAgdmFyIEl0ZW1UaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIEl0ZW1UaXRsZS5jbGFzc05hbWUgPSBcIkhvbWVfVGl0bGVcIjtcbiAgICAgICAgaWYoQ2l0eSl7XG4gICAgICAgICAgICBJdGVtVGl0bGUuaW5uZXJIVE1MID0gXCJOZWFyeSBieSBUcmFkZXMgYXQgQ2l0eSBcIiArIGNpdHlTdGF0ZSArXCI8aHIgLz5cIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIEl0ZW1UaXRsZS5pbm5lckhUTUwgPSBjaXR5U3RhdGUgK1wiPGhyIC8+XCI7XG4gICAgICAgIH1cblxuICAgICAgICBEb20uYXBwZW5kQ2hpbGQoSXRlbVRpdGxlKTtcbiAgICAgICAgdmFyIG5ld1NldENvZGUgPSBzZXRDb2RlLnJlcGxhY2UoL1xccysvZywgJ18nKTtcbiAgXHRcdHZhciBzZWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlY3Rpb25cIilcblx0XHRzZWN0aW9uLmlkID0gXCJpdGVtVmlldy1cIituZXdTZXRDb2RlO1xuICBcdFx0c2VjdGlvbi5jbGFzcyA9IFwicmVndWxhciBzbGlkZXJcIjtcblx0XHQvLyBsb29wcyB0aHJvdWdoIGNhcmRzIGFuZCBjcmVhdGUgZGl2IGFuZCBpbWFnZXNcbiAgXHRcdGZvcih4IGluIGFycmF5KXtcbiAgICAgICAgICAgIHNjb3BlQXJyYXkucHVzaChhcnJheVt4XSk7XG4gICAgICAgICAgICB2YXIgZGl2VGVtcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXG4gICAgICAgICAgICBpbWdUZW1wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKSxcbiAgICAgICAgICAgIGltZ1RlbXBOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgICAgICAgICBpbWdUZW1wLnNyYyA9IGFycmF5W3hdLmltYWdlLnBhdGgyMDA7XG4gICAgICAgICAgICBpbWdUZW1wLmlkID0gXCJpdGVtLVwiK2FycmF5W3hdLl9pZDtcbiAgICAgICAgICAgIGltZ1RlbXAuc2V0QXR0cmlidXRlKFwiZGF0YS10b2dnbGVcIixcIm1vZGFsXCIpO1xuICAgICAgICAgICAgaW1nVGVtcC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXRhcmdldFwiLFwiI21vZGFsX1wiK2FycmF5W3hdLl9pZCk7XG4gICAgICAgICAgICBpbWdUZW1wTmFtZS5pbm5lckhUTUwgPSBhcnJheVt4XS5uYW1lO1xuICAgICAgICAgICAgZGl2VGVtcC5hcHBlbmRDaGlsZChpbWdUZW1wKTtcbiAgICAgICAgICAgIGRpdlRlbXAuYXBwZW5kQ2hpbGQoaW1nVGVtcE5hbWUpO1xuICAgICAgICAgICAgc2VjdGlvbi5hcHBlbmRDaGlsZChkaXZUZW1wKTtcbiAgXHRcdH1cbiAgXHRcdC8vIGFkZHMgdG8gY29sbGVjdGlvbiBvZiBzbGlkZXIgZGl2XG4gIFx0XHR2YXIgc2xpZGVyQ29sbGVjdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHNsaWRlckNvbGxlY3Rpb24uaWQgPSBcImhvbWVfbmVhcl9ieV9cIiArIG5ld1NldENvZGU7XG4gIFx0XHRzbGlkZXJDb2xsZWN0aW9uLmFwcGVuZENoaWxkKHNlY3Rpb24pO1xuICAgICAgICBEb20uYXBwZW5kQ2hpbGQoc2xpZGVyQ29sbGVjdGlvbik7XG5cdFx0Ly8gaW5pdGlhbGl6ZSB0aGUgc2xpZGVyXG4gIFx0XHQkKFwiI2l0ZW1WaWV3LVwiK25ld1NldENvZGUpLnNsaWNrKHsgYXJyb3dzOnRydWUsIGRvdHM6IHRydWUsIGluZmluaXRlOiB0cnVlLCBzbGlkZXNUb1Nob3c6IDMsIHNsaWRlc1RvU2Nyb2xsOiAzIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldExpc3RlbmVycyhhcnJheSl7XG4gICAgICAgIGZvcih4IGluIGFycmF5KXtcbiAgICAgICAgICAgIHZhciBhID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhX1wiK2FycmF5W3hdLl9pZCk7XG4gICAgICAgICAgICBhLm9uY2xpY2sgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICRzY29wZS5Ib21lQ3RybFJlZGlyZWN0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICQoXCIjbW9kYWxfXCIgKyBhcnJheVt4XS5faWQpLm9uKFwiaGlkZGVuLmJzLm1vZGFsXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgdXNlciA9IGFycmF5W3hdLnVzZXJcbiAgICAgICAgICAgICAgICBpZigkc2NvcGUuSG9tZUN0cmxSZWRpcmVjdCA9PSB0cnVlKXtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gXCIvIy9iYXJ0ZXItdXNlci1cIit1c2VyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgJHNjb3BlLlNlYXJjaEJhciA9IFwiXCJcblxuICAgICRzY29wZS5TZWFyY2hJdGVtcyA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIHZhciBzZWFyY2ggPSAkc2NvcGUuU2VhcmNoQmFyXG4gICAgICAgIFRyYWRpbmdJdGVtU3ZjLmdldFNlYXJjaEl0ZW0oc2VhcmNoKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKEl0ZW1zKXtcbiAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiSG9tZV9UYXJnZXRTZWFyY2hEaXZcIik7XG4gICAgICAgICAgICAgICAgZGl2LmFwcGVuZENoaWxkKHRlbXApO1xuICAgICAgICAgICAgICAgICRzY29wZS50ZW1wID0gW11cbiAgICAgICAgICAgICAgICBtYWtlU2xpZGVySHRtbChJdGVtcyxzZWFyY2gsXCJBbGwgSXRlbXMgb2Yga2V5d29yZDogXCIrc2VhcmNoLGZhbHNlLHRlbXAsJHNjb3BlLnRlbXApO1xuICAgICAgICAgICAgfSlcbiAgICB9XG5cbiAgICAvLyQoXCIjY2FyZFZpZXdTbGlkZXItXCIrc2V0Q29kZSkuc2xpY2soeyBhcnJvd3M6ZmFsc2UsIGRvdHM6IHRydWUsIGluZmluaXRlOiB0cnVlLCBzbGlkZXNUb1Nob3c6IDYsIHNsaWRlc1RvU2Nyb2xsOiA2IH0pO1xuICAgICRzY29wZS4kb24oJ0NpdHlJdGVtc0RvbmUnLCBmdW5jdGlvbihuZ1JlcGVhdEZpbmlzaGVkRXZlbnQpIHtcbiAgICAgICAgc2V0TGlzdGVuZXJzKCRzY29wZS5DaXR5SXRlbXMpXG4gICAgfSk7XG5cbiAgICAkc2NvcGUuJG9uKFwiYWxsSXRlbXNEb25lXCIsZnVuY3Rpb24obmdSZXBlYXRGaW5pc2hlZEV2ZW50KSB7XG4gICAgICAgIHNldExpc3RlbmVycygkc2NvcGUuQWxsSXRlbXMpXG4gICAgfSk7XG5cbn0pO1xuXG5cbmFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmRpcmVjdGl2ZSgnb25GaW5pc2hSZW5kZXInLCBmdW5jdGlvbiAoJHRpbWVvdXQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgICAgICAgIGlmIChzY29wZS4kbGFzdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGVtaXQoYXR0ci5vbkZpbmlzaFJlbmRlcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59KTtcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKS5jb250cm9sbGVyKCdMb2dpbkN0cmwnLGZ1bmN0aW9uKCRzY29wZSwkbG9jYXRpb24sVXNlclN2Yyl7XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVIdG1sRXJyb3IoKXtcbiAgICAgICAgJHNjb3BlLnNob3dWaWV3ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBmdW5jdGlvbiB0byBsb2cgaW4gdXNlclxuICAgICRzY29wZS5sb2dpbiA9IGZ1bmN0aW9uICh1c2VybmFtZSwgcGFzc3dvcmQpIHtcbiAgICAgICAgVXNlclN2Yy5sb2dpbih1c2VybmFtZSwgcGFzc3dvcmQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBpZihyZXNwb25zZS5zdGF0dXMgPT09IDQwMSlcbiAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlSHRtbEVycm9yKCk7XG4gICAgICAgICAgICAkbG9jYXRpb24ucGF0aChcIi9cIilcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxufSk7XG4iLCJhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5jb250cm9sbGVyKFwiTXlJdGVtc0N0cmxcIixmdW5jdGlvbigkc2NvcGUsVXNlclN2YyxUcmFkaW5nSXRlbVN2Yyl7XG5cbiAgICBVc2VyU3ZjLmdldFVzZXJBY2NvdW50SW5mbygpXG4gICAgICAgIC50aGVuKCBmdW5jdGlvbihVc2VyT2JqZWN0KSB7XG4gICAgICAgICAgICAkc2NvcGUuVXNlcnMgPSBVc2VyT2JqZWN0O1xuICAgICAgICAgICAgVHJhZGluZ0l0ZW1TdmMuZ2V0QWxsVXNlclRyYWRpbmdJdGVtcyhVc2VyT2JqZWN0LnVzZXJuYW1lKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChUcmFkaW5nT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGZvcih4IGluIFRyYWRpbmdPYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChUcmFkaW5nT2JqZWN0W3hdLmRlc2NyaXB0aW9uLmxlbmd0aD41NSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRyYWRpbmdPYmplY3RbeF0uZGVzY3JpcHRpb24gPSBUcmFkaW5nT2JqZWN0W3hdLmRlc2NyaXB0aW9uLnN1YnN0cmluZygwLCA1NSkgKyBcIi4uLlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUcmFkaW5nT2JqZWN0W3hdLmRlc2NyaXB0aW9uID0gRmlsbFN0cmluZyhUcmFkaW5nT2JqZWN0W3hdLmRlc2NyaXB0aW9uLDU1LVRyYWRpbmdPYmplY3RbeF0uZGVzY3JpcHRpb24ubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuVXNlckl0ZW1zID0gVHJhZGluZ09iamVjdDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cblxuICAgIGZ1bmN0aW9uIEZpbGxTdHJpbmcoc3RyaW5nLG51bWJlck9mKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtYmVyT2Y7IGkrKykge1xuICAgICAgICAgICAgc3RyaW5nICs9IFwiXFx4YTBcIlxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgfVxuXG59KTtcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKS5jb250cm9sbGVyKCdQZW5kaW5nVHJhZGVzQ3RybCcsZnVuY3Rpb24oJHNjb3BlLCRsb2NhdGlvbixVc2VyU3ZjLE9mZmVyU3ZjLCBUcmFkaW5nSXRlbVN2Yyl7XG4gICAgLy8gY29udHJvbGxlciBmb3IgcGVuZGluZyB0cmFkZXNcbiAgICB2YXIgcGVuZGluZ1RyYWRlcyA9IHt9XG4gICAgcGVuZGluZ1RyYWRlcy5JdGVtTWFwID0ge307XG4gICAgcGVuZGluZ1RyYWRlcy51c2VyID0gXCJcIjtcbiAgICBwZW5kaW5nVHJhZGVzLk9mZmVycyA9IFtdO1xuICAgIHBlbmRpbmdUcmFkZXMuVXNlck1hcCA9IHt9O1xuICAgIHBlbmRpbmdUcmFkZXMudXNlckltZyA9IFwiXCI7XG4gICAgVXNlclN2Yy5nZXRVc2VyQWNjb3VudEluZm8oKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAodXNlcil7XG4gICAgICAgICAgICBwZW5kaW5nVHJhZGVzLnVzZXIgPSB1c2VyO1xuICAgICAgICAgICAgcGVuZGluZ1RyYWRlcy51c2VySW1nID0gdXNlci51c2VyX2ltYWdlLnBhdGgyMDA7XG4gICAgICAgICAgICAvLyBHZXR0aW5nIGFsbCBpbWFnZXMgaW50byBhIG1hcC5cbiAgICAgICAgICAgIE9mZmVyU3ZjLkdldFBlbmRpbmdPZmZlcnModXNlci51c2VybmFtZSlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoT2ZmZXJzKXtcbiAgICAgICAgICAgICAgICAgICAgcGVuZGluZ1RyYWRlcy5PZmZlcnMgPSBPZmZlcnM7XG4gICAgICAgICAgICAgICAgICAgIGZvcih4IGluIE9mZmVycyl7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IoeSBpbiBPZmZlcnNbeF0uVXNlcl9vdGhlcl9pdGVtcyl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkID0gT2ZmZXJzW3hdLlVzZXJfb3RoZXJfaXRlbXNbeV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVuZGluZ1RyYWRlcy5JdGVtTWFwW2lkXSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IoeiBpbiBPZmZlcnNbeF0uVXNlcl9vZmZlcl9pdGVtcyl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkID0gT2ZmZXJzW3hdLlVzZXJfb2ZmZXJfaXRlbXNbel07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVuZGluZ1RyYWRlcy5JdGVtTWFwW2lkXSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBnZXRJbWFnZXMocGVuZGluZ1RyYWRlcy5JdGVtTWFwKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICBmdW5jdGlvbiBnZXRJbWFnZXMoTWFwT2ZJZHMpe1xuICAgICAgICB2YXIgY291bnQgPSAwO1xuICAgICAgICBmb3IoeCBpbiBNYXBPZklkcyl7XG4gICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbWFnZUNvdW50ID0gMDtcbiAgICAgICAgZm9yKHggaW4gTWFwT2ZJZHMpe1xuICAgICAgICAgICAgVHJhZGluZ0l0ZW1TdmMuZ2V0SXRlbUJ5SWQoeClcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2Upe1xuICAgICAgICAgICAgICAgICAgICBpbWFnZUNvdW50Kys7XG4gICAgICAgICAgICAgICAgICAgIHBlbmRpbmdUcmFkZXMuSXRlbU1hcFtyZXNwb25zZS5faWRdID0gcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgICAgIGlmKGltYWdlQ291bnQgPT09IGNvdW50KXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldFVzZXJJbWFnZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFVzZXJJbWFnZSgpe1xuICAgICAgICBjb25zb2xlLmxvZyhcIlRoaXMgaGl0XCIpO1xuICAgICAgICB2YXIgY291bnQgPSAwO1xuICAgICAgICBmb3IgKHggaW4gcGVuZGluZ1RyYWRlcy5PZmZlcnMpe1xuICAgICAgICAgICAgaWYocGVuZGluZ1RyYWRlcy5PZmZlcnNbeF0uVXNlcl9vZmZlcl91c2VybmFtZSA9PT0gcGVuZGluZ1RyYWRlcy51c2VyLnVzZXJuYW1lKSB7XG4gICAgICAgICAgICAgICAgVXNlclN2Yy5nZXRVc2VyT3BlbkluZm8ocGVuZGluZ1RyYWRlcy5PZmZlcnNbeF0uVXNlcl9vdGhlcl91c2VybmFtZSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHVzZXIpe1xuICAgICAgICAgICAgICAgICAgICAgICAgY291bnQgKys7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZW5kaW5nVHJhZGVzLlVzZXJNYXBbdXNlci51c2VybmFtZV0gPSB1c2VyLnVzZXJfaW1hZ2UucGF0aDIwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHBlbmRpbmdUcmFkZXMuT2ZmZXJzLmxlbmd0aCA9PT0gY291bnQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFVzZXJJbWFnZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgVXNlclN2Yy5nZXRVc2VyT3BlbkluZm8ocGVuZGluZ1RyYWRlcy5PZmZlcnNbeF0uVXNlcl9vZmZlcl91c2VybmFtZSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHVzZXIpe1xuICAgICAgICAgICAgICAgICAgICAgICAgY291bnQgKys7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZW5kaW5nVHJhZGVzLlVzZXJNYXBbdXNlci51c2VybmFtZV0gPSB1c2VyLnVzZXJfaW1hZ2UucGF0aDIwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHBlbmRpbmdUcmFkZXMuT2ZmZXJzLmxlbmd0aCA9PT0gY291bnQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFVzZXJJbWFnZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldFVzZXJJbWFnZSgpe1xuICAgICAgICBmb3IoeCBpbiBwZW5kaW5nVHJhZGVzLk9mZmVycyl7XG4gICAgICAgICAgICBpZihwZW5kaW5nVHJhZGVzLk9mZmVyc1t4XS5Vc2VyX29mZmVyX3VzZXJuYW1lID09PSBwZW5kaW5nVHJhZGVzLnVzZXIudXNlcm5hbWUpIHtcbiAgICAgICAgICAgICAgICBwZW5kaW5nVHJhZGVzLk9mZmVyc1t4XS5vdGhlclBhdGggPSBwZW5kaW5nVHJhZGVzLlVzZXJNYXBbcGVuZGluZ1RyYWRlcy5PZmZlcnNbeF0uVXNlcl9vdGhlcl91c2VybmFtZV07XG4gICAgICAgICAgICAgICAgcGVuZGluZ1RyYWRlcy5PZmZlcnNbeF0ub3RoZXJVc2VyID0gcGVuZGluZ1RyYWRlcy5PZmZlcnNbeF0uVXNlcl9vdGhlcl91c2VybmFtZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVuZGluZ1RyYWRlcy5PZmZlcnNbeF0ub3RoZXJQYXRoID0gcGVuZGluZ1RyYWRlcy5Vc2VyTWFwW3BlbmRpbmdUcmFkZXMuT2ZmZXJzW3hdLlVzZXJfb2ZmZXJfdXNlcm5hbWVdO1xuICAgICAgICAgICAgICAgIHBlbmRpbmdUcmFkZXMuT2ZmZXJzW3hdLm90aGVyVXNlciA9IHBlbmRpbmdUcmFkZXMuT2ZmZXJzW3hdLlVzZXJfb2ZmZXJfdXNlcm5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgam9pblRoZW0oKTtcbiAgICAgICAgJHNjb3BlLlVzZXIgPSBwZW5kaW5nVHJhZGVzLnVzZXJcbiAgICAgICAgJHNjb3BlLk9mZmVycyA9IHBlbmRpbmdUcmFkZXMuT2ZmZXJzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGpvaW5UaGVtKCkge1xuICAgICAgICBmb3IoeCBpbiBwZW5kaW5nVHJhZGVzLk9mZmVycyl7XG4gICAgICAgICAgICB2YXIgb2JqID0gcGVuZGluZ1RyYWRlcy5PZmZlcnNbeF07XG4gICAgICAgICAgICB2YXIgaWRUZW1wID0gb2JqLlRyYW5zYWN0aW9uUGVuZGluZy5faWQ7XG4gICAgICAgICAgICB2YXIgdGVtcCA9IGNyZWF0ZU1vZGFsKHBlbmRpbmdUcmFkZXMuT2ZmZXJzW3hdKTtcbiAgICAgICAgICAgIHRlbXBbMF0uaWQgPSBcIm1vZGFsX1wiICsgaWRUZW1wO1xuICAgICAgICAgICAgdmFyIGl0Q2xpa2VkID0gZmFsc2U7XG4gICAgICAgICAgICB0ZW1wWzFdLm9uY2xpY2sgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIGl0Q2xpa2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXBwZW5kTW9kYWxzXCIpLmFwcGVuZENoaWxkKHRlbXBbMF0pO1xuICAgICAgICAgICAgJChcIiNtb2RhbF9cIiArIGlkVGVtcCkub24oXCJoaWRkZW4uYnMubW9kYWxcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGlmKGl0Q2xpa2VkKXtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlkID0gZS5jdXJyZW50VGFyZ2V0LmlkLnJlcGxhY2UoXCJtb2RhbF9cIixcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgaXRDbGlrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gXCIvIy9wZW5kaW5nVHJhZGVzLWRldGFpbHMtXCIraWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVNb2RhbCAoUGVuZGluZ1RyYWRlT2JqKSB7XG5cbiAgICAgICAgLy9Vc2VyQXJyYXksT3RoZXJBcnJheVxuICAgICAgICB2YXIgdXNlciA9IFBlbmRpbmdUcmFkZU9iai5Vc2VyX29mZmVyX3VzZXJuYW1lLFxuICAgICAgICBvdGhlclVzZXIgPSBQZW5kaW5nVHJhZGVPYmouVXNlcl9vdGhlcl91c2VybmFtZTtcbiAgICAgICAgdmFyIFVzZXJBcnJheSA9IFBlbmRpbmdUcmFkZU9iai5Vc2VyX290aGVyX2l0ZW1zO1xuICAgICAgICB2YXIgT3RoZXJBcnJheSA9IFBlbmRpbmdUcmFkZU9iai5Vc2VyX29mZmVyX2l0ZW1zO1xuXG4gICAgICAgIHZhciBtb2RhbERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXG4gICAgICAgIG1vZGFsRGlhbG9nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxcbiAgICAgICAgbW9kYWxDb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxcbiAgICAgICAgbW9kYWxIZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuICAgICAgICBtb2RhbEJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuICAgICAgICBtb2RhbEZvb3RlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cbiAgICAgICAgbW9kYWxEaXYuY2xhc3NOYW1lID0gXCJtb2RhbCBmYWRlXCI7XG4gICAgICAgIG1vZGFsRGlhbG9nLmNsYXNzTmFtZSA9IFwibW9kYWwtZGlhbG9nXCI7XG4gICAgICAgIG1vZGFsQ29udGVudC5jbGFzc05hbWUgPSBcIm1vZGFsLWNvbnRlbnRcIjtcbiAgICAgICAgbW9kYWxIZWFkZXIuY2xhc3NOYW1lID0gXCJtb2RhbC1oZWFkZXJcIjtcbiAgICAgICAgbW9kYWxCb2R5LmNsYXNzTmFtZSA9IFwibW9kYWwtYm9keVwiO1xuICAgICAgICBtb2RhbEZvb3Rlci5jbGFzc05hbWUgPSBcIm1vZGFsLWZvb3RlclwiO1xuXG5cbiAgICAgICAgdmFyIGhlYWRlclN0cmluZyA9IHVzZXIgKyBcIidzIFRyYWRkaW5nIE9mZmVyIFRvIFwiICsgb3RoZXJVc2VyO1xuXG4gICAgICAgIHZhciBoMl90aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMlwiKTtcbiAgICAgICAgaDJfdGl0bGUuaW5uZXJIVE1MID0gaGVhZGVyU3RyaW5nO1xuICAgICAgICBtb2RhbEhlYWRlci5hcHBlbmRDaGlsZChoMl90aXRsZSk7XG5cbiAgICAgICAgdmFyIGRpdlJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGRpdlJvdy5jbGFzc05hbWUgPSBcInJvd1wiO1xuICAgICAgICBtb2RhbEJvZHkuYXBwZW5kQ2hpbGQoZGl2Um93KTtcbiAgICAgICAgdmFyIGRpdkJvZHkxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxcbiAgICAgICAgZGl2Qm9keTIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuICAgICAgICBkaXZCb2R5MyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cbiAgICAgICAgZGl2Qm9keTEuY2xhc3NOYW1lID0gXCJjb2wtbWQtNVwiO1xuICAgICAgICBkaXZCb2R5Mi5jbGFzc05hbWUgPSBcImNvbC1tZC0yXCI7XG4gICAgICAgIGRpdkJvZHkzLmNsYXNzTmFtZSA9IFwiY29sLW1kLTVcIjtcblxuICAgICAgICB2YXIgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAgICAgaW1nLnNyYyA9IFwiaW1hZ2VzL3RyYWRlLnBuZ1wiO1xuICAgICAgICBpbWcuc3R5bGUud2lkdGggPSBcIjUwcHhcIjtcbiAgICAgICAgaW1nLnN0eWxlLmhlaWdodCA9IFwiNTBweFwiO1xuXG4gICAgICAgIHZhciBtb2RhbERpdkZvb3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB2YXIgYV95ZXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgICAgICAgYV95ZXMuY2xhc3NOYW1lID0gXCJidG4gYnRuLWRlZmF1bHRcIjtcbiAgICAgICAgYV95ZXMuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwiYnV0dG9uXCIpO1xuICAgICAgICBhX3llcy5pbm5lckhUTUwgPSBcIlZpZXcgTG9jYXRpb24gYW5kIFRpbWUgRGV0YWlsc1wiO1xuICAgICAgICBhX3llcy5zZXRBdHRyaWJ1dGUoXCJkYXRhLWRpc21pc3NcIixcIm1vZGFsXCIpO1xuICAgICAgICBtb2RhbERpdkZvb3QuYXBwZW5kQ2hpbGQoYV95ZXMpO1xuICAgICAgICBtb2RhbEZvb3Rlci5hcHBlbmRDaGlsZChtb2RhbERpdkZvb3QpO1xuXG4gICAgICAgIGNyZWF0ZUltYWdlSXRlbShVc2VyQXJyYXkscGVuZGluZ1RyYWRlcy5JdGVtTWFwLGRpdkJvZHkxKTtcbiAgICAgICAgY3JlYXRlSW1hZ2VJdGVtKE90aGVyQXJyYXkscGVuZGluZ1RyYWRlcy5JdGVtTWFwLGRpdkJvZHkzKTtcbiAgICAgICAgZGl2Qm9keTIuYXBwZW5kQ2hpbGQoaW1nKTtcbiAgICAgICAgZGl2Um93LmFwcGVuZENoaWxkKGRpdkJvZHkxKTtcbiAgICAgICAgZGl2Um93LmFwcGVuZENoaWxkKGRpdkJvZHkyKTtcbiAgICAgICAgZGl2Um93LmFwcGVuZENoaWxkKGRpdkJvZHkzKTtcblxuICAgICAgICBtb2RhbENvbnRlbnQuYXBwZW5kQ2hpbGQobW9kYWxIZWFkZXIpO1xuICAgICAgICBtb2RhbENvbnRlbnQuYXBwZW5kQ2hpbGQobW9kYWxCb2R5KTtcbiAgICAgICAgbW9kYWxDb250ZW50LmFwcGVuZENoaWxkKG1vZGFsRm9vdGVyKTtcbiAgICAgICAgbW9kYWxEaWFsb2cuYXBwZW5kQ2hpbGQobW9kYWxDb250ZW50KTtcbiAgICAgICAgbW9kYWxEaXYuYXBwZW5kQ2hpbGQobW9kYWxEaWFsb2cpO1xuXG4gICAgICAgIHJldHVybiBbbW9kYWxEaXYsYV95ZXNdO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUltYWdlSXRlbSAoaXRlbXMsaXRlbU1hcCxkaXYpIHtcbiAgICAgICAgZm9yICh4IGluIGl0ZW1zKSB7XG4gICAgICAgICAgICB2YXIgbmV3SW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAgICAgICAgIG5ld0ltZy5zcmMgPSBpdGVtTWFwW2l0ZW1zW3hdXS5pbWFnZS5wYXRoMjAwO1xuICAgICAgICAgICAgbmV3SW1nLnN0eWxlLndpZHRoID0gXCIxMDBweFwiO1xuICAgICAgICAgICAgbmV3SW1nLnN0eWxlLmhlaWdodCA9IFwiMTIwcHhcIjtcbiAgICAgICAgICAgIG5ld0ltZy50aXRsZSA9IGl0ZW1NYXBbaXRlbXNbeF1dLm5hbWU7XG4gICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQobmV3SW1nKTtcbiAgICAgICAgfVxuICAgIH1cblxufSk7IC8vIGVuZCBvZiBjb250cm9sbGVyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJykuY29udHJvbGxlcignUGVuZGluZ1RyYWRlc0RldGFpbHNDdHJsJyxmdW5jdGlvbigkc2NvcGUsJHJvdXRlUGFyYW1zLCBVc2VyU3ZjLCBPZmZlclN2YywgUmVzZXJ2YXRpb25TdmMsIFRyYWRpbmdJdGVtU3ZjKXtcbiAgICAkc2NvcGUuVXNlciA9IHt9O1xuICAgICRzY29wZS5Vc2VySW1hZ2UgPSBbXTtcbiAgICAkc2NvcGUuT3RoZXJJbWFnZSA9IFtdO1xuICAgIFVzZXJTdmMuZ2V0VXNlckFjY291bnRJbmZvKClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oVXNlcil7XG4gICAgICAgICAgICAkc2NvcGUuVXNlciA9IFVzZXI7XG4gICAgICAgICAgICBSZXNlcnZhdGlvblN2Yy5nZXRSZXNlcnZhdGlvbigkcm91dGVQYXJhbXMuaWQpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc2VydmF0aW9uKXtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlJlc2VydmF0aW9uID0gcmVzZXJ2YXRpb247XG4gICAgICAgICAgICAgICAgICAgICQoXCIjYXJlYXBpY2tlclwiKS5sb2NhdGlvbnBpY2tlcih7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbjogcmVzZXJ2YXRpb24ubG9jYXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDIwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHpvb206IDE3LFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlQXV0b2NvbXBsZXRlOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgb2ZmZXJJZCA9IHJlc2VydmF0aW9uLm9mZmVySWQ7XG4gICAgICAgICAgICAgICAgICAgIGdyYWJPZmZlcihvZmZlcklkKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSlcblxuICAgIGZ1bmN0aW9uIGdyYWJPZmZlcihvZmZlcklkKXtcbiAgICAgICAgT2ZmZXJTdmMuR2V0T25lT2ZmZXJCeUlkKG9mZmVySWQpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAob2ZmZXIpe1xuICAgICAgICAgICAgICAgIHByb2NjZXNzT2ZmZXIob2ZmZXIpO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJvY2Nlc3NPZmZlcihvZmZlcil7XG4gICAgICAgIGlmKG9mZmVyLlVzZXJfb2ZmZXJfdXNlcm5hbWUgPT09ICRzY29wZS5Vc2VyLnVzZXJuYW1lKXtcbiAgICAgICAgICAgIGZvcih4IGluIG9mZmVyLlVzZXJfb2ZmZXJfaXRlbXMpe1xuICAgICAgICAgICAgICAgIFRyYWRpbmdJdGVtU3ZjLmdldEl0ZW1CeUlkKG9mZmVyLlVzZXJfb2ZmZXJfaXRlbXNbeF0pXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKEl0ZW0pe1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlVzZXJJbWFnZS5wdXNoKEl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh4IGluIG9mZmVyLlVzZXJfb3RoZXJfaXRlbXMpIHtcbiAgICAgICAgICAgICAgICBUcmFkaW5nSXRlbVN2Yy5nZXRJdGVtQnlJZChvZmZlci5Vc2VyX29mZmVyX2l0ZW1zW3hdKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihJdGVtKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5PdGhlckltYWdlLnB1c2goSXRlbSk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IoeCBpbiBvZmZlci5Vc2VyX290aGVyX2l0ZW1zKXtcbiAgICAgICAgICAgICAgICAvL29mZmVyLlVzZXJfb2ZmZXJfdXNlcm5hbWVcbiAgICAgICAgICAgICAgICBUcmFkaW5nSXRlbVN2Yy5nZXRJdGVtQnlJZChvZmZlci5Vc2VyX290aGVyX2l0ZW1zW3hdKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihJdGVtKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5Vc2VySW1hZ2UucHVzaChJdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yICh4IGluIG9mZmVyLlVzZXJfb3RoZXJfaXRlbXMpIHtcbiAgICAgICAgICAgICAgICBUcmFkaW5nSXRlbVN2Yy5nZXRJdGVtQnlJZChvZmZlci5Vc2VyX29mZmVyX2l0ZW1zW3hdKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihJdGVtKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5PdGhlckltYWdlLnB1c2goSXRlbSk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59KTsgLy8gZW5kIG9mIGNvbnRyb2xsZXJcbiIsImFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJQb3N0SXRlbUN0cmxcIixmdW5jdGlvbigkc2NvcGUsJGxvY2F0aW9uLFVzZXJTdmMsVHJhZGluZ0l0ZW1TdmMpe1xuXG4gICAgJHNjb3BlLmdldFVzZXIgPSBcIlwiO1xuICAgICRzY29wZS5uYW1lX29mX2l0ZW0gPVwiXCI7XG4gICAgJHNjb3BlLmRlc2NyaXB0aW9uX29mX2l0ZW0gPVwiXCI7XG5cbiAgICBVc2VyU3ZjLmdldFVzZXJBY2NvdW50SW5mbygpLnRoZW4oZnVuY3Rpb24oVXNlck9iamVjdCl7XG4gICAgICAkc2NvcGUuZ2V0VXNlciA9IFVzZXJPYmplY3QudXNlcm5hbWU7XG4gICAgICAkc2NvcGUuVXNlcklkID0gVXNlck9iamVjdC5faWQ7XG4gICAgfSk7XG5cblxuICAgICRzY29wZS5zdWJtaXRQb3N0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZXJyb3JzID0gZmFsc2U7XG4gICAgICAgIC8vIG1ha2VzIGJ1dHRvbiBkaXNhYmxlZC5cbiAgICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhO1xuICAgICAgICB2YXIgZmlsZSA9ICQoJyNwb3N0X2l0ZW1faW1hZ2UnKVswXS5maWxlc1swXTtcbiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdpbWFnZScsZmlsZSk7XG5cbiAgICAgICAgaWYgKGZpbGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgZXJyb3JzID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBvc3RfaXRlbV9lcnJvcl9pbWFnZVwiKSkge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicG9zdF9pdGVtX2Vycm9yX2ltYWdlXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdHJhZGluZ09iamVjdCA9IHt9O1xuICAgICAgICB0cmFkaW5nT2JqZWN0Lm5hbWUgPSAkc2NvcGUubmFtZV9vZl9pdGVtO1xuICAgICAgICB0cmFkaW5nT2JqZWN0LmRlc2NyaXB0aW9uID0gJHNjb3BlLmRlc2NyaXB0aW9uX29mX2l0ZW07XG4gICAgICAgIHRyYWRpbmdPYmplY3QudXNlciA9ICRzY29wZS5nZXRVc2VyO1xuICAgICAgICB0cmFkaW5nT2JqZWN0LnVzZXJfaWQgPSAkc2NvcGUuVXNlcklkO1xuXG4gICAgICAgIGZvcih4IGluIHRyYWRpbmdPYmplY3QpIHtcbiAgICAgICAgICAgIGlmKHRyYWRpbmdPYmplY3RbeF0gPT09IG51bGwgfHwgdHJhZGluZ09iamVjdFt4XSA9PT0gdW5kZWZpbmVkIHx8IHRyYWRpbmdPYmplY3RbeF0ubGVuZ3RoIDw9IDApe1xuICAgICAgICAgICAgICAgIGRpc3BsYXlFcnJvcih4KTtcbiAgICAgICAgICAgICAgICBlcnJvcnMgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZW1vdmVFcnJvcih4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmKGVycm9ycyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBvc3RfaXRlbV9zdWJtaXRcIikpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBvc3RfaXRlbV9zdWJtaXRcIikuc2V0QXR0cmlidXRlTm9kZShkb2N1bWVudC5jcmVhdGVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBvc3RfaXRlbV9oM191cGxvYWRpbmdcIikpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBvc3RfaXRlbV9oM191cGxvYWRpbmdcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIFRyYWRpbmdJdGVtU3ZjLmFkZEl0ZW0odHJhZGluZ09iamVjdCxmb3JtRGF0YSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL3Bvc3RTdWNjZXNzZnVsbC0nK3Jlc3BvbnNlLl9pZCk7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkaXNwbGF5RXJyb3IobmFtZU9mKSB7XG4gICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBvc3RfaXRlbV9lcnJvcl9cIituYW1lT2YpKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBvc3RfaXRlbV9lcnJvcl9cIituYW1lT2YpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW1vdmVFcnJvcihuYW1lT2YpIHtcbiAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicG9zdF9pdGVtX2Vycm9yX1wiK25hbWVPZikpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicG9zdF9pdGVtX2Vycm9yX1wiK25hbWVPZikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICB9XG4gICAgfVxuXG59KTtcbiIsImFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJQb3N0SXRlbVN1Y2Nlc3NDdHJsXCIsZnVuY3Rpb24oJHNjb3BlLCRyb3V0ZVBhcmFtcyxUcmFkaW5nSXRlbVN2Yyl7XG4gICAgJHNjb3BlLnBvc3RJdGVtU3VjY2VzcyA9IHt9XG4gICAgVHJhZGluZ0l0ZW1TdmMuZ2V0SXRlbUJ5SWQoJHJvdXRlUGFyYW1zLmlkKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICRzY29wZS5wb3N0SXRlbVN1Y2Nlc3MgPSByZXNwb25zZTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcbiAgICAgICAgfSk7XG59KTtcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKS5jb250cm9sbGVyKCdSZWdpc3RlckN0cmwnLGZ1bmN0aW9uKCRzY29wZSwkbG9jYXRpb24sVXNlclN2Yyl7XG5cbiAgICAvLyByZWdpc3RlciB1c2VyIHRoYXQgdGFsa3MgdG8gc2VydmljZVxuICAgICRzY29wZS5yZWdpc3RlciA9IGZ1bmN0aW9uKGZpcnN0X25hbWUsbGFzdF9uYW1lLHVzZXJuYW1lLHBhc3N3b3JkLGVtYWlsLGNpdHksc3RhdGUpe1xuICAgIFx0VXNlclN2Yy5yZWdpc3RlcihmaXJzdF9uYW1lLGxhc3RfbmFtZSx1c2VybmFtZSxwYXNzd29yZCxlbWFpbCxjaXR5LHN0YXRlKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdsb2dpbicsdXNlcik7XG4gICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgncmVnaXN0ZXItc2V0dXAnKTtcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgfSk7XG5cbiAgICB9O1xuXG4gICAgJHNjb3BlLmNoZWNrVW5pcXVlVXNlciA9IGZ1bmN0aW9uKCl7XG4gICAgICBpZigkc2NvcGUucmVnaXN0ZXJfdXNlcm5hbWUubGVuZ3RoPjApe1xuICAgIFx0ICAgVXNlclN2Yy5jaGVja191c2VybmFtZSgkc2NvcGUucmVnaXN0ZXJfdXNlcm5hbWUpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xuICAgICAgICAgICB2YXIgbGFiZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVnaXN0ZXJfVXNlckNoZWNrJyk7XG4gICAgICAgICAgIGlmKCFyZXNwb25zZSlcbiAgICAgICAgICAgICBsYWJlbC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgbGFiZWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIFx0ICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgJHNjb3BlLmNoZWNrVW5pcXVlRW1haWwgPSBmdW5jdGlvbigpe1xuICAgIFx0aWYoJHNjb3BlLnJlZ2lzdGVyX0VtYWlsQ2hlY2subGVuZ3RoPjApe1xuICAgICAgICAgICAgVXNlclN2Yy5jaGVja19lbWFpbCgkc2NvcGUucmVnaXN0ZXJfRW1haWxDaGVjaykudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgICAgICAgICAgIHZhciBsYWJlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWdpc3Rlcl9FbWFpbENoZWNrJyk7XG4gICAgICAgICAgICAgIGlmKCFyZXNwb25zZSlcbiAgICAgICAgICAgICAgICBsYWJlbC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgbGFiZWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgIFx0fSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgJHNjb3BlLnJlZ2lzdGVyX3VzZXJuYW1lID0gXCJcIjtcbiAgICAkc2NvcGUucmVnaXN0ZXJfRW1haWxDaGVjayA9IFwiXCI7XG4gICAgJHNjb3BlLlVuaXF1ZUVtYWlsID0gdHJ1ZTtcbiAgICAkc2NvcGUuVW5pcXVlVXNlciA9IHRydWU7XG59KTtcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKS5jb250cm9sbGVyKCdSZWdpc3RlclNldHVwQ3RybCcsZnVuY3Rpb24oJHNjb3BlLFVzZXJTdmMpe1xuXG4gIHZhciBSZWdpc3RlclNldFVwID0ge307XG4gIFJlZ2lzdGVyU2V0VXAudXNlcm5hbWUgPSBcIlwiXG4gIFJlZ2lzdGVyU2V0VXAudXNlciA9IHt9O1xuICAkc2NvcGUucmVnaXN0ZXJfc2V0dXBfdXNlckltYWdlID0gXCJpbWFnZXMvdXNlcnMvYmxhbmtfdXNlci5wbmdcIjtcblxuICBVc2VyU3ZjLmdldFJlZ2lzdGVyU2Vzc2lvbigpO1xuXG4gIC8vIGdldCdzIGN1cnJlbnQgdXNlcidzIG5hbWUuXG4gIFVzZXJTdmMuZ2V0VXNlckFjY291bnRJbmZvKCkudGhlbihmdW5jdGlvbihVc2VyT2JqZWN0KXtcbiAgICBSZWdpc3RlclNldFVwLnVzZXIgPSBVc2VyT2JqZWN0O1xuICAgICRzY29wZS5yZWdpc3Rlcl9zZXR1cF91c2VybmFtZSA9IFVzZXJPYmplY3QudXNlcm5hbWU7XG5cbiAgfSk7XG5cbiAgJHNjb3BlLmZpbGVVcENsaWVudCA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIG5leHRTdGVwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlZ2lzdGVyX3NldHVwX25leHQnKTtcbiAgICBuZXh0U3RlcC5pbm5lckhUTUwgPSBcIk5leHQgU3RlcFwiO1xuICB9XG5cbiAgJHNjb3BlLmNvbnRpbnVlUmVnaXN0ZXIgPSBmdW5jdGlvbigpe1xuICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YTtcbiAgICB2YXIgZmlsZSA9ICQoJyNyZWdpc3Rlcl9zZXR1cF9pbWFnZXNfZmlsZScpWzBdLmZpbGVzWzBdO1xuICAgIGZvcm1EYXRhLmFwcGVuZCgnaW1hZ2UnLGZpbGUpO1xuICAgIFVzZXJTdmMuU2V0VXNlclByb2ZpbGVJbWFnZShmb3JtRGF0YSxSZWdpc3RlclNldFVwLnVzZXIuX2lkKTtcbiAgICBVc2VyU3ZjLmRlc3RvcnlSZWdpc3RlclNlc3Npb24oKTtcbiAgfVxuXG4gIC8vIGRlc3Ryb3lzIHRoZSByZWdpc3RlciBzZXNzaW9uLlxuICB2YXIgZGVzdG9yeVJlZ2lzdGVyID1mdW5jdGlvbigpe1xuICAgIFVzZXJTdmMuZGVzdG9yeVJlZ2lzdGVyU2Vzc2lvbigpO1xuICB9XG5cbiAgLy8gbW9kaWZ5cyB3aW5kb3cgKGJyb3dzZXIpIHJlbG9hZC9jbG9zZSBldmVudC5cbiAgd2luZG93Lm9uYmVmb3JldW5sb2FkID0gZGVzdG9yeVJlZ2lzdGVyO1xuXG4gIC8vIG1vZGlmeXMgd2luZG93IChicm93c2VyKSB1cmwgY2hhbmdlIGV2ZW50LlxuICB3aW5kb3cub25oYXNoY2hhbmdlID0gZnVuY3Rpb24oZXZlbnQpe1xuICAgIGlmKGV2ZW50Lm9sZFVSTCA9PSBcImh0dHBzOi8vbGl0LXJpZGdlLTgzODQ3Lmhlcm9rdWFwcC5jb20vIy9yZWdpc3Rlci1zZXR1cFwiKXtcbiAgICAgIFVzZXJTdmMuZGVzdG9yeVJlZ2lzdGVyU2Vzc2lvbigpO1xuICAgIH1cbiAgfVxuXG5cbiAgJCgnI215Q2Fyb3VzZWwnKS5jYXJvdXNlbCh7XG4gICAgICAgaW50ZXJ2YWw6ICAgMjU3NlxuICAgfSk7XG5cbiAgIHZhciBjbGlja0V2ZW50ID0gZmFsc2U7XG4gICAkKCcjbXlDYXJvdXNlbCcpLm9uKCdjbGljaycsICcubmF2IGEnLCBmdW5jdGlvbigpIHtcbiAgICAgICBjbGlja0V2ZW50ID0gdHJ1ZTtcbiAgICAgICAkKCcubmF2IGxpJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICQodGhpcykucGFyZW50KCkuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgfSkub24oJ3NsaWQuYnMuY2Fyb3VzZWwnLCBmdW5jdGlvbihlKSB7XG4gICAgIGlmKCFjbGlja0V2ZW50KSB7XG4gICAgICAgdmFyIGNvdW50ID0gJCgnLm5hdicpLmNoaWxkcmVuKCkubGVuZ3RoIC0xO1xuICAgICAgIHZhciBjdXJyZW50ID0gJCgnLm5hdiBsaS5hY3RpdmUnKTtcbiAgICAgICBjb25zb2xlLmxvZyhjb3VudCk7XG4gICAgICAgY29uc29sZS5sb2coY3VycmVudClcbiAgICAgICBjdXJyZW50LnJlbW92ZUNsYXNzKCdhY3RpdmUnKS5uZXh0KCkuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgIHZhciBpZCA9IHBhcnNlSW50KGN1cnJlbnQuZGF0YSgnc2xpZGUtdG8nKSk7XG4gICAgICAgaWYoY291bnQgPT0gaWQpIHtcbiAgICAgICAgICQoJy5uYXYgbGknKS5maXJzdCgpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICB9XG4gICAgIH1cbiAgICAgY2xpY2tFdmVudCA9IGZhbHNlO1xuICAgfSk7XG5cbn0pOyAvLyBlbmQgb2YgQ29udHJvbGxlclxuXG5hbmd1bGFyLm1vZHVsZSgnYXBwJykuZGlyZWN0aXZlKCdjdXN0b21PbkNoYW5nZScsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgdmFyIG9uQ2hhbmdlSGFuZGxlciA9IHNjb3BlLiRldmFsKGF0dHJzLmN1c3RvbU9uQ2hhbmdlKTtcbiAgICAgIGVsZW1lbnQuYmluZCgnY2hhbmdlJywgb25DaGFuZ2VIYW5kbGVyKTtcbiAgICB9XG4gIH07XG59KTsgLy8gRW5kIG9mIGRpcmVjdGl2ZSAnY3VzdG9tT25DaGFuZ2UnXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJykuY29udHJvbGxlcignUmVzZXJ2YXRpb25DdHJsJyxmdW5jdGlvbigkc2NvcGUsJHJvdXRlUGFyYW1zLCRsb2NhdGlvbixVc2VyU3ZjLE9mZmVyU3ZjLFJlc2VydmF0aW9uU3ZjLFRyYWRpbmdJdGVtU3ZjKXtcbiAgICAvLyRyb3V0ZVBhcmFtcy5pZFxuICAgICQoZnVuY3Rpb24gKCkge1xuICAgICAgICAkKFwiI2RhdGVwaWNrZXJcIikuZGF0ZXBpY2tlcih7XG4gICAgICAgICAgICBzaG93T246IFwiYnV0dG9uXCIsXG4gICAgICAgICAgICBidXR0b25JbWFnZTogXCJodHRwczovL2kuaW1ndXIuY29tL3h5cU01ZVYucG5nPzJcIixcbiAgICAgICAgICAgIGJ1dHRvbkltYWdlT25seTogdHJ1ZSxcbiAgICAgICAgICAgIGJ1dHRvblRleHQ6IFwiUGljayBhIGRhdGVcIlxuICAgICAgICB9KTtcbiAgICAgICAgJCgnI2Jhc2ljRXhhbXBsZScpLnRpbWVwaWNrZXIoKTtcbiAgICB9KTtcblxuICAgICRzY29wZS5yZXNlcnZhdGlvbiA9IHt9O1xuICAgICRzY29wZS5yZXNlcnZhdGlvbi5vZmZlcklkID0gJHJvdXRlUGFyYW1zLmlkO1xuICAgICRzY29wZS5yZXNlcnZhdGlvbi5sb2NhdGlvbiA9IHt9O1xuICAgICRzY29wZS5yZXNlcnZhdGlvbi5kYXRlID0ge307XG5cbiAgICAkc2NvcGUuc3VibWl0UmVzZXJ2YXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHRpbWUgPSAkKCcjYmFzaWNFeGFtcGxlJykudmFsKCk7XG4gICAgICAgIHZhciBkYXRlID0gJCgnI2RhdGVwaWNrZXInKS52YWwoKTtcbiAgICAgICAgJHNjb3BlLnJlc2VydmF0aW9uLmRhdGUudGltZSA9IHRpbWU7XG4gICAgICAgICRzY29wZS5yZXNlcnZhdGlvbi5kYXRlLmRheSA9IGRhdGU7XG4gICAgICAgIGlmKHRpbWUgPT09IFwiXCIgfHwgZGF0ZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZXNlcnZhdGlvbl9oNF93YXJybmluZ1wiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFJlc2VydmF0aW9uU3ZjLm1ha2VSZXNlcnZhdGlvbigkc2NvcGUucmVzZXJ2YXRpb24pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAvL1VzZXJfb2ZmZXJfaXRlbXNcbiAgICAgICAgICAgICAgICAvL1VzZXJfb3RoZXJfaXRlbXNcbiAgICAgICAgICAgICAgICBmb3IoeCBpbiByZXNwb25zZS5kYXRhLlVzZXJfb3RoZXJfaXRlbXMpe1xuICAgICAgICAgICAgICAgICAgICBUcmFkaW5nSXRlbVN2Yy5zZXRUcmFkZVRydWVCeUlkKHJlc3BvbnNlLmRhdGEuVXNlcl9vdGhlcl9pdGVtc1t4XSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZm9yICh4IGluIHJlc3BvbnNlLmRhdGEuVXNlcl9vZmZlcl9pdGVtcykge1xuICAgICAgICAgICAgICAgICAgICBUcmFkaW5nSXRlbVN2Yy5zZXRUcmFkZVRydWVCeUlkKHJlc3BvbnNlLmRhdGEuVXNlcl9vZmZlcl9pdGVtc1t4XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKFwiL3BlbmRpbmdUcmFkZXNcIik7XG4gICAgICAgICAgICB9KVxuICAgIH1cblxuICAgIFVzZXJTdmMuZ2V0VXNlckFjY291bnRJbmZvKClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKFVzZXIpIHtcbiAgICAgICAgICAgICRzY29wZS5yZXNlcnZhdGlvbi5sb2NhdGlvbi5sYXRpdHVkZSA9IFVzZXIuZ2VvY29kZS5sYXQ7XG4gICAgICAgICAgICAkc2NvcGUucmVzZXJ2YXRpb24ubG9jYXRpb24ubG9uZ2l0dWRlID0gVXNlci5nZW9jb2RlLmxuZztcbiAgICAgICAgICAgIC8vQXJlYXBpY2tlclxuICAgICAgICAgICAgJChcIiNhcmVhcGlja2VyXCIpLmxvY2F0aW9ucGlja2VyKHtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICBsYXRpdHVkZTogVXNlci5nZW9jb2RlLmxhdCxcbiAgICAgICAgICAgICAgICAgICAgbG9uZ2l0dWRlOiBVc2VyLmdlb2NvZGUubG5nXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByYWRpdXM6IDIwMCxcbiAgICAgICAgICAgICAgICBpbnB1dEJpbmRpbmc6IHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb25OYW1lSW5wdXQ6ICQoJyNhZGRyZXNzJylcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVuYWJsZUF1dG9jb21wbGV0ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBvbmNoYW5nZWQ6IGZ1bmN0aW9uIChjdXJyZW50TG9jYXRpb24sIHJhZGl1cywgaXNNYXJrZXJEcm9wcGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5yZXNlcnZhdGlvbi5sb2NhdGlvbiA9IGN1cnJlbnRMb2NhdGlvblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0pO1xuXG59KTtcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKS5jb250cm9sbGVyKCdVc2VyQ3RybCcsZnVuY3Rpb24oJHNjb3BlLFVzZXJTdmMpe1xuICB2YXIgaDEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImgxXCIpO1xuICBVc2VyU3ZjLmdldFVzZXJBY2NvdW50SW5mbygpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XG4gICAgJHNjb3BlLlVzZXIgPSBkYXRhLnVzZXJuYW1lO1xuICAgICRzY29wZS51c2VySW1hZ2UgPSBkYXRhLnVzZXJfaW1hZ2U7XG4gIH0pXG59KTsgLy9lbmQgb2YgY29udHJvbGxlclxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpLmNvbnRyb2xsZXIoJ1VzZXJTZXR0aW5ncycsZnVuY3Rpb24oJHNjb3BlLFVzZXJTdmMpe1xuICAvLyBDaGVja3MgdXNlciBzZXNzaW9uIC8vXG4gIHZhciBVc2VyU3ZjT2JqID0ge307XG4gIFVzZXJTdmNPYmouZm9ybUl0ZW1zID0ge307XG4gIFVzZXJTdmNPYmouZXJyb3JGb3JtSXRlbXMgPSB7fTtcbiAgVXNlclN2Y09iai5mb3JtSXRlbXMuZW1haWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXJfc2V0dGluZ3NfaW5wdXRfZW1haWxcIik7XG4gIFVzZXJTdmNPYmouZm9ybUl0ZW1zLmZpcnN0X25hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXJfc2V0dGluZ3NfaW5wdXRfZmlyc3RcIik7XG4gIFVzZXJTdmNPYmouZm9ybUl0ZW1zLmxhc3RfbmFtZSAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXJfc2V0dGluZ3NfaW5wdXRfbGFzdFwiKTtcbiAgVXNlclN2Y09iai5mb3JtSXRlbXMudXNlcm5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXJfc2V0dGluZ3NfaW5wdXRfdXNlcm5hbWVcIik7XG4gIFVzZXJTdmNPYmouZXJyb3JGb3JtSXRlbXMudXNlcm5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXJfc2V0dGluZ3NfY2hlY2tfdXNlcm5hbWVcIik7XG4gIFVzZXJTdmNPYmouZXJyb3JGb3JtSXRlbXMuZW1haWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXJfc2V0dGluZ3NfY2hlY2tfZW1haWxcIik7XG4gIFVzZXJTdmNPYmoudXNlcl9pbWFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlcl9zZXR0aW5nc19pbWFnZVwiKTtcbiAgVXNlclN2Y09iai5maWVsZHNldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlcl9zZXR0aW5nc19maWVsZFNldFwiKTtcbiAgVXNlclN2Y09iai5jb250YWluRXJyb3IgPSBmYWxzZTtcbiAgVXNlclN2Y09iai5vcmlnaW5hbFVzZXIgPSB7fVxuICAvLyByZXR1cm5zIDIwMSBvciA0MDFcbiAgVXNlclN2Yy5nZXRMb2dJblNlc3Npb24oKTtcblxuICAvLyB1cGRhdGVzIGZvcm0uXG4gIFVzZXJTdmMuZ2V0VXNlckFjY291bnRJbmZvKCkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgVXNlclN2Y09iai5vcmlnaW5hbFVzZXIgPSByZXNwb25zZTtcbiAgICAvLyBMb29wcyB0aHJvdWdoIGZvcm0gaXRlbXMgYW5kIHNldHMgdGhlIHZhbHVlLlxuICAgIGZvcih4IGluIFVzZXJTdmNPYmouZm9ybUl0ZW1zKXtcbiAgICAgIFVzZXJTdmNPYmouZm9ybUl0ZW1zW3hdLnNldEF0dHJpYnV0ZShcInZhbHVlXCIscmVzcG9uc2VbeF0pO1xuICAgIH1cbiAgICAvLyBVbmJsb2NrcyB1c2VyIGlucHV0XG4gICAgVXNlclN2Y09iai5maWVsZHNldC5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcbiAgICAvLyBTZXRzIHVzZXIgaW1hZ2VcbiAgICAvLyFkb2NzLnVzZXJfaW1hZ2UuaGFzT3duUHJvcGVydHkoJ2RlZmF1bHQnXG4gICAgaWYocmVzcG9uc2UudXNlcl9pbWFnZS5oYXNPd25Qcm9wZXJ0eSgnZGVmYXVsdCcpKXtcbiAgICAgIFVzZXJTdmNPYmoudXNlcl9pbWFnZS5zcmM9cmVzcG9uc2UudXNlcl9pbWFnZS5kZWZhdWx0O1xuICAgIH1lbHNle1xuICAgICAgVXNlclN2Y09iai51c2VyX2ltYWdlLnNyYz1yZXNwb25zZS51c2VyX2ltYWdlLnBhdGg4MDA7XG4gICAgfVxuXG4gIH0pO1xuXG4gICRzY29wZS5jaGVja1VuaXF1ZUVtYWlsID0gZnVuY3Rpb24oKXtcbiAgICBpZihVc2VyU3ZjT2JqLmZvcm1JdGVtcy5lbWFpbC52YWx1ZS5sZW5ndGg+MCAmJiBVc2VyU3ZjT2JqLmZvcm1JdGVtcy5lbWFpbC52YWx1ZSAhPSBVc2VyU3ZjT2JqLm9yaWdpbmFsVXNlci5lbWFpbCl7XG4gICAgICBVc2VyU3ZjLmNoZWNrX2VtYWlsKFVzZXJTdmNPYmouZm9ybUl0ZW1zLmVtYWlsLnZhbHVlKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcbiAgICAgICAgaWYoIXJlc3BvbnNlKXtcbiAgICAgICAgICBVc2VyU3ZjT2JqLmVycm9yRm9ybUl0ZW1zLmVtYWlsLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgVXNlclN2Y09iai5jb250YWluRXJyb3IgPSB0cnVlO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICBVc2VyU3ZjT2JqLmVycm9yRm9ybUl0ZW1zLmVtYWlsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICBVc2VyU3ZjT2JqLmNvbnRhaW5FcnJvciA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAkc2NvcGUuY2hlY2tVbmlxdWVVc2VybmFtZSA9IGZ1bmN0aW9uKCl7XG4gICAgaWYoVXNlclN2Y09iai5mb3JtSXRlbXMudXNlcm5hbWUudmFsdWUubGVuZ3RoPjAgJiYgVXNlclN2Y09iai5mb3JtSXRlbXMudXNlcm5hbWUudmFsdWUgIT0gVXNlclN2Y09iai5vcmlnaW5hbFVzZXIudXNlcm5hbWUgKXtcbiAgICAgIFVzZXJTdmMuY2hlY2tfdXNlcm5hbWUoVXNlclN2Y09iai5mb3JtSXRlbXMudXNlcm5hbWUudmFsdWUpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xuICAgICAgICBpZighcmVzcG9uc2Upe1xuICAgICAgICAgIFVzZXJTdmNPYmouZXJyb3JGb3JtSXRlbXMudXNlcm5hbWUuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICBVc2VyU3ZjT2JqLmNvbnRhaW5FcnJvciA9IHRydWU7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIFVzZXJTdmNPYmouZXJyb3JGb3JtSXRlbXMudXNlcm5hbWUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgIFVzZXJTdmNPYmouY29udGFpbkVycm9yID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gICRzY29wZS5Db25maXJtQ2hhbmdlcyA9IGZ1bmN0aW9uKCl7XG4gICAgaWYoVXNlclN2Y09iai5jb250YWluRXJyb3Ipe1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvL2VtYWlsOmVtYWlsLGZpcnN0X25hbWU6Zmlyc3RuYW1lLGxhc3RfbmFtZTpsYXN0bmFtZSx1c2VybmFtZTp1c2VybmFtZVxuICAgIFVzZXJTdmMudXBkYXRlVXNlckNvbnRlbnQoVXNlclN2Y09iai5mb3JtSXRlbXMuZW1haWwudmFsdWUsXG4gICAgICBVc2VyU3ZjT2JqLmZvcm1JdGVtcy5maXJzdF9uYW1lLnZhbHVlLFxuICAgICAgVXNlclN2Y09iai5mb3JtSXRlbXMubGFzdF9uYW1lLnZhbHVlLFxuICAgICAgVXNlclN2Y09iai5mb3JtSXRlbXMudXNlcm5hbWUudmFsdWUsVXNlclN2Y09iai5vcmlnaW5hbFVzZXIuX2lkKVxuICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXJfc2V0dGluZ3NfaDNfY2hhbmdlXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICB9KVxuICB9IC8vIGVuZCBvZiBDb25maXJtQ2hhbmdlc1xuXG4gICRzY29wZS5maWxlVXBsb2FkUmVhZHkgPSBmdW5jdGlvbigpe1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VyX3NldHRpbmdzX3N1Ym1pdCcpLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VyX3NldHRpbmdzX2g0X2ltZ1VwJykuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICB9XG5cbiAgJHNjb3BlLnN1Ym1pdEltYWdlID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGE7XG4gICAgdmFyIGZpbGUgPSAkKCcjdXNlcl9zZXR0aW5nc19pbWFnZXNfaW5wdXQnKVswXS5maWxlc1swXTtcbiAgICBmb3JtRGF0YS5hcHBlbmQoJ2ltYWdlJyxmaWxlKTtcbiAgICB2YXIgZGlzID0gZG9jdW1lbnQuY3JlYXRlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJfc2V0dGluZ3Nfc3VibWl0Jykuc2V0QXR0cmlidXRlTm9kZShkaXMpO1xuICAgIFVzZXJTdmMuU2V0VXNlclByb2ZpbGVJbWFnZShmb3JtRGF0YSxVc2VyU3ZjT2JqLm9yaWdpbmFsVXNlci5faWQpLnRoZW4oZnVuY3Rpb24ocmVzdWx0cyl7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlcl9zZXR0aW5nc19oNF9pbWdVcCcpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgfSlcbiAgfTsvLyBFbmQgb2YgdXBsb2FkRmlsZVxuXG59KTtcblxuYW5ndWxhci5tb2R1bGUoJ2FwcCcpLmRpcmVjdGl2ZSgnY3VzdG9tT25DaGFuZ2UnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIHZhciBvbkNoYW5nZUhhbmRsZXIgPSBzY29wZS4kZXZhbChhdHRycy5jdXN0b21PbkNoYW5nZSk7XG4gICAgICBlbGVtZW50LmJpbmQoJ2NoYW5nZScsIG9uQ2hhbmdlSGFuZGxlcik7XG4gICAgfVxuICB9O1xufSk7IC8vIEVuZCBvZiBkaXJlY3RpdmUgJ2N1c3RvbU9uQ2hhbmdlJ1xuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpLmNvbnRyb2xsZXIoJ1VzZXJTZXR0aW5nc1Bhc3N3b3JkJyxmdW5jdGlvbigkc2NvcGUsVXNlclN2Yyl7XG4gICRzY29wZS51cGRhdGVQYXNzd29yZCA9IGZ1bmN0aW9uKCl7XG4gICAgaWYoKCRzY29wZS5Vc2VyUGFzc3dvcmQubGVuZ3RoPjAgJiYgJHNjb3BlLk5ld1Bhc3N3b3JkLmxlbmd0aD4wICYmICRzY29wZS5Db25maXJtTmV3UGFzc3dvcmQubGVuZ3RoPjApKXtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlcl9zZXR0aW5nc19wYXNzd29yZF9wX3N1Y2Nlc3NcIikuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtcbiAgICAgIGlmKCgkc2NvcGUuTmV3UGFzc3dvcmQgIT0gJHNjb3BlLlVzZXJQYXNzd29yZCkgJiYgKCRzY29wZS5Db25maXJtTmV3UGFzc3dvcmQgPT0gJHNjb3BlLk5ld1Bhc3N3b3JkKSl7XG4gICAgICAgIHZhciBkaXMgPSBkb2N1bWVudC5jcmVhdGVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJfc2V0dGluZ3NfcGFzc3dvcmRfYnRuX1VQJykuc2V0QXR0cmlidXRlTm9kZShkaXMpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXJfc2V0dGluZ3NfcGFzc3dvcmRfcF9tYXRjaGluZ1wiKS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXJfc2V0dGluZ3NfcGFzc3dvcmRfcF9jb25maXJtXCIpLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7XG4gICAgICAgIFVzZXJTdmMuY2hhbmdlUGFzc3dvcmQoJHNjb3BlLlVzZXJQYXNzd29yZCwkc2NvcGUuTmV3UGFzc3dvcmQpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcbiAgICAgICAgICAgIGlmKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDApe1xuICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXJfc2V0dGluZ3NfcGFzc3dvcmRfcF9zdWNjZXNzXCIpLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiO1xuICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXJfc2V0dGluZ3NfcGFzc3dvcmRfcF93cm9uZ1wiKS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO1xuICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlcl9zZXR0aW5nc19wYXNzd29yZF9idG5fVVAnKS5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgICAgIH1lbHNlIGlmIChyZXNwb25zZS5zdGF0dXMgPT0gNDA2KXtcbiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1c2VyX3NldHRpbmdzX3Bhc3N3b3JkX3Bfd3JvbmdcIikuc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7XG4gICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlcl9zZXR0aW5nc19wYXNzd29yZF9idG5fVVBcIikucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgIH1lbHNlIGlmICgkc2NvcGUuTmV3UGFzc3dvcmQgPT0gJHNjb3BlLlVzZXJQYXNzd29yZCl7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlcl9zZXR0aW5nc19wYXNzd29yZF9wX21hdGNoaW5nXCIpLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiO1xuICAgICAgICBjb25zb2xlLmxvZygncG9wJyk7XG4gICAgICB9ZWxzZSBpZigkc2NvcGUuQ29uZmlybU5ld1Bhc3N3b3JkICE9ICRzY29wZS5OZXdQYXNzd29yZCl7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlcl9zZXR0aW5nc19wYXNzd29yZF9wX2NvbmZpcm1cIikuc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7XG4gICAgICAgIGNvbnNvbGUubG9nKCdoaXQnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn0pO1xuIiwiYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuc2VydmljZShcIkNoYXRTdmNcIiwgZnVuY3Rpb24gKCRodHRwKSB7XG4gIHZhciBzdmMgPSB0aGlzO1xuXG4gIC8vIEdldCdzIHRvcCB0ZW4gcmVjZW50IG1lc3NhZ2VzIGZyb20gYm90aCB1c2Vycy5cbiAgc3ZjLmdldFJlY2VudE1lc3NhZ2VzID0gZnVuY3Rpb24ob3RoZXJVc2VyKXtcbiAgICByZXR1cm4gJGh0dHAuZ2V0KFwiYXBpL2NoYXQvXCIrb3RoZXJVc2VyKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH0pO1xuICB9O1xuXG4gIHN2Yy5zZW5kTWVzc2FnZSA9IGZ1bmN0aW9uKG90aGVyVXNlcixtZXNzYWdlQm9keSl7XG4gICAgcmV0dXJuICRodHRwLnBvc3QoXCJhcGkvY2hhdC9cIix7b3RoZXJVc2VyOm90aGVyVXNlcixib2R5Om1lc3NhZ2VCb2R5fSk7XG4gIH1cblxuICBzdmMuc2VuZE1lc3NhZ2VXaXRoT2ZmZXJJRCA9IGZ1bmN0aW9uIChvdGhlclVzZXIsbWVzc2FnZUJvZHksX2lkKSB7XG4gICAgICByZXR1cm4gJGh0dHAucG9zdChcImFwaS9jaGF0L3NwZWNpYWwvXCIse290aGVyVXNlcjpvdGhlclVzZXIsYm9keTptZXNzYWdlQm9keSxvZmZlcklkOl9pZH0pO1xuICB9XG5cbn0pIC8qIEVuZCBvZiBDaGF0U3ZjKi9cbiIsImFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLnNlcnZpY2UoXCJHZW9TdmNcIiwgZnVuY3Rpb24gKCRodHRwKSB7XG5cbiAgICB2YXIgc3ZjID0gdGhpcztcbiAgICAvLy9nZW8vOmxhdFwiK1wiLVwiK1wiOmxuZ1xuICAgIHN2Yy5nZXRDaXR5U3RhdGUgPSBmdW5jdGlvbihsb2NhdGlvbil7XG4gICAgICAgIHJldHVybiAkaHR0cC5nZXQoXCIvYXBpL2dlby9cIiArIGxvY2F0aW9uLmNvb3Jkcy5sYXRpdHVkZSArIFwiLVwiICsgbG9jYXRpb24uY29vcmRzLmxvbmdpdHVkZSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG59KSAvKiBFbmQgb2YgQ2hhdFN2YyovXG4iLCJhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5zZXJ2aWNlKFwiT2ZmZXJTdmNcIiwgZnVuY3Rpb24gKCRodHRwKSB7XG4gICAgdmFyIHN2YyA9IHRoaXM7XG5cbiAgICBzdmMuR2V0QWxsT2ZmZXJzQnlVc2VyTmFtZSA9IGZ1bmN0aW9uIChVc2VybmFtZSkge1xuICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KFwiL2FwaS9vZmZlcnMvdXNlcm5hbWUvXCIrVXNlcm5hbWUpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoT2ZmZXJzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE9mZmVycy5kYXRhO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3ZjLkdldE9uZU9mZmVyQnlJZCA9IGZ1bmN0aW9uIChfaWQpIHtcbiAgICAgICAgcmV0dXJuICRodHRwLmdldChcIi9hcGkvb2ZmZXJzL2lkL1wiK19pZClcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChPZmZlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBPZmZlci5kYXRhO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3ZjLm1ha2VPZmZlciA9IGZ1bmN0aW9uIChPZmZlck9iamVjdCkge1xuICAgICAgICByZXR1cm4gJGh0dHAucG9zdChcIi9hcGkvb2ZmZXJzL21ha2UvXCIsIE9mZmVyT2JqZWN0KVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKE9mZmVyQ3JlYXRlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBPZmZlckNyZWF0ZWQuZGF0YTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIHN2Yy5zZXRSZXNlcnZhdGlvbiA9IGZ1bmN0aW9uKFJlc2VydmF0aW9uT2JqZWN0KSB7XG4gICAgICAgIHJldHVybiAkaHR0cC5wdXQoXCIvYXBpL29mZmVycy9hZGRUcmFuc2FjdGlvblBlbmRpbmcvXCIsIFJlc2VydmF0aW9uT2JqZWN0KVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgICAgICB9KVxuICAgIH1cblxuICAgIHN2Yy5HZXRQZW5kaW5nT2ZmZXJzID0gZnVuY3Rpb24oVXNlcm5hbWUpe1xuICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KFwiL2FwaS9vZmZlcnMvcGVuZGluZy91c2VybmFtZS9cIitVc2VybmFtZSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChPZmZlcnMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gT2ZmZXJzLmRhdGE7XG4gICAgICAgICAgICB9KVxuICAgIH1cblxufSk7XG4iLCJhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5zZXJ2aWNlKFwiUmVzZXJ2YXRpb25TdmNcIiwgZnVuY3Rpb24gKCRodHRwLE9mZmVyU3ZjKSB7XG4gICAgdmFyIHN2YyA9IHRoaXM7XG4gICAgc3ZjLm1ha2VSZXNlcnZhdGlvbiA9IGZ1bmN0aW9uIChPZmZlck9iamVjdCkge1xuICAgICAgICByZXR1cm4gJGh0dHAucG9zdChcIi9hcGkvcmVzZXJ2YXRpb24vbWFrZS9cIiwgT2ZmZXJPYmplY3QpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoT2ZmZXJDcmVhdGVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9mZmVyQ3JlYXRlZCA9IE9mZmVyQ3JlYXRlZC5kYXRhO1xuICAgICAgICAgICAgICAgIG9mZmVyQ3JlYXRlZC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIHZhciByZXNlcnZhdGlvbk9iamVjdCA9IHt9O1xuICAgICAgICAgICAgICAgIHJlc2VydmF0aW9uT2JqZWN0Lm9mZmVySWQgPSBvZmZlckNyZWF0ZWRbMF0ub2ZmZXJJZDtcbiAgICAgICAgICAgICAgICByZXNlcnZhdGlvbk9iamVjdC5UcmFuc2FjdGlvblBlbmRpbmdJZCA9IG9mZmVyQ3JlYXRlZFswXS5faWQ7XG4gICAgICAgICAgICAgICAgcmVzZXJ2YXRpb25PYmplY3Qub2ZmZXJTdGF0dXMgPSBcImFjY2VwdGVkXCJcbiAgICAgICAgICAgICAgICByZXR1cm4gT2ZmZXJTdmMuc2V0UmVzZXJ2YXRpb24ocmVzZXJ2YXRpb25PYmplY3QpO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3ZjLmRlY2xpbmVSZXNlcnZhdGlvbiA9IGZ1bmN0aW9uKCl7XG5cbiAgICB9XG5cbiAgICBzdmMuZ2V0UmVzZXJ2YXRpb24gPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgcmV0dXJuICRodHRwLmdldChcIi9hcGkvdHJhbnNQZW5kL2dldFRyYW5zUGVuZC9maW5kT25lL1wiK2lkKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKFJlc2VydmF0aW9uKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gUmVzZXJ2YXRpb24uZGF0YTtcbiAgICAgICAgICAgIH0pXG4gICAgfVxufSk7XG4iLCJhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5zZXJ2aWNlKFwiVHJhZGluZ0l0ZW1TdmNcIiwgZnVuY3Rpb24gKCRodHRwKSB7XG4gICAgdmFyIHN2YyA9IHRoaXM7XG5cbiAgICBzdmMuYWRkSXRlbSAgPSBmdW5jdGlvbih0cmFkaW5nT2JqZWN0LGZvcm0pe1xuICAgICAgICByZXR1cm4gJGh0dHAucG9zdChcImFwaS90cmFkaW5nL2FkZEl0ZW0vXCIsdHJhZGluZ09iamVjdClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLnB1dChcImFwaS90cmFkaW5nL3VwZGF0ZUltYWdlL1wiK3Jlc3BvbnNlLmRhdGEuX2lkLGZvcm0seyB0cmFuc2Zvcm1SZXF1ZXN0OmFuZ3VsYXIuaWRlbnRpdHksIGhlYWRlcnM6eydDb250ZW50LVR5cGUnOnVuZGVmaW5lZH19KVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlMikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlMik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlMi5kYXRhO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgfSk7XG4gICB9XG5cbiAgc3ZjLmdldFVzZXJzVHJhZGluZ09iamVjdHMgPSBmdW5jdGlvbihvdGhlclVzZXIpe1xuICAgIHJldHVybiAkaHR0cC5nZXQoXCJhcGkvY2hhdC9cIitvdGhlclVzZXIpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gL3RyYWRpbmcvZ2V0SXRlbXMvOnVzZXJuYW1lXG4gIHN2Yy5nZXRBbGxVc2VyVHJhZGluZ0l0ZW1zID0gZnVuY3Rpb24gKHVzZXJuYW1lKSB7XG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KFwiYXBpL3RyYWRpbmcvZ2V0SXRlbXMvXCIrdXNlcm5hbWUpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChhbGxJdGVtKSB7XG4gICAgICAgICAgICBhbGxJdGVtLmRhdGEuc2hpZnQoKTtcbiAgICAgICAgICAgIHJldHVybiBhbGxJdGVtLmRhdGE7XG4gICAgICAgIH0pO1xuICB9XG5cbiAgLy8gZ2V0cyBhbGwgaXRlbXMgZm9ybSBkYXRhYmFzZVxuICBzdmMuZ2V0QWxsSXRlbXMgPSBmdW5jdGlvbigpe1xuICAgICAgcmV0dXJuICRodHRwLmdldChcImFwaS90cmFkaW5nL2dldEFsbEl0ZW1zL1wiKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAoYWxsSXRlbXMpe1xuICAgICAgICAgICAgcmV0dXJuIGFsbEl0ZW1zLmRhdGE7XG4gICAgICAgIH0pO1xuICB9XG5cbiAgLy8gZ2V0IGFsbCBidXQgdXNlclxuICBzdmMuZ2V0QWxsSXRlbXNCdXQgPSBmdW5jdGlvbihVc2VyTmFtZSl7XG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KFwiYXBpL3RyYWRpbmcvZ2V0QWxsSXRlbXNCdXQvXCIrVXNlck5hbWUpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChJdGVtcyl7XG4gICAgICAgICAgICByZXR1cm4gSXRlbXMuZGF0YTtcbiAgICAgICAgfSlcbiAgfVxuXG4gIC8vIC90cmFkaW5nL2dldEl0ZW1zL2ZpbmRPbmUvOmlkXG4gIHN2Yy5nZXRJdGVtQnlJZCA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgcmV0dXJuICRodHRwLmdldChcImFwaS90cmFkaW5nL2dldEl0ZW1zL2ZpbmRPbmUvXCIraWQpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChpdGVtKXtcbiAgICAgICAgICAgIHJldHVybiBpdGVtLmRhdGE7XG4gICAgICAgIH0pXG4gIH1cblxuXG4gIC8vIC90cmFkaW5nL2RlbGV0ZUl0ZW1zLzppZFxuICBzdmMuZGVsZXRlSXRlbSA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgcmV0dXJuICRodHRwLmRlbGV0ZShcImFwaS8vdHJhZGluZy9kZWxldGVJdGVtcy9cIiArIGlkKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2Upe1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICB9KTtcbiAgfVxuXG5cbiAgLy8gL3RyYWRpbmcvZWRpdEl0ZW1zLzppZFxuICBzdmMuZWRpdEl0ZW0gPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgIHJldHVybiAkaHR0cC5wdXQoXCJhcGkvdHJhZGluZy9lZGl0SXRlbXMvXCIgKyBpZClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKXtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgfSlcbiAgfVxuXG4gIHN2Yy5nZXRJdGVtRnJvbUNpdHlTdGF0ZSA9IGZ1bmN0aW9uIChHZW9PYmplY3QpIHtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoXCJhcGkvdHJhZGluZy9ncmFiSXRlbUJ5Q2l0eS1TdGF0ZS9cIitHZW9PYmplY3QuY2l0eStcIi1cIitHZW9PYmplY3Quc3RhdGUpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgaWYocmVzcG9uc2UuZGF0YVswXS5zdGF0dXMgPT09IFwiRVJST1JcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXNwb25zZS5kYXRhLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gIH1cblxuICBzdmMuZ2V0SXRlbUZyb21DaXR5U3RhdGVBdm9pZFVzZXIgPSBmdW5jdGlvbihHZW9PYmplY3QsVXNlck5hbWUpe1xuICAgICAgcmV0dXJuICRodHRwLmdldChcImFwaS90cmFkaW5nL2dyYWJJdGVtQnlDaXR5LVN0YXRlL2F2b2lkLVwiK1VzZXJOYW1lK1wiL1wiK0dlb09iamVjdC5jaXR5K1wiLVwiK0dlb09iamVjdC5zdGF0ZSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBpZihyZXNwb25zZS5kYXRhWzBdLnN0YXR1cyA9PT0gXCJFUlJPUlwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgfVxuXG4gIHN2Yy5zZXRUcmFkZVRydWVCeUlkID0gZnVuY3Rpb24oX2lkKXtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoXCJhcGkvdHJhZGluZy9zZXRUcmFkZVRydWVCeUlkL1wiK19pZClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKXtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgfSlcbiAgfVxuXG4gIHN2Yy5zZXRUcmFkZUZhbHNlQnlJZCA9IGZ1bmN0aW9uKF9pZCl7XG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KFwiYXBpL3RyYWRpbmcvc2V0VHJhZGVGYWxzZUJ5SWQvXCIrX2lkKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2Upe1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICB9KVxuICB9XG5cbiAgc3ZjLmdldFNlYXJjaEl0ZW0gPSBmdW5jdGlvbihTZWFyY2gpe1xuICAgICAgLy8vaXRlbVNlYXJjaC9zZWFyY2gvOm5hbWVcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoXCJhcGkvaXRlbVNlYXJjaC9zZWFyY2gvXCIrU2VhcmNoKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2Upe1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICAgIH0pXG4gIH1cblxufSkgLyogRW5kIG9mIENoYXRTdmMqL1xuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpLnNlcnZpY2UoJ1VzZXJTdmMnLCBmdW5jdGlvbiAoJGh0dHAsJHEpIHtcblxuICAgIHZhciBzdmMgPSB0aGlzO1xuXG4gICAgLy8gdXBkYXRlcyB1c2VyJ3MgZmlyc3RuYW1lLGxhc3RuYW1lLHVzZXJuYW1lLGVtYWlsXG4gICAgLy8gcmVxdWlyZXMgYXV0ZW50aWNhdGlvblxuICAgIC8vIGRvbmUgd2l0aCBzZXNzaW9uIHVzZXIuXG4gICAgc3ZjLnVwZGF0ZVVzZXJDb250ZW50ID0gZnVuY3Rpb24oZW1haWwsZmlyc3RuYW1lLGxhc3RuYW1lLHVzZXJuYW1lLGlkKXtcbiAgICAgIHJldHVybiAkaHR0cC5wb3N0KCdhcGkvdXNlcnMvdXBkYXRlVXNlci8nLHtlbWFpbDplbWFpbCxmaXJzdF9uYW1lOmZpcnN0bmFtZSxsYXN0X25hbWU6bGFzdG5hbWUsdXNlcm5hbWU6dXNlcm5hbWUsX2lkOmlkfSk7XG4gICAgfVxuXG4gICAgc3ZjLlNldFVzZXJQcm9maWxlSW1hZ2UgPSBmdW5jdGlvbihGb3JtLF9pZCl7XG4gICAgICByZXR1cm4gJGh0dHAucG9zdCgnYXBpL3VzZXJzL3Byb2ZpbGVJbWFnZS8nK19pZCxGb3JtLHsgdHJhbnNmb3JtUmVxdWVzdDphbmd1bGFyLmlkZW50aXR5LCBoZWFkZXJzOnsnQ29udGVudC1UeXBlJzp1bmRlZmluZWR9fSkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgICAgfSlcbiAgICB9XG5cbiAgICAvL2NoZWNrcyBpZiB1c2VybmFtZSBpcyBjdXJyZW50IGluIGRiXG4gICAgc3ZjLmNoZWNrX3VzZXJuYW1lID0gZnVuY3Rpb24odXNlcm5hbWUpe1xuICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3VzZXJzL2NoZWNrVXNlcm5hbWUvJyt1c2VybmFtZSkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vY2hlY2sgaWYgZW1haWwgaXMgY3VycmVudCBpbiBkYlxuICAgIHN2Yy5jaGVja19lbWFpbCA9IGZ1bmN0aW9uKGVtYWlsKXtcbiAgICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS91c2Vycy9jaGVja0VtYWlsLycrZW1haWwpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvLyBnZXQgY3VycmVudCB1c2VycyBpbmZvXG4gICAgLy8gdXNlZCBmb3IgbG9naW4gdXNlci5cbiAgICAvLyBETyBOT1QgVVNFXG4gICAgc3ZjLmdldFVzZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvdXNlcnMnKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGFcbiAgICAgICAgICAgIH0pXG4gICAgfTtcblxuICAgIC8vIGxvZ3MgaW4gdXNlclxuICAgIHN2Yy5sb2dpbiA9IGZ1bmN0aW9uICh1c2VybmFtZSwgcGFzc3dvcmQpIHtcbiAgICAgICAgLy8gZ2V0IHNpZ25hdHVyZSBmcm9tIHBvc3RcbiAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvc2Vzc2lvbnMnLCB7XG4gICAgICAgICAgICB1c2VybmFtZTogdXNlcm5hbWUsIHBhc3N3b3JkOiBwYXNzd29yZH0pXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgLy8gc2V0cyB0aGUgeC1hdXRoIHRvIGxhdGVyIGNvbXBhcmUgaW4gZ2V0VXNlclxuICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ1gtQXV0aCddID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgIHJldHVybiBzdmMuZ2V0VXNlcigpXG4gICAgICAgIH0sZnVuY3Rpb24oZXJyKXtcbiAgICAgICAgICAgIHJldHVybiBlcnJcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vIGFwaSBjYWxsIHRvIHJlZ2lzdGVyIGEgdXNlci5cbiAgICBzdmMucmVnaXN0ZXIgPSBmdW5jdGlvbiAoZmlyc3RfbmFtZSxsYXN0X25hbWUsdXNlcm5hbWUscGFzc3dvcmQsZW1haWwsY2l0eSxzdGF0ZSkge1xuICAgICAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS91c2Vycycse1xuICAgICAgICAgICAgZmlyc3RfbmFtZTogZmlyc3RfbmFtZSwgbGFzdF9uYW1lOmxhc3RfbmFtZSwgdXNlcm5hbWU6IHVzZXJuYW1lLCBwYXNzd29yZDpwYXNzd29yZCxlbWFpbDplbWFpbCxsb2NhdGlvbjoge2NpdHk6Y2l0eSxzdGF0ZTpzdGF0ZX1cbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcbiAgICAgICAgICAgIHN2Yy5jYWxjdWxhdGVMYXRMbmcocmVzcG9uc2UuZGF0YS5faWQsY2l0eSxzdGF0ZSk7XG4gICAgICAgICAgICByZXR1cm4gc3ZjLmxvZ2luKHVzZXJuYW1lLHBhc3N3b3JkKTtcbiAgICAgICAgfSlcbiAgICB9O1xuXG4gICAgc3ZjLmNhbGN1bGF0ZUxhdExuZyA9IGZ1bmN0aW9uKF9pZCxjaXR5LHN0YXRlKXtcbiAgICAgICAgY29uc29sZS5sb2coXCJISVRcIik7XG4gICAgICAgIHJldHVybiAkaHR0cC5wdXQoXCIvYXBpL3VzZXJzL3VwZGF0ZUxhdExvbmcvXCIgKyBfaWQgK1wiLVwiK2NpdHkrXCItXCIrc3RhdGUpXG4gICAgfVxuXG4gICAgLy8gZ2V0cyBjdXJyZW50IHVzZXIncyBhY2NvdW50IGluZm9cbiAgICAvLyByZXF1aXJlcyBhdXRlbnRpY2F0aW9uXG4gICAgLy8gZG9uZSB3aXRoIHNlc3Npb25cbiAgICAvLyB1c2VybmFtZSxlbWFpbCxmaXJzdG5hbWUsbGFzdG5hbWUscHJvZmlsZXBpY1xuICAgIHN2Yy5nZXRVc2VyQWNjb3VudEluZm8gPSBmdW5jdGlvbigpe1xuICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3VzZXJzL3VzZXIvYWNjb3VudEluZm8nKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzdmMuY2hhbmdlUGFzc3dvcmQgPSBmdW5jdGlvbihVc2VyUGFzc3dvcmQsTmV3UGFzc3dvcmQpe1xuICAgICAgY29uc29sZS5sb2coVXNlclBhc3N3b3JkLE5ld1Bhc3N3b3JkKTtcbiAgICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3VzZXJzL3VzZXIvY2hhbmdlcGFzc3dvcmQnLHtwYXNzd29yZDpVc2VyUGFzc3dvcmQsbmV3X3Bhc3N3b3JkOk5ld1Bhc3N3b3JkfSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXsgcmV0dXJuIHJlc3BvbnNlOyB9LGZ1bmN0aW9uKGVycil7IHJldHVybiBlcnI7IH0pXG4gICAgfVxuXG4gICAgLy8gZ2V0cyB1c2VybmFtZSdzIG9wZW4gaW5mby5cbiAgICAvLyBtdXN0IGVudGVyIGEgdXNlcm5hbWUuXG4gICAgLy8gdXNlcm5hbWUsZmlyc3RuYW1lLGxhc3RuYW1lLHByb2ZpbGVwaWNcbiAgICBzdmMuZ2V0VXNlck9wZW5JbmZvID0gZnVuY3Rpb24odXNlcm5hbWUpe1xuICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS91c2Vycy91c2VyT3Blbi8nK3VzZXJuYW1lKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtyZXR1cm4gcmVzcG9uc2UuZGF0YTsgfSlcbiAgICB9XG5cbiAgICAvLyBhcGkgY2FsbCB0byBsb2cgb3V0IGN1cnJlbnQgdXNlci5cbiAgICBzdmMubG9nb3V0ID0gZnVuY3Rpb24oKXtcbiAgICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS91c2Vycy9sb2dvdXQnKTtcbiAgICB9XG5cbiAgICAvLyByZXF1aXJlcyBzZXNzaW9uLlxuICAgIC8vIHJldHVybiBzZXNzaW9uJ3MgdXNlcm5hbWUuXG4gICAgc3ZjLnJldHVyblNlc3Npb25Vc2VyTmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS91c2Vycy91c2VyJylcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGFcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vIGNoZWNrcyBmb3Igc2Vzc2lvbi5cbiAgICAvLyByZXR1cm5zIHRydWUgb3IgZmFsc2UuXG4gICAgc3ZjLmhhc1Nlc3Npb24gPSBmdW5jdGlvbigpe1xuICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3VzZXJzL3Nlc3Npb24nKVxuICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy9yZXR1cm5zIHVzZXIgc2Vzc2lvblxuICAgIC8vIDIwMSBvciA0MDFcbiAgICBzdmMuZ2V0TG9nSW5TZXNzaW9uID0gZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvdXNlcnMvbG9naW4vc2Vzc2lvbicpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgLy8gcmV0dXJucyByZWdpc3RlciBzZXNzaW9uXG4gICAgc3ZjLmdldFJlZ2lzdGVyU2Vzc2lvbiA9IGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3VzZXJzL3JlZ2lzdGVyL3Nlc3Npb24nKVxuICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgLy8gZGVzdHJveXMgc2Vzc2lvbi5cbiAgICBzdmMuZGVzdG9yeVJlZ2lzdGVyU2Vzc2lvbiA9IGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS91c2Vycy9yZWdpc3Rlci9zZXNzaW9uL2Rlc3Ryb3kvJyk7XG4gICAgfVxuXG59KTtcbiJdfQ==
