angular.module("app",["ngRoute"]),angular.module("app").config(["$routeProvider",function(e){e.when("/",{controller:"HomeCtrl",templateUrl:"/templates/Home.html"}).when("/register",{controller:"RegisterCtrl",templateUrl:"/templates/Register.html"}).when("/login",{controller:"LoginCtrl",templateUrl:"/templates/Login.html"}).when("/barter-user-:otheruser",{controller:"BarterCtrl",templateUrl:"/templates/Barter.html"}).when("/my_items",{controller:"MyItemsCtrl",templateUrl:"/templates/MyItems.html"}).when("/brokenLink",{templateUrl:"templates/BrokenLinkError.html"}).when("/register-setup",{controller:"RegisterSetupCtrl",templateUrl:"/templates/RegisterSetUp.html"}).when("/user-settings",{controller:"UserSettings",templateUrl:"/templates/UserSettings.html"}).when("/user-settings-password",{controller:"UserSettingsPassword",templateUrl:"/templates/UserSettingsPassword.html"}).when("/postItem",{controller:"PostItemCtrl",templateUrl:"/templates/PostItem.html"}).when("/postSuccessfull-:id",{controller:"PostItemSuccessCtrl",templateUrl:"/templates/PostItemSuccess.html"}).when("/createReservation-:id",{controller:"ReservationCtrl",templateUrl:"/templates/Reservation.html"}).when("/pendingTrades",{controller:"PendingTradesCtrl",templateUrl:"/templates/PendingTrades.html"}).when("/pendingTrades-details-:id",{controller:"PendingTradesDetailsCtrl",templateUrl:"/templates/PendingTradesDetail.html"}).when("/About",{templateUrl:"/templates/About.html"}).when("/Contact",{templateUrl:"/templates/Contact.html"}).otherwise({redirectTo:"/"})}]).factory("authHttpResponseInterceptor",["$q","$location",function(e,t){return{response:function(t){return t||e.when(t)},responseError:function(n){return 401===n.status?t.path("/login"):404===n.status&&t.path("/brokenLink"),e.reject(n)}}}]).config(["$httpProvider",function(e){e.interceptors.push("authHttpResponseInterceptor")}]),angular.module("app").controller("UserCtrl",["$scope","UserSvc",function(e,t){document.getElementById("user_h1_header");t.getUserOpenInfo("b").then(function(t){console.log(t),e.user_name=t.first_name+" "+t.last_name,e.user_trading_items=["img1","img2"]})}]),angular.module("app").controller("ApplicationCtrl",["$scope","UserSvc","$location",function(e,t,n){e.logout=function(){t.logout(),e.currentUser=null,localStorage.clear(),n.path("/"),window.location.reload()},t.hasSession().then(function(n){n&&t.getUserAccountInfo().then(function(t){e.currentUser=t})})}]),angular.module("app").controller("BarterCtrl",["$scope","$routeParams","$location","ChatSvc","UserSvc","TradingItemSvc","OfferSvc",function(e,t,n,r,a,s,o){function i(e){var t=document.createElement("li");t.className="draggable ui-widget-content ui-corner-tr";var n=document.createElement("h5");n.className="ui-widget-header",n.innerHTML=e.name;var r=document.createElement("img");r.src=e.image.path200,r.width="96",r.height="72";var a=document.createElement("a");return a.title="Barter this image",a.className="ui-icon ui-icon-transferthick-e-w",a.innerHTML="Barter Item",t.appendChild(n),t.appendChild(r),t.appendChild(a),t.setAttribute("data",e._id),t}function l(e,t){for(x in e)if(t===e[x])return e.splice(x,1),e}function c(e,t){return e>t?[e,t]:[t,e]}function u(e){var t=["message__item message__item--bot","message message--bot"];e.author!==h.user&&e.user!=h.user||(t[0]="message__item message__item--user",t[1]="message message--user");var n=document.createElement("div");n.className="message__list";var r=document.createElement("div");r.className=t[0];var a=document.createElement("span");a.innerHTML=e.body.replace(/</g,"&lt;").replace(/>/g,"&gt;"),a.className=t[1],r.appendChild(a),n.appendChild(r),e.offerId&&(r.id=e.offerId,a.id=e.offerId),"OD"===e.special&&(a.style.color="purple"),document.getElementById("barter_message_content")&&document.getElementById("barter_message_content").appendChild(n);var s=document.getElementById("barter_message_content");s.scrollTop=s.scrollHeight}function d(){document.getElementById("barter_h4_error").style.display="block"}function m(){for(var e=document.getElementById("gallery_ul_item"),t=document.getElementById("gallery2_ul_item"),n=0;n<e.children.length;n++)e.children[n].children[2].click();for(var n=0;n<t.children.length;n++)t.children[n].children[2].click()}function f(e,n,r){var a=h.user,s=t.otheruser,o=document.createElement("div"),i=document.createElement("div"),l=document.createElement("div"),c=document.createElement("div"),u=document.createElement("div"),d=document.createElement("div");o.className="modal fade",i.className="modal-dialog",l.className="modal-content",c.className="modal-header",u.className="modal-body",d.className="modal-footer";var m=a+"'s Tradding Offer To "+s;r||(m=s+"'s Tradding Offer To "+a);var f=document.createElement("h2");f.innerHTML=m,c.appendChild(f);var p=document.createElement("div");p.className="row",u.appendChild(p);var _=document.createElement("div"),I=document.createElement("div"),v=document.createElement("div");_.className="col-md-5",I.className="col-md-2",v.className="col-md-5";var y=document.createElement("img");y.src="images/trade.png",y.style.width="50px",y.style.height="50px",g(e,h.Items_User,_),g(n,h.Items_Other_User,v),I.appendChild(y),p.appendChild(_),p.appendChild(I),p.appendChild(v);var U=document.createElement("div"),E=document.createElement("h3");E.innerHTML="Do you want to accept the offer?";var C=document.createElement("a"),b=document.createElement("a");return C.className="btn btn-default",C.setAttribute("role","button"),C.innerHTML="Yes",C.setAttribute("data-dismiss","modal"),b.className="btn btn-default",b.setAttribute("role","button"),b.setAttribute("data-dismiss","modal"),b.innerHTML="No",U.appendChild(E),U.appendChild(C),U.appendChild(b),d.appendChild(U),l.appendChild(c),l.appendChild(u),r||l.appendChild(d),i.appendChild(l),o.appendChild(i),[o,C,b,U]}function g(e,t,n){for(x in e){var r=document.createElement("img");r.src=t[e[x]].image.path200,r.style.width="100px",r.style.height="120px",r.title=t[e[x]].name,n.appendChild(r)}}function p(e,t){for(var n=0;n<e.length;n++)if(!t[e[n]])return!1;return!0}var h={};h.otherUser=t.otheruser,h.user="",h.userTag="",e.otherUser=h.otherUser,e.CurrentUserItems=null,h.UserItems=[],h.OtherUserItems=[],h.Items_User={},h.Items_Other_User={};var _=function(e,t,n){function r(t){"gallery"===e?h.UserItems.push(t.attr("data")):"gallery2"===e&&h.OtherUserItems.push(t.attr("data")),t.fadeOut(function(){var n=$("ul",i).length?$("ul",i):$("<ul class='"+e+" ui-helper-reset'/>").appendTo(i);n.attr("id",e+"_ul_item"),t.find("a.ui-icon-transferthick-e-w").remove(),t.append(c).appendTo(n).fadeIn(function(){t.animate({width:"48px"}).find("img").animate({height:"36px"})})})}function a(t){"gallery"===e?h.UserItems=l(h.UserItems,t.attr("data")):"gallery2"===e&&(h.OtherUserItems=l(h.OtherUserItems,t.attr("data"))),t.fadeOut(function(){t.find("a.ui-icon-refresh").remove().end().css("width","96px").append(u).find("img").css("height","72px").end().appendTo(o).fadeIn()})}function s(e){var t=e.attr("href"),n=e.siblings("img").attr("alt"),r=$("img[src$='"+t+"']");if(r.length)r.dialog("open");else{var a=$("<img alt='"+n+"' width='384' height='288' style='display: none; padding: 8px;' />").attr("src",t).appendTo("body");setTimeout(function(){a.dialog({title:n,width:400,modal:!0})},1)}}var o=$("#"+e),i=$("#"+t);$("li",o).draggable({cancel:"a.ui-icon",revert:"invalid",containment:"#"+n,helper:"clone",cursor:"move"}),i.droppable({accept:"#"+e+" > li",classes:{"ui-droppable-active":"ui-state-highlight"},drop:function(e,t){r(t.draggable)}}),o.droppable({accept:"#"+t+" li",classes:{"ui-droppable-active":"custom-state-active"},drop:function(e,t){a(t.draggable)}});var c="<a title='Remove this image' class='ui-icon ui-icon-refresh'>Remove Item</a>",u="<a title='Remove this image' class='ui-icon ui-icon-transferthick-e-w'>Delete image</a>";$("ul."+e+" > li").on("click",function(e){var t=$(this),n=$(e.target);return n.is("a.ui-icon-transferthick-e-w")?r(t):n.is("a.ui-icon-zoomin")?s(n):n.is("a.ui-icon-refresh")&&a(t),!1})};s.getAllUserTradingItems(t.otheruser).then(function(e){var t=document.getElementById("gallery2");for(x in e)h.Items_Other_User[e[x]._id]=e[x],e[x].traded||t.appendChild(i(e[x]));_("gallery2","trash2","containment-wrapper2")}),a.returnSessionUserName().then(function(e){var n=c(e,t.otheruser);h.userTag=n[0]+"-"+n[1],h.user=e,s.getAllUserTradingItems(e).then(function(e){var t=document.getElementById("gallery");for(x in e)h.Items_User[e[x]._id]=e[x],e[x].traded||t.appendChild(i(e[x]));_("gallery","trash","containment-wrapper")})}),r.getRecentMessages(t.otheruser).then(function(e){for(var t=e.length-1;t>=0;t--)u(e[t])});var I=io.connect("http://localhost:3000"),v=document.getElementById("barter_input_message");document.getElementById("barter_input_message").addEventListener("keyup",function(e){e.preventDefault(),13==e.keyCode&&""!=v.value&&(I.emit("chat",{body:v.value,user:h.user,tag:h.userTag}),r.sendMessage(h.otherUser,v.value),v.value="")}),I.on("chat",function(e){e.tag===h.userTag&&u(e)}),e.$on("$destroy",function(){I.removeAllListeners()}),e.SubmitOffer=function(){if(document.getElementById("barter_h4_error").style.display="none",0==h.UserItems.length||0==h.OtherUserItems.length)return void d();var n=f(h.UserItems,h.OtherUserItems,!0),a={User_offer_username:h.user,User_other_username:t.otheruser,User_offer_items:h.UserItems,User_other_items:h.OtherUserItems};o.makeOffer(a).then(function(a){a.shift();var s=a[0]._id,o="See "+h.user+"'s offer to "+t.otheruser+" -: "+s.substr(s.length-5);n[0].id="modal_"+s,n[1].onclick=function(){e.redirect=!0},n[2].onclick=function(){e.redirect=!1},n[3].id="modal_footer_"+s,document.getElementById("collectionOfModals").appendChild(n[0]),I.emit("chat",{body:o,user:h.user,offerId:s,tag:h.userTag}),r.sendMessageWithOfferID(h.otherUser,o,s),m()})},e.FireModal=function(e){if("barter_message_content"!==e.target.id&&"barter_input_message"!==e.target.id&&""!=e.target.id){if(document.getElementById("modal_"+e.target.id))return void $("#modal_"+e.target.id).modal();var t=!0;o.GetOneOfferById(e.target.id).then(function(n){if(n.User_offer_username===h.user)if(t=p(n.User_offer_items,h.Items_User),t=p(n.User_other_items,h.Items_Other_User)){var a=f(n.User_offer_items,n.User_other_items,!0);a[0].id="modal_"+e.target.id,document.getElementById("collectionOfModals").appendChild(a[0]),$("#modal_"+e.target.id).modal()}else alert("Sorry items missing");else{t=p(n.User_offer_items,h.Items_Other_User),t=p(n.User_other_items,h.Items_User);var s=null;if(t){var a=null;!1===n.TransactionPending.accepted||!0===n.TransactionPending.accepted?(a=f(n.User_other_items,n.User_offer_items,!0),a[0].id="modal_"+e.target.id,document.getElementById("collectionOfModals").appendChild(a[0]),$("#modal_"+e.target.id).modal()):(a=f(n.User_other_items,n.User_offer_items,!1),a[1].onclick=function(){s=!0},a[2].onclick=function(){s=!1},a[3].id="modal_footer_"+e.target.id,a[0].id="modal_"+e.target.id,document.getElementById("collectionOfModals").appendChild(a[0]),$("#modal_"+e.target.id).modal(),$("#modal_"+e.target.id).on("hidden.bs.modal",function(e){var t=e.currentTarget.id.replace("modal_","");if(s)I.emit("chat",{body:"Offer Accepted. 👍",user:h.user,special:"OD",tag:h.userTag}),r.sendMessage(h.otherUser,"Offer Accepted. 👍"),window.location="/#/createReservation-"+t;else if(!1===s){s=null;var n={};n.offerStatus="DECLINED",n.offerId=t,o.setReservation(n).then(function(e){document.getElementById("modal_footer_"+t).remove(),I.emit("chat",{body:"Offer declined. 👎",user:h.user,special:"OD",tag:h.userTag}),r.sendMessage(h.otherUser,"Offer declined. 👎")})}}))}}})}},e.redirect=!1}]),angular.module("app").controller("HomeCtrl",["$scope","$rootScope","UserSvc","GeoSvc","TradingItemSvc",function(e,t,n,r,a){function s(){n.hasSession().then(function(t){t?n.returnSessionUserName().then(function(t){a.getItemFromCityStateAvoidUser(g,t).then(function(t){var n=g.city+", "+g.state;c(o(t),g.city,n,!0,d,e.CityItems)}),a.getAllItemsBut(t).then(function(t){console.log(t),c(t,"All Items","All Items",!1,m,e.AllItems)})}):(a.getItemFromCityState(g).then(function(t){var n=g.city+", "+g.state;c(o(t),g.city,n,!0,d,e.CityItems)}),a.getAllItems().then(function(t){c(t,"All Items","All Items",!1,m,e.AllItems)}))})}function o(e){var t=[];for(x in e)for(y in e[x])t.push(e[x][y]);return t}function i(){navigator.geolocation?navigator.geolocation.getCurrentPosition(l):e.UserCity="Geolocation is not supported by this browser."}function l(t){r.getCityState(t).then(function(t){"ERROR"==t.status?e.UserGeo=null:e.UserGeo=t;var n=JSON.stringify(t);localStorage.setItem("usr-loc",n)})}function c(e,t,n,r,a,s){var o=document.createElement("div");o.className="Home_Title",o.innerHTML=r?"Neary by Trades at City "+n+"<hr />":n+"<hr />",a.appendChild(o);var i=t.replace(/\s+/g,"_"),l=document.createElement("section");l.id="itemView-"+i,l.class="regular slider";for(x in e){s.push(e[x]);var c=document.createElement("div"),u=document.createElement("img"),d=document.createElement("p");u.src=e[x].image.path200,u.id="item-"+e[x]._id,u.setAttribute("data-toggle","modal"),u.setAttribute("data-target","#modal_"+e[x]._id),d.innerHTML=e[x].name,c.appendChild(u),c.appendChild(d),l.appendChild(c)}var m=document.createElement("div");m.id="home_near_by_"+i,m.appendChild(l),a.appendChild(m),$("#itemView-"+i).slick({arrows:!0,dots:!0,infinite:!0,slidesToShow:3,slidesToScroll:3})}function u(t){for(x in t){document.getElementById("a_"+t[x]._id).onclick=function(){e.HomeCtrlRedirect=!0},$("#modal_"+t[x]._id).on("hidden.bs.modal",function(n){var r=t[x].user;1==e.HomeCtrlRedirect&&(window.location="/#/barter-user-"+r)})}}e.UserCity="",e.CityItems=[],e.AllItems=[],e.HomeCtrlRedirect=!1;var d=document.getElementById("cityDiv"),m=document.getElementById("allItemDiv"),f=localStorage.getItem("usr-loc"),g=JSON.parse(f);e.GetLocation=function(){i()},null===g||"ERROR"===g.status?(i(),s()):(e.UserGeo=g,s()),e.SearchBar="",e.SearchItems=function(){var t=e.SearchBar;a.getSearchItem(t).then(function(n){var r=document.createElement("div");document.getElementById("Home_TargetSearchDiv").appendChild(r),e.temp=[],c(n,t,"All Items of keyword: "+t,!1,r,e.temp)})},e.$on("CityItemsDone",function(t){u(e.CityItems)}),e.$on("allItemsDone",function(t){u(e.AllItems)})}]),angular.module("app").directive("onFinishRender",["$timeout",function(e){return{restrict:"A",link:function(t,n,r){!0===t.$last&&e(function(){t.$emit(r.onFinishRender)})}}}]),angular.module("app").controller("LoginCtrl",["$scope","$location","UserSvc",function(e,t,n){function r(){e.showView=!0}e.login=function(e,a){n.login(e,a).then(function(e){if(401===e.status)return r();t.path("/"),window.location.reload()})}}]),angular.module("app").controller("MyItemsCtrl",["$scope","UserSvc","TradingItemSvc",function(e,t,n){function r(e,t){for(var n=0;n<t;n++)e+=" ";return e}t.getUserAccountInfo().then(function(t){e.Users=t,n.getAllUserTradingItems(t.username).then(function(t){for(x in t)t[x].description.length>55?t[x].description=t[x].description.substring(0,55)+"...":t[x].description=r(t[x].description,55-t[x].description.length);e.UserItems=t})})}]),angular.module("app").controller("PendingTradesCtrl",["$scope","$location","UserSvc","OfferSvc","TradingItemSvc",function(e,t,n,r,a){function s(e){var t=0;for(x in e)t++;var n=0;for(x in e)a.getItemById(x).then(function(e){n++,d.ItemMap[e._id]=e,n===t&&o()})}function o(){console.log("This hit");var e=0;for(x in d.Offers)d.Offers[x].User_offer_username===d.user.username?n.getUserOpenInfo(d.Offers[x].User_other_username).then(function(t){e++,d.UserMap[t.username]=t.user_image.path200,d.Offers.length===e&&i()}):n.getUserOpenInfo(d.Offers[x].User_offer_username).then(function(t){e++,d.UserMap[t.username]=t.user_image.path200,d.Offers.length===e&&i()})}function i(){for(x in d.Offers)d.Offers[x].User_offer_username===d.user.username?(d.Offers[x].otherPath=d.UserMap[d.Offers[x].User_other_username],d.Offers[x].otherUser=d.Offers[x].User_other_username):(d.Offers[x].otherPath=d.UserMap[d.Offers[x].User_offer_username],d.Offers[x].otherUser=d.Offers[x].User_offer_username);l(),e.User=d.user,e.Offers=d.Offers}function l(){for(x in d.Offers){var e=d.Offers[x],t=e.TransactionPending._id,n=c(d.Offers[x]);n[0].id="modal_"+t;var r=!1;n[1].onclick=function(){r=!0},document.getElementById("appendModals").appendChild(n[0]),$("#modal_"+t).on("hidden.bs.modal",function(e){if(r){var t=e.currentTarget.id.replace("modal_","");r=!1,window.location="/#/pendingTrades-details-"+t}})}}function c(e){var t=e.User_offer_username,n=e.User_other_username,r=e.User_other_items,a=e.User_offer_items,s=document.createElement("div"),o=document.createElement("div"),i=document.createElement("div"),l=document.createElement("div"),c=document.createElement("div"),m=document.createElement("div");s.className="modal fade",o.className="modal-dialog",i.className="modal-content",l.className="modal-header",c.className="modal-body",m.className="modal-footer";var f=t+"'s Tradding Offer To "+n,g=document.createElement("h2");g.innerHTML=f,l.appendChild(g);var p=document.createElement("div");p.className="row",c.appendChild(p);var h=document.createElement("div"),_=document.createElement("div"),I=document.createElement("div");h.className="col-md-5",_.className="col-md-2",I.className="col-md-5";var v=document.createElement("img");v.src="images/trade.png",v.style.width="50px",v.style.height="50px";var y=document.createElement("div"),U=document.createElement("a");return U.className="btn btn-default",U.setAttribute("role","button"),U.innerHTML="View Location and Time Details",U.setAttribute("data-dismiss","modal"),y.appendChild(U),m.appendChild(y),u(r,d.ItemMap,h),u(a,d.ItemMap,I),_.appendChild(v),p.appendChild(h),p.appendChild(_),p.appendChild(I),i.appendChild(l),i.appendChild(c),i.appendChild(m),o.appendChild(i),s.appendChild(o),[s,U]}function u(e,t,n){for(x in e){var r=document.createElement("img");r.src=t[e[x]].image.path200,r.style.width="100px",r.style.height="120px",r.title=t[e[x]].name,n.appendChild(r)}}var d={};d.ItemMap={},d.user="",d.Offers=[],d.UserMap={},d.userImg="",n.getUserAccountInfo().then(function(e){d.user=e,d.userImg=e.user_image.path200,r.GetPendingOffers(e.username).then(function(e){d.Offers=e;for(x in e){for(y in e[x].User_other_items){var t=e[x].User_other_items[y];d.ItemMap[t]=1}for(z in e[x].User_offer_items){var t=e[x].User_offer_items[z];d.ItemMap[t]=1}}s(d.ItemMap)})})}]),angular.module("app").controller("PendingTradesDetailsCtrl",["$scope","$routeParams","UserSvc","OfferSvc","ReservationSvc","TradingItemSvc",function(e,t,n,r,a,s){function o(e){r.GetOneOfferById(e).then(function(e){i(e)})}function i(t){if(t.User_offer_username===e.User.username){for(x in t.User_offer_items)s.getItemById(t.User_offer_items[x]).then(function(t){e.UserImage.push(t)});for(x in t.User_other_items)s.getItemById(t.User_offer_items[x]).then(function(t){e.OtherImage.push(t)})}else{for(x in t.User_other_items)s.getItemById(t.User_other_items[x]).then(function(t){e.UserImage.push(t)});for(x in t.User_other_items)s.getItemById(t.User_offer_items[x]).then(function(t){e.OtherImage.push(t)})}}e.User={},e.UserImage=[],e.OtherImage=[],n.getUserAccountInfo().then(function(n){e.User=n,a.getReservation(t.id).then(function(t){e.Reservation=t,$("#areapicker").locationpicker({location:t.location,radius:200,zoom:17,enableAutocomplete:!0}),o(t.offerId)})})}]),angular.module("app").controller("PostItemCtrl",["$scope","$location","UserSvc","TradingItemSvc",function(e,t,n,r){function a(e){document.getElementById("post_item_error_"+e)&&(document.getElementById("post_item_error_"+e).style.display="block")}function s(e){document.getElementById("post_item_error_"+e)&&(document.getElementById("post_item_error_"+e).style.display="none")}e.getUser="",e.name_of_item="",e.description_of_item="",n.getUserAccountInfo().then(function(t){e.getUser=t.username,e.UserId=t._id}),e.submitPost=function(){var n=!1,o=new FormData,i=$("#post_item_image")[0].files[0];o.append("image",i),null==i&&(n=!0,document.getElementById("post_item_error_image")&&(document.getElementById("post_item_error_image").style.display="block"));var l={};l.name=e.name_of_item,l.description=e.description_of_item,l.user=e.getUser,l.user_id=e.UserId;for(x in l)null===l[x]||void 0===l[x]||l[x].length<=0?(a(x),n=!0):s(x);!1===n&&(document.getElementById("post_item_submit")&&document.getElementById("post_item_submit").setAttributeNode(document.createAttribute("disabled")),document.getElementById("post_item_h3_uploading")&&(document.getElementById("post_item_h3_uploading").style.display="block"),r.addItem(l,o).then(function(e){console.log(e),t.path("/postSuccessfull-"+e._id)}))}}]),angular.module("app").controller("PostItemSuccessCtrl",["$scope","$routeParams","TradingItemSvc",function(e,t,n){e.postItemSuccess={},n.getItemById(t.id).then(function(t){e.postItemSuccess=t,console.log(t)})}]),angular.module("app").controller("RegisterCtrl",["$scope","$location","UserSvc",function(e,t,n){e.register=function(r,a,s,o,i,l,c){n.register(r,a,s,o,i,l,c).then(function(n){e.$emit("login",n),t.path("register-setup"),window.location.reload()})},e.checkUniqueUser=function(){e.register_username.length>0&&n.check_username(e.register_username).then(function(e){var t=document.getElementById("register_UserCheck");t.style.display=e?"none":"block"})},e.checkUniqueEmail=function(){e.register_EmailCheck.length>0&&n.check_email(e.register_EmailCheck).then(function(e){var t=document.getElementById("register_EmailCheck");t.style.display=e?"none":"block"})},e.register_username="",e.register_EmailCheck="",e.UniqueEmail=!0,e.UniqueUser=!0}]),angular.module("app").controller("RegisterSetupCtrl",["$scope","UserSvc",function(e,t){var n={};n.username="",n.user={},e.register_setup_userImage="images/users/blank_user.png",t.getRegisterSession(),t.getUserAccountInfo().then(function(t){n.user=t,e.register_setup_username=t.username}),e.fileUpClient=function(){document.getElementById("register_setup_next").innerHTML="Next Step"},e.continueRegister=function(){var e=new FormData,r=$("#register_setup_images_file")[0].files[0];e.append("image",r),t.SetUserProfileImage(e,n.user._id),t.destoryRegisterSession()};var r=function(){t.destoryRegisterSession()};window.onbeforeunload=r,window.onhashchange=function(e){"http://localhost:3000/#/register-setup"==e.oldURL&&t.destoryRegisterSession()},$("#myCarousel").carousel({interval:2576});var a=!1;$("#myCarousel").on("click",".nav a",function(){a=!0,$(".nav li").removeClass("active"),$(this).parent().addClass("active")}).on("slid.bs.carousel",function(e){if(!a){var t=$(".nav").children().length-1,n=$(".nav li.active");console.log(t),console.log(n),n.removeClass("active").next().addClass("active");t==parseInt(n.data("slide-to"))&&$(".nav li").first().addClass("active")}a=!1})}]),angular.module("app").directive("customOnChange",function(){return{restrict:"A",link:function(e,t,n){var r=e.$eval(n.customOnChange);t.bind("change",r)}}}),angular.module("app").controller("ReservationCtrl",["$scope","$routeParams","$location","UserSvc","OfferSvc","ReservationSvc","TradingItemSvc",function(e,t,n,r,a,s,o){$(function(){$("#datepicker").datepicker({showOn:"button",buttonImage:"https://i.imgur.com/xyqM5eV.png?2",buttonImageOnly:!0,buttonText:"Pick a date"}),$("#basicExample").timepicker()}),e.reservation={},e.reservation.offerId=t.id,e.reservation.location={},e.reservation.date={},e.submitReservation=function(){var t=$("#basicExample").val(),r=$("#datepicker").val();if(e.reservation.date.time=t,e.reservation.date.day=r,""===t||""===r)return void(document.getElementById("reservation_h4_warrning").style.display="block");s.makeReservation(e.reservation).then(function(e){for(x in e.data.User_other_items)o.setTradeTrueById(e.data.User_other_items[x]);for(x in e.data.User_offer_items)o.setTradeTrueById(e.data.User_offer_items[x]);n.path("/pendingTrades")})},r.getUserAccountInfo().then(function(t){e.reservation.location.latitude=t.geocode.lat,e.reservation.location.longitude=t.geocode.lng,$("#areapicker").locationpicker({location:{latitude:t.geocode.lat,longitude:t.geocode.lng},radius:200,inputBinding:{locationNameInput:$("#address")},enableAutocomplete:!0,onchanged:function(t,n,r){e.reservation.location=t}})})}]),angular.module("app").controller("UserCtrl",["$scope","UserSvc",function(e,t){document.getElementById("h1");t.getUserAccountInfo().then(function(t){e.User=t.username,e.userImage=t.user_image})}]),angular.module("app").controller("UserSettings",["$scope","UserSvc",function(e,t){var n={};n.formItems={},n.errorFormItems={},n.formItems.email=document.getElementById("user_settings_input_email"),n.formItems.first_name=document.getElementById("user_settings_input_first"),n.formItems.last_name=document.getElementById("user_settings_input_last"),n.formItems.username=document.getElementById("user_settings_input_username"),n.errorFormItems.username=document.getElementById("user_settings_check_username"),n.errorFormItems.email=document.getElementById("user_settings_check_email"),n.user_image=document.getElementById("user_settings_image"),n.fieldset=document.getElementById("user_settings_fieldSet"),n.containError=!1,n.originalUser={},t.getLogInSession(),t.getUserAccountInfo().then(function(e){n.originalUser=e;for(x in n.formItems)n.formItems[x].setAttribute("value",e[x]);n.fieldset.removeAttribute("disabled"),e.user_image.hasOwnProperty("default")?n.user_image.src=e.user_image.default:n.user_image.src=e.user_image.path800}),e.checkUniqueEmail=function(){n.formItems.email.value.length>0&&n.formItems.email.value!=n.originalUser.email&&t.check_email(n.formItems.email.value).then(function(e){e?(n.errorFormItems.email.style.display="none",n.containError=!1):(n.errorFormItems.email.style.display="block",n.containError=!0)})},e.checkUniqueUsername=function(){n.formItems.username.value.length>0&&n.formItems.username.value!=n.originalUser.username&&t.check_username(n.formItems.username.value).then(function(e){e?(n.errorFormItems.username.style.display="none",n.containError=!1):(n.errorFormItems.username.style.display="block",n.containError=!0)})},e.ConfirmChanges=function(){n.containError||t.updateUserContent(n.formItems.email.value,n.formItems.first_name.value,n.formItems.last_name.value,n.formItems.username.value,n.originalUser._id).then(function(e){document.getElementById("user_settings_h3_change").style.display="block"})},e.fileUploadReady=function(){document.getElementById("user_settings_submit").removeAttribute("disabled"),document.getElementById("user_settings_h4_imgUp").style.display="none"},e.submitImage=function(){var e=new FormData,r=$("#user_settings_images_input")[0].files[0];e.append("image",r);var a=document.createAttribute("disabled");document.getElementById("user_settings_submit").setAttributeNode(a),t.SetUserProfileImage(e,n.originalUser._id).then(function(e){document.getElementById("user_settings_h4_imgUp").style.display="block"})}}]),angular.module("app").directive("customOnChange",function(){return{restrict:"A",link:function(e,t,n){var r=e.$eval(n.customOnChange);t.bind("change",r)}}}),angular.module("app").controller("UserSettingsPassword",["$scope","UserSvc",function(e,t){e.updatePassword=function(){if(e.UserPassword.length>0&&e.NewPassword.length>0&&e.ConfirmNewPassword.length>0)if(document.getElementById("user_settings_password_p_success").style.display="none",e.NewPassword!=e.UserPassword&&e.ConfirmNewPassword==e.NewPassword){var n=document.createAttribute("disabled");document.getElementById("user_settings_password_btn_UP").setAttributeNode(n),document.getElementById("user_settings_password_p_matching").style.display="none",document.getElementById("user_settings_password_p_confirm").style.display="none",t.changePassword(e.UserPassword,e.NewPassword).then(function(e){200==e.status?(document.getElementById("user_settings_password_p_success").style.display="block",document.getElementById("user_settings_password_p_wrong").style.display="none",document.getElementById("user_settings_password_btn_UP").removeAttribute("disabled")):406==e.status&&(document.getElementById("user_settings_password_p_wrong").style.display="block",document.getElementById("user_settings_password_btn_UP").removeAttribute("disabled"))})}else e.NewPassword==e.UserPassword?(document.getElementById("user_settings_password_p_matching").style.display="block",console.log("pop")):e.ConfirmNewPassword!=e.NewPassword&&(document.getElementById("user_settings_password_p_confirm").style.display="block",console.log("hit"))}}]),angular.module("app").service("ChatSvc",["$http",function(e){var t=this;t.getRecentMessages=function(t){return e.get("api/chat/"+t).then(function(e){return e.data})},t.sendMessage=function(t,n){return e.post("api/chat/",{otherUser:t,body:n})},t.sendMessageWithOfferID=function(t,n,r){return e.post("api/chat/special/",{otherUser:t,body:n,offerId:r})}}]),angular.module("app").service("GeoSvc",["$http",function(e){this.getCityState=function(t){return e.get("/api/geo/"+t.coords.latitude+"-"+t.coords.longitude).then(function(e){return e.data})}}]),angular.module("app").service("OfferSvc",["$http",function(e){var t=this;t.GetAllOffersByUserName=function(t){return e.get("/api/offers/username/"+t).then(function(e){return e.data})},t.GetOneOfferById=function(t){return e.get("/api/offers/id/"+t).then(function(e){return e.data})},t.makeOffer=function(t){return e.post("/api/offers/make/",t).then(function(e){return e.data})},t.setReservation=function(t){return e.put("/api/offers/addTransactionPending/",t).then(function(e){return e})},t.GetPendingOffers=function(t){return e.get("/api/offers/pending/username/"+t).then(function(e){return e.data})}}]),angular.module("app").service("ReservationSvc",["$http","OfferSvc",function(e,t){var n=this;n.makeReservation=function(n){return e.post("/api/reservation/make/",n).then(function(e){var n=e.data;n.shift();var r={};return r.offerId=n[0].offerId,r.TransactionPendingId=n[0]._id,r.offerStatus="accepted",t.setReservation(r)})},n.declineReservation=function(){},n.getReservation=function(t){return e.get("/api/transPend/getTransPend/findOne/"+t).then(function(e){return e.data})}}]),angular.module("app").service("TradingItemSvc",["$http",function(e){var t=this;t.addItem=function(t,n){return e.post("api/trading/addItem/",t).then(function(t){return console.log(t),e.put("api/trading/updateImage/"+t.data._id,n,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){return console.log(e),e.data})})},t.getUsersTradingObjects=function(t){return e.get("api/chat/"+t).then(function(e){return e.data})},t.getAllUserTradingItems=function(t){return e.get("api/trading/getItems/"+t).then(function(e){return e.data.shift(),e.data})},t.getAllItems=function(){return e.get("api/trading/getAllItems/").then(function(e){return e.data})},t.getAllItemsBut=function(t){return e.get("api/trading/getAllItemsBut/"+t).then(function(e){return e.data})},t.getItemById=function(t){return e.get("api/trading/getItems/findOne/"+t).then(function(e){return e.data})},t.deleteItem=function(t){return e.delete("api//trading/deleteItems/"+t).then(function(e){return e})},t.editItem=function(t){return e.put("api/trading/editItems/"+t).then(function(e){return e})},t.getItemFromCityState=function(t){return e.get("api/trading/grabItemByCity-State/"+t.city+"-"+t.state).then(function(e){return"ERROR"===e.data[0].status?e.data:(e.data.shift(),e.data)})},t.getItemFromCityStateAvoidUser=function(t,n){return e.get("api/trading/grabItemByCity-State/avoid-"+n+"/"+t.city+"-"+t.state).then(function(e){return"ERROR"===e.data[0].status?e.data:(e.data.shift(),e.data)})},t.setTradeTrueById=function(t){return e.get("api/trading/setTradeTrueById/"+t).then(function(e){return e})},t.setTradeFalseById=function(t){return e.get("api/trading/setTradeFalseById/"+t).then(function(e){return e})},t.getSearchItem=function(t){return e.get("api/itemSearch/search/"+t).then(function(e){
return e.data})}}]),angular.module("app").service("UserSvc",["$http","$q",function(e,t){var n=this;n.updateUserContent=function(t,n,r,a,s){return e.post("api/users/updateUser/",{email:t,first_name:n,last_name:r,username:a,_id:s})},n.SetUserProfileImage=function(t,n){return e.post("api/users/profileImage/"+n,t,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){return e.data})},n.check_username=function(t){return e.get("/api/users/checkUsername/"+t).then(function(e){return e.data})},n.check_email=function(t){return e.get("/api/users/checkEmail/"+t).then(function(e){return e.data})},n.getUser=function(){return e.get("/api/users").then(function(e){return e.data})},n.login=function(t,r){return e.post("/api/sessions",{username:t,password:r}).then(function(t){return e.defaults.headers.common["X-Auth"]=t.data,n.getUser()},function(e){return e})},n.register=function(t,r,a,s,o,i,l){return e.post("/api/users",{first_name:t,last_name:r,username:a,password:s,email:o,location:{city:i,state:l}}).then(function(e){return console.log(e),n.calculateLatLng(e.data._id,i,l),n.login(a,s)})},n.calculateLatLng=function(t,n,r){return console.log("HIT"),e.put("/api/users/updateLatLong/"+t+"-"+n+"-"+r)},n.getUserAccountInfo=function(){return e.get("/api/users/user/accountInfo").then(function(e){return e.data})},n.changePassword=function(t,n){return console.log(t,n),e.post("/api/users/user/changepassword",{password:t,new_password:n}).then(function(e){return e},function(e){return e})},n.getUserOpenInfo=function(t){return e.get("/api/users/userOpen/"+t).then(function(e){return e.data})},n.logout=function(){return e.get("/api/users/logout")},n.returnSessionUserName=function(){return e.get("/api/users/user").then(function(e){return e.data})},n.hasSession=function(){return e.get("/api/users/session").then(function(e){return e.data})},n.getLogInSession=function(){return e.get("/api/users/login/session").then(function(e){return e.data})},n.getRegisterSession=function(){return e.get("/api/users/register/session").then(function(e){return e.data})},n.destoryRegisterSession=function(){return e.post("/api/users/register/session/destroy/")}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsIlJvdXRlcy5qcyIsImNydGwudXNlci5qcyIsImN0cmwuYXBwbGljYXRpb24uanMiLCJjdHJsLmJhcnRlci5qcyIsImN0cmwuaG9tZS5qcyIsImN0cmwubG9naW4uanMiLCJjdHJsLm15X2l0ZW1zLmpzIiwiY3RybC5wZW5kaW5nVHJhZGVzLmpzIiwiY3RybC5wZW5kaW5nVHJhZGVzRGV0YWlsLmpzIiwiY3RybC5wb3N0X2l0ZW0uanMiLCJjdHJsLnBvc3RfaXRlbV9zdWNjZXNzLmpzIiwiY3RybC5yZWdpc3Rlci5qcyIsImN0cmwucmVnaXN0ZXJTZXRVcC5qcyIsImN0cmwucmVzZXJ2ZS5qcyIsImN0cmwudXNlci5qcyIsImN0cmwudXNlcl9zZXR0aW5ncy5qcyIsImN0cmwudXNlcl9zZXR0aW5nc19wYXNzd29yZC5qcyIsInN2Yy5jaGF0LmpzIiwic3ZjLmdlby5qcyIsInN2Yy5vZmZlcnMuanMiLCJzdmMucmVzZXJ2YXRpb24uanMiLCJzdmMudHJhZGluZ0l0ZW0uanMiLCJzdmMudXNlci5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwiJHJvdXRlUHJvdmlkZXIiLCJ3aGVuIiwiY29udHJvbGxlciIsInRlbXBsYXRlVXJsIiwib3RoZXJ3aXNlIiwicmVkaXJlY3RUbyIsImZhY3RvcnkiLCIkcSIsIiRsb2NhdGlvbiIsInJlc3BvbnNlIiwicmVzcG9uc2VFcnJvciIsInJlamVjdGlvbiIsInN0YXR1cyIsInBhdGgiLCJyZWplY3QiLCIkaHR0cFByb3ZpZGVyIiwiaW50ZXJjZXB0b3JzIiwicHVzaCIsIiRzY29wZSIsIlVzZXJTdmMiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZ2V0VXNlck9wZW5JbmZvIiwidGhlbiIsInVzZXJJbmYiLCJjb25zb2xlIiwibG9nIiwidXNlcl9uYW1lIiwiZmlyc3RfbmFtZSIsImxhc3RfbmFtZSIsInVzZXJfdHJhZGluZ19pdGVtcyIsImxvZ291dCIsImN1cnJlbnRVc2VyIiwibG9jYWxTdG9yYWdlIiwiY2xlYXIiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlbG9hZCIsImhhc1Nlc3Npb24iLCJnZXRVc2VyQWNjb3VudEluZm8iLCIkcm91dGVQYXJhbXMiLCJDaGF0U3ZjIiwiVHJhZGluZ0l0ZW1TdmMiLCJPZmZlclN2YyIsImNyZWF0ZUxpSXRlbUh0bWwiLCJpdGVtIiwibGkiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiaDUiLCJpbm5lckhUTUwiLCJuYW1lIiwiaW1nIiwic3JjIiwiaW1hZ2UiLCJwYXRoMjAwIiwid2lkdGgiLCJoZWlnaHQiLCJhX2JhcnQiLCJ0aXRsZSIsImFwcGVuZENoaWxkIiwic2V0QXR0cmlidXRlIiwiX2lkIiwicmVtb3ZlRWxlbWVudEJ5VmFsdWUiLCJhcnIiLCJ2YWx1ZSIsIngiLCJzcGxpY2UiLCJncmVhdGVyU3RyaW5nIiwiczEiLCJzMiIsImNyZWF0ZUJ1YmJsZSIsIk1lc3NhZ2VDb250ZW50IiwiY2xhc3NlcyIsImF1dGhvciIsImJhcnRlckNvbnRyb2xsZXIiLCJ1c2VyIiwiZGl2X21lc3NhZ2VfbGlzdCIsImRpdl9tZXNzYWdlIiwic3Bhbl9tZXNzYWdlIiwiYm9keSIsInJlcGxhY2UiLCJvZmZlcklkIiwiaWQiLCJzcGVjaWFsIiwic3R5bGUiLCJjb2xvciIsImQiLCJzY3JvbGxUb3AiLCJzY3JvbGxIZWlnaHQiLCJ0aHJvd0Vycm9yIiwiZGlzcGxheSIsInJlbW92ZUl0ZW1zIiwiZ2FsbGVyeV91bF9pdGVtIiwiZ2FsbGVyeTJfdWxfaXRlbSIsImkiLCJjaGlsZHJlbiIsImxlbmd0aCIsImNsaWNrIiwiY3JlYXRlTW9kYWwiLCJVc2VyQXJyYXkiLCJPdGhlckFycmF5IiwiT3JkZXJDYXNlIiwib3RoZXJVc2VyIiwib3RoZXJ1c2VyIiwibW9kYWxEaXYiLCJtb2RhbERpYWxvZyIsIm1vZGFsQ29udGVudCIsIm1vZGFsSGVhZGVyIiwibW9kYWxCb2R5IiwibW9kYWxGb290ZXIiLCJoZWFkZXJTdHJpbmciLCJoMl90aXRsZSIsImRpdlJvdyIsImRpdkJvZHkxIiwiZGl2Qm9keTIiLCJkaXZCb2R5MyIsImNyZWF0ZUltYWdlSXRlbSIsIkl0ZW1zX1VzZXIiLCJJdGVtc19PdGhlcl9Vc2VyIiwibW9kYWxEaXZGb290IiwiaDMiLCJhX3llcyIsImFfbm8iLCJpdGVtcyIsIml0ZW1NYXAiLCJkaXYiLCJuZXdJbWciLCJoYXNJdGVtcyIsIm1hcCIsInVzZXJUYWciLCJDdXJyZW50VXNlckl0ZW1zIiwiVXNlckl0ZW1zIiwiT3RoZXJVc2VySXRlbXMiLCJFbmFibGVEcmFnIiwiR2FsbGVyeU5hbWUiLCJUcmFzaE5hbWUiLCJDb250YWlubWVudE5hbWUiLCJkZWxldGVJbWFnZSIsIiRpdGVtIiwiYXR0ciIsImZhZGVPdXQiLCIkbGlzdCIsIiQiLCIkdHJhc2giLCJhcHBlbmRUbyIsImZpbmQiLCJyZW1vdmUiLCJhcHBlbmQiLCJyZWN5Y2xlX2ljb24iLCJmYWRlSW4iLCJhbmltYXRlIiwicmVjeWNsZUltYWdlIiwiZW5kIiwiY3NzIiwidHJhc2hfaWNvbiIsIiRnYWxsZXJ5Iiwidmlld0xhcmdlckltYWdlIiwiJGxpbmsiLCJzaWJsaW5ncyIsIiRtb2RhbCIsImRpYWxvZyIsInNldFRpbWVvdXQiLCJtb2RhbCIsImRyYWdnYWJsZSIsImNhbmNlbCIsInJldmVydCIsImNvbnRhaW5tZW50IiwiaGVscGVyIiwiY3Vyc29yIiwiZHJvcHBhYmxlIiwiYWNjZXB0IiwidWktZHJvcHBhYmxlLWFjdGl2ZSIsImRyb3AiLCJldmVudCIsInVpIiwib24iLCJ0aGlzIiwiJHRhcmdldCIsInRhcmdldCIsImlzIiwiZ2V0QWxsVXNlclRyYWRpbmdJdGVtcyIsImdhbGxlcnkyIiwidHJhZGVkIiwicmV0dXJuU2Vzc2lvblVzZXJOYW1lIiwidXNlck5hbWUiLCJzdHJpbmdQYXJhbXMiLCJnYWxsZXJ5IiwiZ2V0UmVjZW50TWVzc2FnZXMiLCJjb252Iiwic29ja2V0IiwiaW8iLCJjb25uZWN0IiwibWVzc2FnZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJwcmV2ZW50RGVmYXVsdCIsImtleUNvZGUiLCJlbWl0IiwidGFnIiwic2VuZE1lc3NhZ2UiLCJkYXRhIiwiJG9uIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiU3VibWl0T2ZmZXIiLCJtb2RhbENyZWF0aW9uIiwib2ZmZXIiLCJVc2VyX29mZmVyX3VzZXJuYW1lIiwiVXNlcl9vdGhlcl91c2VybmFtZSIsIlVzZXJfb2ZmZXJfaXRlbXMiLCJVc2VyX290aGVyX2l0ZW1zIiwibWFrZU9mZmVyIiwiZG9jIiwic2hpZnQiLCJkb2NJZCIsInN1YnN0ciIsIm9uY2xpY2siLCJyZWRpcmVjdCIsInNlbmRNZXNzYWdlV2l0aE9mZmVySUQiLCJGaXJlTW9kYWwiLCJkb25lIiwiR2V0T25lT2ZmZXJCeUlkIiwiT2ZmZXIiLCJhbGVydCIsImNoZWNrQ2xpY2siLCJUcmFuc2FjdGlvblBlbmRpbmciLCJhY2NlcHRlZCIsImUiLCJjdXJyZW50VGFyZ2V0Iiwib2JqIiwib2ZmZXJTdGF0dXMiLCJzZXRSZXNlcnZhdGlvbiIsInN0dWZmIiwiJHJvb3RTY29wZSIsIkdlb1N2YyIsImdldEl0ZW1zQnlDaXR5U3RhdGUiLCJTZXNzaW9uTmFtZSIsImdldEl0ZW1Gcm9tQ2l0eVN0YXRlQXZvaWRVc2VyIiwidXNyX2xvY19vYmoiLCJJdGVtcyIsImNpdHlTdGF0ZSIsImNpdHkiLCJzdGF0ZSIsIm1ha2VTbGlkZXJIdG1sIiwiY29tYmluZU5lc3RlZEFycmF5cyIsImhvbWVfY2l0eURvbSIsIkNpdHlJdGVtcyIsImdldEFsbEl0ZW1zQnV0IiwiQWxsSXRlbXMiLCJob21lX2FsbEl0ZW1Eb20iLCJnZXRJdGVtRnJvbUNpdHlTdGF0ZSIsImdldEFsbEl0ZW1zIiwiSW5wdXQiLCJhcnJheSIsInkiLCJnZXRMb2NhdGlvbiIsIm5hdmlnYXRvciIsImdlb2xvY2F0aW9uIiwiZ2V0Q3VycmVudFBvc2l0aW9uIiwic2hvd1Bvc2l0aW9uIiwiVXNlckNpdHkiLCJwb3NpdGlvbiIsImdldENpdHlTdGF0ZSIsIlVzZXJHZW8iLCJ1c3JfbG9jX3N0cmluZyIsIkpTT04iLCJzdHJpbmdpZnkiLCJzZXRJdGVtIiwic2V0Q29kZSIsIkNpdHkiLCJEb20iLCJzY29wZUFycmF5IiwiSXRlbVRpdGxlIiwibmV3U2V0Q29kZSIsInNlY3Rpb24iLCJjbGFzcyIsImRpdlRlbXAiLCJpbWdUZW1wIiwiaW1nVGVtcE5hbWUiLCJzbGlkZXJDb2xsZWN0aW9uIiwic2xpY2siLCJhcnJvd3MiLCJkb3RzIiwiaW5maW5pdGUiLCJzbGlkZXNUb1Nob3ciLCJzbGlkZXNUb1Njcm9sbCIsInNldExpc3RlbmVycyIsIkhvbWVDdHJsUmVkaXJlY3QiLCJzdHIiLCJnZXRJdGVtIiwicGFyc2UiLCJHZXRMb2NhdGlvbiIsIlNlYXJjaEJhciIsIlNlYXJjaEl0ZW1zIiwic2VhcmNoIiwiZ2V0U2VhcmNoSXRlbSIsInRlbXAiLCJuZ1JlcGVhdEZpbmlzaGVkRXZlbnQiLCJkaXJlY3RpdmUiLCIkdGltZW91dCIsInJlc3RyaWN0IiwibGluayIsInNjb3BlIiwiZWxlbWVudCIsIiRsYXN0IiwiJGVtaXQiLCJvbkZpbmlzaFJlbmRlciIsImhhbmRsZUh0bWxFcnJvciIsInNob3dWaWV3IiwibG9naW4iLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwiRmlsbFN0cmluZyIsInN0cmluZyIsIm51bWJlck9mIiwiVXNlck9iamVjdCIsIlVzZXJzIiwiVHJhZGluZ09iamVjdCIsImRlc2NyaXB0aW9uIiwic3Vic3RyaW5nIiwiZ2V0SW1hZ2VzIiwiTWFwT2ZJZHMiLCJjb3VudCIsImltYWdlQ291bnQiLCJnZXRJdGVtQnlJZCIsInBlbmRpbmdUcmFkZXMiLCJJdGVtTWFwIiwiZ2V0VXNlckltYWdlIiwiT2ZmZXJzIiwiVXNlck1hcCIsInVzZXJfaW1hZ2UiLCJzZXRVc2VySW1hZ2UiLCJvdGhlclBhdGgiLCJqb2luVGhlbSIsIlVzZXIiLCJpZFRlbXAiLCJpdENsaWtlZCIsIlBlbmRpbmdUcmFkZU9iaiIsInVzZXJJbWciLCJHZXRQZW5kaW5nT2ZmZXJzIiwieiIsIlJlc2VydmF0aW9uU3ZjIiwiZ3JhYk9mZmVyIiwicHJvY2Nlc3NPZmZlciIsIkl0ZW0iLCJVc2VySW1hZ2UiLCJPdGhlckltYWdlIiwiZ2V0UmVzZXJ2YXRpb24iLCJyZXNlcnZhdGlvbiIsIlJlc2VydmF0aW9uIiwibG9jYXRpb25waWNrZXIiLCJyYWRpdXMiLCJ6b29tIiwiZW5hYmxlQXV0b2NvbXBsZXRlIiwiZGlzcGxheUVycm9yIiwibmFtZU9mIiwicmVtb3ZlRXJyb3IiLCJnZXRVc2VyIiwibmFtZV9vZl9pdGVtIiwiZGVzY3JpcHRpb25fb2ZfaXRlbSIsIlVzZXJJZCIsInN1Ym1pdFBvc3QiLCJlcnJvcnMiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiZmlsZSIsImZpbGVzIiwidHJhZGluZ09iamVjdCIsInVzZXJfaWQiLCJ1bmRlZmluZWQiLCJzZXRBdHRyaWJ1dGVOb2RlIiwiY3JlYXRlQXR0cmlidXRlIiwiYWRkSXRlbSIsInBvc3RJdGVtU3VjY2VzcyIsInJlZ2lzdGVyIiwiZW1haWwiLCJjaGVja1VuaXF1ZVVzZXIiLCJyZWdpc3Rlcl91c2VybmFtZSIsImNoZWNrX3VzZXJuYW1lIiwibGFiZWwiLCJjaGVja1VuaXF1ZUVtYWlsIiwicmVnaXN0ZXJfRW1haWxDaGVjayIsImNoZWNrX2VtYWlsIiwiVW5pcXVlRW1haWwiLCJVbmlxdWVVc2VyIiwiUmVnaXN0ZXJTZXRVcCIsInJlZ2lzdGVyX3NldHVwX3VzZXJJbWFnZSIsImdldFJlZ2lzdGVyU2Vzc2lvbiIsInJlZ2lzdGVyX3NldHVwX3VzZXJuYW1lIiwiZmlsZVVwQ2xpZW50IiwiY29udGludWVSZWdpc3RlciIsIlNldFVzZXJQcm9maWxlSW1hZ2UiLCJkZXN0b3J5UmVnaXN0ZXJTZXNzaW9uIiwiZGVzdG9yeVJlZ2lzdGVyIiwib25iZWZvcmV1bmxvYWQiLCJvbmhhc2hjaGFuZ2UiLCJvbGRVUkwiLCJjYXJvdXNlbCIsImludGVydmFsIiwiY2xpY2tFdmVudCIsInJlbW92ZUNsYXNzIiwicGFyZW50IiwiYWRkQ2xhc3MiLCJjdXJyZW50IiwibmV4dCIsInBhcnNlSW50IiwiZmlyc3QiLCJhdHRycyIsIm9uQ2hhbmdlSGFuZGxlciIsIiRldmFsIiwiY3VzdG9tT25DaGFuZ2UiLCJiaW5kIiwiZGF0ZXBpY2tlciIsInNob3dPbiIsImJ1dHRvbkltYWdlIiwiYnV0dG9uSW1hZ2VPbmx5IiwiYnV0dG9uVGV4dCIsInRpbWVwaWNrZXIiLCJkYXRlIiwic3VibWl0UmVzZXJ2YXRpb24iLCJ0aW1lIiwidmFsIiwiZGF5IiwibWFrZVJlc2VydmF0aW9uIiwic2V0VHJhZGVUcnVlQnlJZCIsImxhdGl0dWRlIiwiZ2VvY29kZSIsImxhdCIsImxvbmdpdHVkZSIsImxuZyIsImlucHV0QmluZGluZyIsImxvY2F0aW9uTmFtZUlucHV0Iiwib25jaGFuZ2VkIiwiY3VycmVudExvY2F0aW9uIiwiaXNNYXJrZXJEcm9wcGVkIiwidXNlckltYWdlIiwiVXNlclN2Y09iaiIsImZvcm1JdGVtcyIsImVycm9yRm9ybUl0ZW1zIiwiZmllbGRzZXQiLCJjb250YWluRXJyb3IiLCJvcmlnaW5hbFVzZXIiLCJnZXRMb2dJblNlc3Npb24iLCJyZW1vdmVBdHRyaWJ1dGUiLCJoYXNPd25Qcm9wZXJ0eSIsImRlZmF1bHQiLCJwYXRoODAwIiwiY2hlY2tVbmlxdWVVc2VybmFtZSIsIkNvbmZpcm1DaGFuZ2VzIiwidXBkYXRlVXNlckNvbnRlbnQiLCJmaWxlVXBsb2FkUmVhZHkiLCJzdWJtaXRJbWFnZSIsImRpcyIsInJlc3VsdHMiLCJ1cGRhdGVQYXNzd29yZCIsIlVzZXJQYXNzd29yZCIsIk5ld1Bhc3N3b3JkIiwiQ29uZmlybU5ld1Bhc3N3b3JkIiwiY2hhbmdlUGFzc3dvcmQiLCJzZXJ2aWNlIiwiJGh0dHAiLCJzdmMiLCJnZXQiLCJtZXNzYWdlQm9keSIsInBvc3QiLCJjb29yZHMiLCJHZXRBbGxPZmZlcnNCeVVzZXJOYW1lIiwiVXNlcm5hbWUiLCJPZmZlck9iamVjdCIsIk9mZmVyQ3JlYXRlZCIsIlJlc2VydmF0aW9uT2JqZWN0IiwicHV0Iiwib2ZmZXJDcmVhdGVkIiwicmVzZXJ2YXRpb25PYmplY3QiLCJUcmFuc2FjdGlvblBlbmRpbmdJZCIsImRlY2xpbmVSZXNlcnZhdGlvbiIsImZvcm0iLCJ0cmFuc2Zvcm1SZXF1ZXN0IiwiaWRlbnRpdHkiLCJoZWFkZXJzIiwiQ29udGVudC1UeXBlIiwicmVzcG9uc2UyIiwiZ2V0VXNlcnNUcmFkaW5nT2JqZWN0cyIsImFsbEl0ZW0iLCJhbGxJdGVtcyIsIlVzZXJOYW1lIiwiZGVsZXRlSXRlbSIsImRlbGV0ZSIsImVkaXRJdGVtIiwiR2VvT2JqZWN0Iiwic2V0VHJhZGVGYWxzZUJ5SWQiLCJTZWFyY2giLCJmaXJzdG5hbWUiLCJsYXN0bmFtZSIsIkZvcm0iLCJkZWZhdWx0cyIsImNvbW1vbiIsImVyciIsImNhbGN1bGF0ZUxhdExuZyIsIm5ld19wYXNzd29yZCJdLCJtYXBwaW5ncyI6IkFBQUFBLFFBQVFDLE9BQU8sT0FBTyxZQ0F0QkQsUUFBUUMsT0FBTyxPQUNaQyxRQUFBLGlCQUFPLFNBQVVDLEdBQ2RBLEVBQ0tDLEtBQUssS0FBS0MsV0FBWSxXQUFZQyxZQUFZLHlCQUM5Q0YsS0FBSyxhQUFhQyxXQUFXLGVBQWVDLFlBQVksNkJBQ3hERixLQUFLLFVBQVVDLFdBQVcsWUFBWUMsWUFBWSwwQkFDbERGLEtBQUssMkJBQTJCQyxXQUFXLGFBQWFDLFlBQVksMkJBQ3BFRixLQUFLLGFBQWNDLFdBQVksY0FBZUMsWUFBYSw0QkFDM0RGLEtBQUssZUFBZUUsWUFBWSxtQ0FDaENGLEtBQUssbUJBQW1CQyxXQUFXLG9CQUFvQkMsWUFBWSxrQ0FDbkVGLEtBQUssa0JBQWtCQyxXQUFXLGVBQWVDLFlBQVksaUNBQzdERixLQUFLLDJCQUEyQkMsV0FBVyx1QkFBdUJDLFlBQVkseUNBQzlFRixLQUFLLGFBQWNDLFdBQVcsZUFBZ0JDLFlBQVksNkJBQzFERixLQUFLLHdCQUF5QkMsV0FBVyxzQkFBdUJDLFlBQVksb0NBQzVFRixLQUFLLDBCQUEwQkMsV0FBVyxrQkFBa0JDLFlBQVksZ0NBQ3hFRixLQUFLLGtCQUFtQkMsV0FBVyxvQkFBb0JDLFlBQVksa0NB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QUFPQSxHQUFTK0wsUUFLcEJvUSxFQUFJMUUsbUJBQXFCLFdBQ3ZCLE1BQU95RSxHQUFNRSxJQUFJLCtCQUNoQnRiLEtBQUssU0FBU2QsR0FDYixNQUFPQSxHQUFTK0wsUUFLcEJvUSxFQUFJckUsdUJBQXlCLFdBQzNCLE1BQU9vRSxHQUFNSSxLQUFLIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXIubW9kdWxlKCdhcHAnLFsnbmdSb3V0ZSddKTtcbiIsImFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpXG4gIC5jb25maWcoZnVuY3Rpb24gKCRyb3V0ZVByb3ZpZGVyKSB7XG4gICAgICAkcm91dGVQcm92aWRlclxuICAgICAgICAgIC53aGVuKFwiL1wiLHtjb250cm9sbGVyOiBcIkhvbWVDdHJsXCIsIHRlbXBsYXRlVXJsOlwiL3RlbXBsYXRlcy9Ib21lLmh0bWxcIn0pXG4gICAgICAgICAgLndoZW4oJy9yZWdpc3Rlcicse2NvbnRyb2xsZXI6J1JlZ2lzdGVyQ3RybCcsdGVtcGxhdGVVcmw6Jy90ZW1wbGF0ZXMvUmVnaXN0ZXIuaHRtbCd9KVxuICAgICAgICAgIC53aGVuKCcvbG9naW4nLHtjb250cm9sbGVyOidMb2dpbkN0cmwnLHRlbXBsYXRlVXJsOicvdGVtcGxhdGVzL0xvZ2luLmh0bWwnfSlcbiAgICAgICAgICAud2hlbignL2JhcnRlci11c2VyLTpvdGhlcnVzZXInLHtjb250cm9sbGVyOidCYXJ0ZXJDdHJsJyx0ZW1wbGF0ZVVybDonL3RlbXBsYXRlcy9CYXJ0ZXIuaHRtbCd9KVxuICAgICAgICAgIC53aGVuKCcvbXlfaXRlbXMnLCB7Y29udHJvbGxlcjogXCJNeUl0ZW1zQ3RybFwiLCB0ZW1wbGF0ZVVybDogXCIvdGVtcGxhdGVzL015SXRlbXMuaHRtbFwifSlcbiAgICAgICAgICAud2hlbignL2Jyb2tlbkxpbmsnLHt0ZW1wbGF0ZVVybDondGVtcGxhdGVzL0Jyb2tlbkxpbmtFcnJvci5odG1sJ30pXG4gICAgICAgICAgLndoZW4oJy9yZWdpc3Rlci1zZXR1cCcse2NvbnRyb2xsZXI6J1JlZ2lzdGVyU2V0dXBDdHJsJyx0ZW1wbGF0ZVVybDonL3RlbXBsYXRlcy9SZWdpc3RlclNldFVwLmh0bWwnfSlcbiAgICAgICAgICAud2hlbignL3VzZXItc2V0dGluZ3MnLHtjb250cm9sbGVyOidVc2VyU2V0dGluZ3MnLHRlbXBsYXRlVXJsOicvdGVtcGxhdGVzL1VzZXJTZXR0aW5ncy5odG1sJ30pXG4gICAgICAgICAgLndoZW4oJy91c2VyLXNldHRpbmdzLXBhc3N3b3JkJyx7Y29udHJvbGxlcjonVXNlclNldHRpbmdzUGFzc3dvcmQnLHRlbXBsYXRlVXJsOicvdGVtcGxhdGVzL1VzZXJTZXR0aW5nc1Bhc3N3b3JkLmh0bWwnfSlcbiAgICAgICAgICAud2hlbihcIi9wb3N0SXRlbVwiLCB7Y29udHJvbGxlcjpcIlBvc3RJdGVtQ3RybFwiLCB0ZW1wbGF0ZVVybDpcIi90ZW1wbGF0ZXMvUG9zdEl0ZW0uaHRtbFwifSlcbiAgICAgICAgICAud2hlbihcIi9wb3N0U3VjY2Vzc2Z1bGwtOmlkXCIsIHtjb250cm9sbGVyOlwiUG9zdEl0ZW1TdWNjZXNzQ3RybFwiLCB0ZW1wbGF0ZVVybDpcIi90ZW1wbGF0ZXMvUG9zdEl0ZW1TdWNjZXNzLmh0bWxcIn0pXG4gICAgICAgICAgLndoZW4oXCIvY3JlYXRlUmVzZXJ2YXRpb24tOmlkXCIse2NvbnRyb2xsZXI6XCJSZXNlcnZhdGlvbkN0cmxcIix0ZW1wbGF0ZVVybDpcIi90ZW1wbGF0ZXMvUmVzZXJ2YXRpb24uaHRtbFwifSlcbiAgICAgICAgICAud2hlbihcIi9wZW5kaW5nVHJhZGVzXCIsIHtjb250cm9sbGVyOlwiUGVuZGluZ1RyYWRlc0N0cmxcIix0ZW1wbGF0ZVVybDpcIi90ZW1wbGF0ZXMvUGVuZGluZ1RyYWRlcy5odG1sXCJ9KVxuICAgICAgICAgIC53aGVuKFwiL3BlbmRpbmdUcmFkZXMtZGV0YWlscy06aWRcIiwge2NvbnRyb2xsZXI6XCJQZW5kaW5nVHJhZGVzRGV0YWlsc0N0cmxcIiwgdGVtcGxhdGVVcmw6XCIvdGVtcGxhdGVzL1BlbmRpbmdUcmFkZXNEZXRhaWwuaHRtbFwifSlcbiAgICAgICAgICAud2hlbignL0Fib3V0Jyx7dGVtcGxhdGVVcmw6Jy90ZW1wbGF0ZXMvQWJvdXQuaHRtbCd9KVxuICAgICAgICAgIC53aGVuKCcvQ29udGFjdCcse3RlbXBsYXRlVXJsOicvdGVtcGxhdGVzL0NvbnRhY3QuaHRtbCd9KVxuICAgICAgICAgIC5vdGhlcndpc2Uoe3JlZGlyZWN0VG86ICcvJ30pO1xuICB9KVxuICAuZmFjdG9yeSgnYXV0aEh0dHBSZXNwb25zZUludGVyY2VwdG9yJyxbJyRxJywnJGxvY2F0aW9uJyxmdW5jdGlvbigkcSwkbG9jYXRpb24pe1xuICAgIHJldHVybiB7XG4gICAgXHRyZXNwb25zZTogZnVuY3Rpb24ocmVzcG9uc2Upe1xuICAgIFx0XHRyZXR1cm4gcmVzcG9uc2UgfHwgJHEud2hlbihyZXNwb25zZSk7XG4gICAgXHR9LFxuICAgIFx0cmVzcG9uc2VFcnJvcjogZnVuY3Rpb24ocmVqZWN0aW9uKSB7XG4gICAgXHRcdGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDEpIHtcbiAgICBcdFx0XHQkbG9jYXRpb24ucGF0aCgnL2xvZ2luJykvLy5zZWFyY2goJ3JldHVyblRvJywgJGxvY2F0aW9uLnBhdGgoKSk7XG4gICAgXHRcdH1lbHNlIGlmKCByZWplY3Rpb24uc3RhdHVzID09PSA0MDQpe1xuICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvYnJva2VuTGluaycpLy8uc2VhcmNoKCdyZXR1cm5UbycsJGxvY2F0aW9uLnBhdGgoKSk7XG4gICAgICAgIH1cbiAgICBcdFx0cmV0dXJuICRxLnJlamVjdChyZWplY3Rpb24pO1xuICAgIFx0fVxuICAgIH1cbiAgfV0pXG4gIC5jb25maWcoWyckaHR0cFByb3ZpZGVyJyxmdW5jdGlvbigkaHR0cFByb3ZpZGVyKSB7XG4gICAgLy9IdHRwIEludGVyY3BldG9yIHRvIGNoZWNrIGF1dGggZmFpbHVyZXMgZm9yIHhociByZXF1ZXN0c1xuICAgICRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goJ2F1dGhIdHRwUmVzcG9uc2VJbnRlcmNlcHRvcicpO1xuICB9XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJykuY29udHJvbGxlcignVXNlckN0cmwnLCBmdW5jdGlvbiAoJHNjb3BlLCBVc2VyU3ZjKSB7XG4gICAgdmFyIGgxX2hlYWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlcl9oMV9oZWFkZXJcIik7XG4gICAgVXNlclN2Yy5nZXRVc2VyT3BlbkluZm8oXCJiXCIpLnRoZW4oZnVuY3Rpb24odXNlckluZil7XG4gICAgICAgIGNvbnNvbGUubG9nKHVzZXJJbmYpO1xuICAgICAgICAkc2NvcGUudXNlcl9uYW1lID0gdXNlckluZi5maXJzdF9uYW1lICsgXCIgXCIrdXNlckluZi5sYXN0X25hbWVcbiAgICAgICAgLy9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXJfbmFtZVwiKS5pbm5lckhUTUwgPSB1c2VySW5mLmZpcnN0X25hbWU7XG4gICAgICAgICRzY29wZS51c2VyX3RyYWRpbmdfaXRlbXMgPSBbXCJpbWcxXCIsXCJpbWcyXCJdO1xuICAgIH0pO1xuXG4gICBcbn0pO1xuICAgICIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKS5jb250cm9sbGVyKCdBcHBsaWNhdGlvbkN0cmwnLCBmdW5jdGlvbiAoJHNjb3BlLFVzZXJTdmMsJGxvY2F0aW9uKSB7XG5cbiAgICAkc2NvcGUubG9nb3V0ID0gZnVuY3Rpb24oKXtcbiAgICAgICAgVXNlclN2Yy5sb2dvdXQoKTtcbiAgICAgICAgJHNjb3BlLmN1cnJlbnRVc2VyID0gbnVsbDtcbiAgICAgICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7XG4gICAgICAgICRsb2NhdGlvbi5wYXRoKFwiL1wiKTtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgIH07XG5cbiAgICBVc2VyU3ZjLmhhc1Nlc3Npb24oKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcbiAgICAgICAgaWYocmVzcG9uc2Upe1xuICAgICAgICAgIFVzZXJTdmMuZ2V0VXNlckFjY291bnRJbmZvKCkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgICAgICAgICAgICRzY29wZS5jdXJyZW50VXNlciA9IHJlc3BvbnNlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG59KTtcbiIsImFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJCYXJ0ZXJDdHJsXCIsIGZ1bmN0aW9uICgkc2NvcGUsICRyb3V0ZVBhcmFtcywgJGxvY2F0aW9uLCBDaGF0U3ZjLCBVc2VyU3ZjLCBUcmFkaW5nSXRlbVN2YywgT2ZmZXJTdmMpIHtcblxuICB2YXIgYmFydGVyQ29udHJvbGxlciA9IHt9O1xuICBiYXJ0ZXJDb250cm9sbGVyLm90aGVyVXNlciA9ICRyb3V0ZVBhcmFtcy5vdGhlcnVzZXI7XG4gIGJhcnRlckNvbnRyb2xsZXIudXNlciA9IFwiXCI7XG4gIGJhcnRlckNvbnRyb2xsZXIudXNlclRhZyA9IFwiXCJcbiAgJHNjb3BlLm90aGVyVXNlciA9IGJhcnRlckNvbnRyb2xsZXIub3RoZXJVc2VyO1xuICAkc2NvcGUuQ3VycmVudFVzZXJJdGVtcyA9IG51bGw7XG4gIGJhcnRlckNvbnRyb2xsZXIuVXNlckl0ZW1zID0gW107XG4gIGJhcnRlckNvbnRyb2xsZXIuT3RoZXJVc2VySXRlbXMgPSBbXTtcbiAgYmFydGVyQ29udHJvbGxlci5JdGVtc19Vc2VyID0ge307XG4gIGJhcnRlckNvbnRyb2xsZXIuSXRlbXNfT3RoZXJfVXNlciA9IHt9O1xuICAvLyBJT1ZBTk5JJ3MgQ09ERVxuICB2YXIgRW5hYmxlRHJhZyA9IGZ1bmN0aW9uKEdhbGxlcnlOYW1lLFRyYXNoTmFtZSxDb250YWlubWVudE5hbWUpIHtcbiAgICAgICAgLy8gVGhlcmUncyB0aGUgZ2FsbGVyeSBhbmQgdGhlIHRyYXNoXG4gICAgICAgIHZhciAkZ2FsbGVyeSA9ICQoXCIjXCIrR2FsbGVyeU5hbWUpLFxuICAgICAgICAgICR0cmFzaCA9ICQoXCIjXCIrVHJhc2hOYW1lKTtcblxuICAgICAgICAvLyBMZXQgdGhlIGdhbGxlcnkgaXRlbXMgYmUgZHJhZ2dhYmxlXG4gICAgICAgICQoXCJsaVwiLCAkZ2FsbGVyeSkuZHJhZ2dhYmxlKHtcblxuICAgICAgICAgIGNhbmNlbDogXCJhLnVpLWljb25cIiwgLy8gY2xpY2tpbmcgYW4gaWNvbiB3b24ndCBpbml0aWF0ZSBkcmFnZ2luZ1xuICAgICAgICAgIHJldmVydDogXCJpbnZhbGlkXCIsIC8vIHdoY29udGFpbm1lbnQtd3JhcHBlcmVuIG5vdCBkcm9wcGVkLCB0aGUgaXRlbSB3aWxsIHJldmVydCBiYWNrIHRvIGl0cyBpbml0aWFsIHBvc2l0aW9uXG4gICAgICAgICAgY29udGFpbm1lbnQ6IFwiI1wiK0NvbnRhaW5tZW50TmFtZSxcbiAgICAgICAgICBoZWxwZXI6IFwiY2xvbmVcIixcbiAgICAgICAgICBjdXJzb3I6IFwibW92ZVwiXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIExldCB0aGUgdHJhc2ggYmUgZHJvcHBhYmxlLCBhY2NlcHRpbmcgdGhlIGdhbGxlcnkgaXRlbXNcbiAgICAgICAgJHRyYXNoLmRyb3BwYWJsZSh7XG4gICAgICAgICAgYWNjZXB0OiBcIiNcIitHYWxsZXJ5TmFtZStcIiA+IGxpXCIsXG4gICAgICAgICAgY2xhc3Nlczoge1xuICAgICAgICAgICAgXCJ1aS1kcm9wcGFibGUtYWN0aXZlXCI6IFwidWktc3RhdGUtaGlnaGxpZ2h0XCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIGRyb3A6IGZ1bmN0aW9uIChldmVudCwgdWkpIHtcbiAgICAgICAgICAgIGRlbGV0ZUltYWdlKHVpLmRyYWdnYWJsZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBMZXQgdGhlIGdhbGxlcnkgYmUgZHJvcHBhYmxlIGFzIHdlbGwsIGFjY2VwdGluZyBpdGVtcyBmcm9tIHRoZSB0cmFzaFxuICAgICAgICAkZ2FsbGVyeS5kcm9wcGFibGUoe1xuICAgICAgICAgIGFjY2VwdDogXCIjXCIrVHJhc2hOYW1lK1wiIGxpXCIsXG4gICAgICAgICAgY2xhc3Nlczoge1xuICAgICAgICAgICAgXCJ1aS1kcm9wcGFibGUtYWN0aXZlXCI6IFwiY3VzdG9tLXN0YXRlLWFjdGl2ZVwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICBkcm9wOiBmdW5jdGlvbiAoZXZlbnQsIHVpKSB7XG4gICAgICAgICAgICByZWN5Y2xlSW1hZ2UodWkuZHJhZ2dhYmxlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEltYWdlIGRlbGV0aW9uIGZ1bmN0aW9uXG4gICAgICAgIHZhciByZWN5Y2xlX2ljb24gPSBcIjxhIHRpdGxlPSdSZW1vdmUgdGhpcyBpbWFnZScgY2xhc3M9J3VpLWljb24gdWktaWNvbi1yZWZyZXNoJz5SZW1vdmUgSXRlbTwvYT5cIjtcbiAgICAgICAgZnVuY3Rpb24gZGVsZXRlSW1hZ2UoJGl0ZW0pIHtcbiAgICAgICAgICAgIGlmIChHYWxsZXJ5TmFtZSA9PT0gXCJnYWxsZXJ5XCIpIHtcbiAgICAgICAgICAgICAgICBiYXJ0ZXJDb250cm9sbGVyLlVzZXJJdGVtcy5wdXNoKCRpdGVtLmF0dHIoXCJkYXRhXCIpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoR2FsbGVyeU5hbWUgPT09IFwiZ2FsbGVyeTJcIikge1xuICAgICAgICAgICAgICAgIGJhcnRlckNvbnRyb2xsZXIuT3RoZXJVc2VySXRlbXMucHVzaCgkaXRlbS5hdHRyKFwiZGF0YVwiKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICRpdGVtLmZhZGVPdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciAkbGlzdCA9ICQoXCJ1bFwiLCAkdHJhc2gpLmxlbmd0aCA/XG4gICAgICAgICAgICAgICAgJChcInVsXCIsICR0cmFzaCkgOlxuICAgICAgICAgICAgICAgICQoXCI8dWwgY2xhc3M9J1wiK0dhbGxlcnlOYW1lK1wiIHVpLWhlbHBlci1yZXNldCcvPlwiKS5hcHBlbmRUbygkdHJhc2gpO1xuICAgICAgICAgICAgICAgICRsaXN0LmF0dHIoXCJpZFwiLEdhbGxlcnlOYW1lK1wiX3VsX2l0ZW1cIik7XG4gICAgICAgICAgICAgICAgJGl0ZW0uZmluZChcImEudWktaWNvbi10cmFuc2ZlcnRoaWNrLWUtd1wiKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAkaXRlbS5hcHBlbmQocmVjeWNsZV9pY29uKS5hcHBlbmRUbygkbGlzdCkuZmFkZUluKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgJGl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgIC5hbmltYXRlKHsgd2lkdGg6IFwiNDhweFwiIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmluZChcImltZ1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFuaW1hdGUoeyBoZWlnaHQ6IFwiMzZweFwiIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbWFnZSByZWN5Y2xlIGZ1bmN0aW9uXG4gICAgICAgIHZhciB0cmFzaF9pY29uID0gXCI8YSB0aXRsZT0nUmVtb3ZlIHRoaXMgaW1hZ2UnIGNsYXNzPSd1aS1pY29uIHVpLWljb24tdHJhbnNmZXJ0aGljay1lLXcnPkRlbGV0ZSBpbWFnZTwvYT5cIjtcbiAgICAgICAgZnVuY3Rpb24gcmVjeWNsZUltYWdlKCRpdGVtKSB7XG4gICAgICAgICAgICBpZiAoR2FsbGVyeU5hbWUgPT09IFwiZ2FsbGVyeVwiKSB7XG4gICAgICAgICAgICAgICAgYmFydGVyQ29udHJvbGxlci5Vc2VySXRlbXMgPSByZW1vdmVFbGVtZW50QnlWYWx1ZShiYXJ0ZXJDb250cm9sbGVyLlVzZXJJdGVtcywkaXRlbS5hdHRyKFwiZGF0YVwiKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKEdhbGxlcnlOYW1lID09PSBcImdhbGxlcnkyXCIpIHtcbiAgICAgICAgICAgICAgICBiYXJ0ZXJDb250cm9sbGVyLk90aGVyVXNlckl0ZW1zID0gcmVtb3ZlRWxlbWVudEJ5VmFsdWUoYmFydGVyQ29udHJvbGxlci5PdGhlclVzZXJJdGVtcywkaXRlbS5hdHRyKFwiZGF0YVwiKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICRpdGVtLmZhZGVPdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICRpdGVtXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKFwiYS51aS1pY29uLXJlZnJlc2hcIilcbiAgICAgICAgICAgICAgICAgICAgLnJlbW92ZSgpXG4gICAgICAgICAgICAgICAgICAgIC5lbmQoKVxuICAgICAgICAgICAgICAgICAgICAuY3NzKFwid2lkdGhcIiwgXCI5NnB4XCIpXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQodHJhc2hfaWNvbilcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoXCJpbWdcIilcbiAgICAgICAgICAgICAgICAgICAgLmNzcyhcImhlaWdodFwiLCBcIjcycHhcIilcbiAgICAgICAgICAgICAgICAgICAgLmVuZCgpXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmRUbygkZ2FsbGVyeSlcbiAgICAgICAgICAgICAgICAgICAgLmZhZGVJbigpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbWFnZSBwcmV2aWV3IGZ1bmN0aW9uLCBkZW1vbnN0cmF0aW5nIHRoZSB1aS5kaWFsb2cgdXNlZCBhcyBhIG1vZGFsIHdpbmRvd1xuICAgICAgICBmdW5jdGlvbiB2aWV3TGFyZ2VySW1hZ2UoJGxpbmspIHtcbiAgICAgICAgICB2YXIgc3JjID0gJGxpbmsuYXR0cihcImhyZWZcIiksXG4gICAgICAgICAgICB0aXRsZSA9ICRsaW5rLnNpYmxpbmdzKFwiaW1nXCIpLmF0dHIoXCJhbHRcIiksXG4gICAgICAgICAgICAkbW9kYWwgPSAkKFwiaW1nW3NyYyQ9J1wiICsgc3JjICsgXCInXVwiKTtcblxuICAgICAgICAgIGlmICgkbW9kYWwubGVuZ3RoKSB7XG4gICAgICAgICAgICAkbW9kYWwuZGlhbG9nKFwib3BlblwiKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGltZyA9ICQoXCI8aW1nIGFsdD0nXCIgKyB0aXRsZSArIFwiJyB3aWR0aD0nMzg0JyBoZWlnaHQ9JzI4OCcgc3R5bGU9J2Rpc3BsYXk6IG5vbmU7IHBhZGRpbmc6IDhweDsnIC8+XCIpXG4gICAgICAgICAgICAgIC5hdHRyKFwic3JjXCIsIHNyYykuYXBwZW5kVG8oXCJib2R5XCIpO1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGltZy5kaWFsb2coe1xuICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgICAgICAgICB3aWR0aDogNDAwLFxuICAgICAgICAgICAgICAgIG1vZGFsOiB0cnVlXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSwgMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVzb2x2ZSB0aGUgaWNvbnMgYmVoYXZpb3Igd2l0aCBldmVudCBkZWxlZ2F0aW9uXG4gICAgICAgICQoXCJ1bC5cIitHYWxsZXJ5TmFtZStcIiA+IGxpXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgdmFyICRpdGVtID0gJCh0aGlzKSxcbiAgICAgICAgICAgICR0YXJnZXQgPSAkKGV2ZW50LnRhcmdldCk7XG5cbiAgICAgICAgICBpZiAoJHRhcmdldC5pcyhcImEudWktaWNvbi10cmFuc2ZlcnRoaWNrLWUtd1wiKSkge1xuICAgICAgICAgICAgZGVsZXRlSW1hZ2UoJGl0ZW0pO1xuICAgICAgICAgIH0gZWxzZSBpZiAoJHRhcmdldC5pcyhcImEudWktaWNvbi16b29taW5cIikpIHtcbiAgICAgICAgICAgIHZpZXdMYXJnZXJJbWFnZSgkdGFyZ2V0KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCR0YXJnZXQuaXMoXCJhLnVpLWljb24tcmVmcmVzaFwiKSkge1xuICAgICAgICAgICAgcmVjeWNsZUltYWdlKCRpdGVtKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgLy9mb3IgdGhlIG90aGVyIHVzZXJcblxuXG4gIFRyYWRpbmdJdGVtU3ZjLmdldEFsbFVzZXJUcmFkaW5nSXRlbXMoJHJvdXRlUGFyYW1zLm90aGVydXNlcilcbiAgICAudGhlbihmdW5jdGlvbiAoT3RoZXJVc2VySXRlbXMpIHtcblxuICAgICAgICB2YXIgZ2FsbGVyeTIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbGxlcnkyXCIpO1xuICAgICAgICBmb3IgKHggaW4gT3RoZXJVc2VySXRlbXMpIHtcbiAgICAgICAgICAgIGJhcnRlckNvbnRyb2xsZXIuSXRlbXNfT3RoZXJfVXNlcltPdGhlclVzZXJJdGVtc1t4XS5faWRdID0gT3RoZXJVc2VySXRlbXNbeF07XG4gICAgICAgICAgICBpZighT3RoZXJVc2VySXRlbXNbeF0udHJhZGVkKXtcbiAgICAgICAgICAgICAgICBnYWxsZXJ5Mi5hcHBlbmRDaGlsZChjcmVhdGVMaUl0ZW1IdG1sKE90aGVyVXNlckl0ZW1zW3hdKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgICAgICBFbmFibGVEcmFnKFwiZ2FsbGVyeTJcIixcInRyYXNoMlwiLFwiY29udGFpbm1lbnQtd3JhcHBlcjJcIik7XG4gICAgfSlcblxuICBmdW5jdGlvbiBjcmVhdGVMaUl0ZW1IdG1sKGl0ZW0pIHtcbiAgICAgIHZhciBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcbiAgICAgIGxpLmNsYXNzTmFtZSA9IFwiZHJhZ2dhYmxlIHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci10clwiO1xuICAgICAgdmFyIGg1ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImg1XCIpO1xuICAgICAgaDUuY2xhc3NOYW1lID0gXCJ1aS13aWRnZXQtaGVhZGVyXCI7XG4gICAgICBoNS5pbm5lckhUTUwgPSBpdGVtLm5hbWU7XG4gICAgICB2YXIgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAgIGltZy5zcmMgPSBpdGVtLmltYWdlLnBhdGgyMDA7XG4gICAgICBpbWcud2lkdGggPSBcIjk2XCI7XG4gICAgICBpbWcuaGVpZ2h0ID0gXCI3MlwiO1xuICAgICAgdmFyIGFfYmFydCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuICAgICAgYV9iYXJ0LnRpdGxlID0gXCJCYXJ0ZXIgdGhpcyBpbWFnZVwiO1xuICAgICAgYV9iYXJ0LmNsYXNzTmFtZSA9IFwidWktaWNvbiB1aS1pY29uLXRyYW5zZmVydGhpY2stZS13XCJcbiAgICAgIGFfYmFydC5pbm5lckhUTUwgPSBcIkJhcnRlciBJdGVtXCI7XG4gICAgICBsaS5hcHBlbmRDaGlsZChoNSk7XG4gICAgICBsaS5hcHBlbmRDaGlsZChpbWcpO1xuICAgICAgbGkuYXBwZW5kQ2hpbGQoYV9iYXJ0KTtcbiAgICAgIGxpLnNldEF0dHJpYnV0ZShcImRhdGFcIixpdGVtLl9pZCk7XG4gICAgICByZXR1cm4gbGk7XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVFbGVtZW50QnlWYWx1ZShhcnIsdmFsdWUpIHtcbiAgICAgIGZvcih4IGluIGFycikge1xuICAgICAgICAgIGlmKHZhbHVlID09PSBhcnJbeF0pe1xuICAgICAgICAgICAgICBhcnIuc3BsaWNlKHgsMSk7XG4gICAgICAgICAgICAgIHJldHVybiBhcnI7XG4gICAgICAgICAgfVxuICAgICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ3JlYXRlclN0cmluZyhzMSxzMil7XG4gICAgaWYoczE+czIpXG4gICAgICByZXR1cm4gW3MxLHMyXTtcbiAgICByZXR1cm4gW3MyLHMxXTtcbiAgfVxuXG4gIC8vIGdldCdzIGN1cnJlbnQgdXNlcidzIG5hbWUuXG4gIFVzZXJTdmMucmV0dXJuU2Vzc2lvblVzZXJOYW1lKCkudGhlbihmdW5jdGlvbiAodXNlck5hbWUpIHtcbiAgICAgIHZhciBzdHJpbmdQYXJhbXMgPSBncmVhdGVyU3RyaW5nKHVzZXJOYW1lLCRyb3V0ZVBhcmFtcy5vdGhlcnVzZXIpO1xuICAgICAgYmFydGVyQ29udHJvbGxlci51c2VyVGFnID0gc3RyaW5nUGFyYW1zWzBdKyctJytzdHJpbmdQYXJhbXNbMV07XG4gICAgYmFydGVyQ29udHJvbGxlci51c2VyID0gdXNlck5hbWU7XG4gICAgLy9iYXJ0ZXJDb250cm9sbGVyLnVzZXJUYWdcbiAgICBUcmFkaW5nSXRlbVN2Yy5nZXRBbGxVc2VyVHJhZGluZ0l0ZW1zKHVzZXJOYW1lKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAoQ3VycmVudFVzZXJJdGVtcykge1xuICAgICAgICAgICAgdmFyIGdhbGxlcnkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbGxlcnlcIik7XG4gICAgICAgICAgICBmb3IoIHggaW4gQ3VycmVudFVzZXJJdGVtcykge1xuICAgICAgICAgICAgICAgIGJhcnRlckNvbnRyb2xsZXIuSXRlbXNfVXNlcltDdXJyZW50VXNlckl0ZW1zW3hdLl9pZF0gPSBDdXJyZW50VXNlckl0ZW1zW3hdO1xuICAgICAgICAgICAgICAgIGlmKCFDdXJyZW50VXNlckl0ZW1zW3hdLnRyYWRlZCl7XG4gICAgICAgICAgICAgICAgICAgIGdhbGxlcnkuYXBwZW5kQ2hpbGQoY3JlYXRlTGlJdGVtSHRtbChDdXJyZW50VXNlckl0ZW1zW3hdKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgRW5hYmxlRHJhZyhcImdhbGxlcnlcIixcInRyYXNoXCIsXCJjb250YWlubWVudC13cmFwcGVyXCIpO1xuICAgICAgICB9KVxuICB9KVxuXG4gIC8vIGEgcmV2ZXJzZSBsb29wIHRvIHBvcHVsYXRlIG1lc3NhZ2UgY29udGFpbmVyLlxuICBDaGF0U3ZjLmdldFJlY2VudE1lc3NhZ2VzKCRyb3V0ZVBhcmFtcy5vdGhlcnVzZXIpLnRoZW4oZnVuY3Rpb24gKGNvbnYpIHtcbiAgICBmb3IgKHZhciB4ID0gY29udi5sZW5ndGggLSAxOyB4ID49IDA7IHgtLSkge1xuICAgICAgY3JlYXRlQnViYmxlKGNvbnZbeF0pO1xuICAgIH1cbiAgfSlcblxuICB2YXIgc29ja2V0ID0gaW8uY29ubmVjdChcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMFwiKTtcbiAgLy8gUXVlcnkgRE9NXG4gIHZhciBtZXNzYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JhcnRlcl9pbnB1dF9tZXNzYWdlJyk7XG4gIC8vIEVtaXQgZXZlbnRzXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYmFydGVyX2lucHV0X21lc3NhZ2VcIilcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmIChldmVudC5rZXlDb2RlID09IDEzICYmIG1lc3NhZ2UudmFsdWUgIT0gXCJcIikge1xuICAgICAgICBzb2NrZXQuZW1pdCgnY2hhdCcsIHtcbiAgICAgICAgICBib2R5OiBtZXNzYWdlLnZhbHVlLFxuICAgICAgICAgIHVzZXI6IGJhcnRlckNvbnRyb2xsZXIudXNlcixcbiAgICAgICAgICB0YWc6IGJhcnRlckNvbnRyb2xsZXIudXNlclRhZ1xuICAgICAgICB9KTtcbiAgICAgICAgQ2hhdFN2Yy5zZW5kTWVzc2FnZShiYXJ0ZXJDb250cm9sbGVyLm90aGVyVXNlciwgbWVzc2FnZS52YWx1ZSk7XG4gICAgICAgIG1lc3NhZ2UudmFsdWUgPSBcIlwiO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIC8vIExpc3RlbiBmb3IgZXZlbnRzXG4gIHNvY2tldC5vbignY2hhdCcsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICBpZihkYXRhLnRhZyA9PT0gYmFydGVyQ29udHJvbGxlci51c2VyVGFnKXtcbiAgICAgICAgICBjcmVhdGVCdWJibGUoZGF0YSk7XG4gICAgICB9XG5cbiAgfSk7XG5cbiAgLy8gY3JlYXRlcyBidWJibGUgYmFzZWQgb24gVXNlciBhbmQgQm9keVxuICAvLyBjYW4gYmUgdXNlZCBmb3IgdXBsb2FkaW5nIGFuZCBhbHNvIGxpdmUgdXBkYXRlLlxuICAvLyB0aGVtIGNvbnRhaW5lciBzY3JvbGxzIHRvIGxhc3QgbWVzc2FnZS5cbiAgZnVuY3Rpb24gY3JlYXRlQnViYmxlKE1lc3NhZ2VDb250ZW50KSB7XG4gICAgdmFyIGNsYXNzZXMgPSBbXCJtZXNzYWdlX19pdGVtIG1lc3NhZ2VfX2l0ZW0tLWJvdFwiLCBcIm1lc3NhZ2UgbWVzc2FnZS0tYm90XCJdXG4gICAgaWYgKE1lc3NhZ2VDb250ZW50LmF1dGhvciA9PT0gYmFydGVyQ29udHJvbGxlci51c2VyIHx8IE1lc3NhZ2VDb250ZW50LnVzZXIgPT0gYmFydGVyQ29udHJvbGxlci51c2VyKSB7XG4gICAgICBjbGFzc2VzWzBdID0gXCJtZXNzYWdlX19pdGVtIG1lc3NhZ2VfX2l0ZW0tLXVzZXJcIjtcbiAgICAgIGNsYXNzZXNbMV0gPSBcIm1lc3NhZ2UgbWVzc2FnZS0tdXNlclwiO1xuICAgIH1cbiAgICB2YXIgZGl2X21lc3NhZ2VfbGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgZGl2X21lc3NhZ2VfbGlzdC5jbGFzc05hbWUgPSBcIm1lc3NhZ2VfX2xpc3RcIjtcbiAgICB2YXIgZGl2X21lc3NhZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGRpdl9tZXNzYWdlLmNsYXNzTmFtZSA9IGNsYXNzZXNbMF07XG4gICAgdmFyIHNwYW5fbWVzc2FnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIC8vIHNpbXBsZSBhcHByb2FjaCBvZiBwcmV2ZW50aW5nIHNjcmlwdCBpbmplY3Rpb25cbiAgICBzcGFuX21lc3NhZ2UuaW5uZXJIVE1MID0gTWVzc2FnZUNvbnRlbnQuYm9keS5yZXBsYWNlKC88L2csIFwiJmx0O1wiKS5yZXBsYWNlKC8+L2csIFwiJmd0O1wiKTtcbiAgICBzcGFuX21lc3NhZ2UuY2xhc3NOYW1lID0gY2xhc3Nlc1sxXTtcbiAgICBkaXZfbWVzc2FnZS5hcHBlbmRDaGlsZChzcGFuX21lc3NhZ2UpO1xuICAgIGRpdl9tZXNzYWdlX2xpc3QuYXBwZW5kQ2hpbGQoZGl2X21lc3NhZ2UpO1xuXG4gICAgaWYoTWVzc2FnZUNvbnRlbnQub2ZmZXJJZCkge1xuICAgICAgICBkaXZfbWVzc2FnZS5pZCA9IE1lc3NhZ2VDb250ZW50Lm9mZmVySWQ7XG4gICAgICAgIHNwYW5fbWVzc2FnZS5pZCA9IE1lc3NhZ2VDb250ZW50Lm9mZmVySWQ7XG4gICAgfVxuXG4gICAgaWYgKE1lc3NhZ2VDb250ZW50LnNwZWNpYWwgPT09IFwiT0RcIikge1xuICAgICAgICBzcGFuX21lc3NhZ2Uuc3R5bGUuY29sb3IgPSBcInB1cnBsZVwiO1xuICAgIH1cblxuICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJhcnRlcl9tZXNzYWdlX2NvbnRlbnRcIikpXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJhcnRlcl9tZXNzYWdlX2NvbnRlbnRcIikuYXBwZW5kQ2hpbGQoZGl2X21lc3NhZ2VfbGlzdCk7XG5cbiAgICB2YXIgZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYmFydGVyX21lc3NhZ2VfY29udGVudFwiKTtcbiAgICBkLnNjcm9sbFRvcCA9IGQuc2Nyb2xsSGVpZ2h0O1xuICB9XG5cblxuICAkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uICgpIHtcbiAgICBzb2NrZXQucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHRocm93RXJyb3IoKSB7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJhcnRlcl9oNF9lcnJvclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICB9XG5cbiAgLy8gbmctY2xpY2sgdGhhdCBzdWJtaXRzIG9mZmVycy5cbiAgJHNjb3BlLlN1Ym1pdE9mZmVyID0gZnVuY3Rpb24oKSB7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJhcnRlcl9oNF9lcnJvclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cbiAgICAgIGlmIChiYXJ0ZXJDb250cm9sbGVyLlVzZXJJdGVtcy5sZW5ndGggPT0gMCB8fCBiYXJ0ZXJDb250cm9sbGVyLk90aGVyVXNlckl0ZW1zLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgdGhyb3dFcnJvcigpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBtb2RhbENyZWF0aW9uID0gY3JlYXRlTW9kYWwoYmFydGVyQ29udHJvbGxlci5Vc2VySXRlbXMsYmFydGVyQ29udHJvbGxlci5PdGhlclVzZXJJdGVtcyx0cnVlKTtcbiAgICAgIHZhciBvZmZlciA9IHtcbiAgICAgICAgICBVc2VyX29mZmVyX3VzZXJuYW1lOiBiYXJ0ZXJDb250cm9sbGVyLnVzZXIsXG4gICAgICAgICAgVXNlcl9vdGhlcl91c2VybmFtZTogJHJvdXRlUGFyYW1zLm90aGVydXNlcixcbiAgICAgICAgICBVc2VyX29mZmVyX2l0ZW1zOiBiYXJ0ZXJDb250cm9sbGVyLlVzZXJJdGVtcyxcbiAgICAgICAgICBVc2VyX290aGVyX2l0ZW1zOiBiYXJ0ZXJDb250cm9sbGVyLk90aGVyVXNlckl0ZW1zXG4gICAgICB9XG4gICAgICBPZmZlclN2Yy5tYWtlT2ZmZXIob2ZmZXIpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgICAgIGRvYy5zaGlmdCgpO1xuICAgICAgICAgICAgdmFyIGRvY0lkID0gZG9jWzBdLl9pZDtcbiAgICAgICAgICAgIHZhciBtZXNzYWdlID0gXCJTZWUgXCIrYmFydGVyQ29udHJvbGxlci51c2VyK1wiJ3Mgb2ZmZXIgdG8gXCIrICRyb3V0ZVBhcmFtcy5vdGhlcnVzZXIgK1wiIC06IFwiICsgZG9jSWQuc3Vic3RyKGRvY0lkLmxlbmd0aCAtIDUpXG4gICAgICAgICAgICBtb2RhbENyZWF0aW9uWzBdLmlkID0gXCJtb2RhbF9cIitkb2NJZDtcbiAgICAgICAgICAgIG1vZGFsQ3JlYXRpb25bMV0ub25jbGljayA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnJlZGlyZWN0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1vZGFsQ3JlYXRpb25bMl0ub25jbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUucmVkaXJlY3QgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1vZGFsQ3JlYXRpb25bM10uaWQgPSBcIm1vZGFsX2Zvb3Rlcl9cIiArIGRvY0lkO1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb2xsZWN0aW9uT2ZNb2RhbHNcIikuYXBwZW5kQ2hpbGQobW9kYWxDcmVhdGlvblswXSk7XG4gICAgICAgICAgICBzb2NrZXQuZW1pdCgnY2hhdCcsIHtcbiAgICAgICAgICAgICAgYm9keTogbWVzc2FnZSxcbiAgICAgICAgICAgICAgdXNlcjogYmFydGVyQ29udHJvbGxlci51c2VyLFxuICAgICAgICAgICAgICBvZmZlcklkOiBkb2NJZCxcbiAgICAgICAgICAgICAgdGFnOiBiYXJ0ZXJDb250cm9sbGVyLnVzZXJUYWdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgQ2hhdFN2Yy5zZW5kTWVzc2FnZVdpdGhPZmZlcklEKGJhcnRlckNvbnRyb2xsZXIub3RoZXJVc2VyLCBtZXNzYWdlLGRvY0lkKTtcbiAgICAgICAgICAgIHJlbW92ZUl0ZW1zKCk7XG4gICAgICAgIH0pO1xuICB9XG5cblxuICBmdW5jdGlvbiByZW1vdmVJdGVtcygpIHtcbiAgICAgIHZhciBnYWxsZXJ5X3VsX2l0ZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbGxlcnlfdWxfaXRlbVwiKSxcbiAgICAgIGdhbGxlcnkyX3VsX2l0ZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbGxlcnkyX3VsX2l0ZW1cIik7XG4gICAgICAvLyB0aGlzIGlzIGhhcmQgY29kZWQuIElmIGFueSBpc3N1ZXMuIENvbWUgaGVyZSFcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2FsbGVyeV91bF9pdGVtLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgZ2FsbGVyeV91bF9pdGVtLmNoaWxkcmVuW2ldLmNoaWxkcmVuWzJdLmNsaWNrKCk7XG4gICAgICB9XG4gICAgICAvLyB0aGlzIGlzIGhhcmQgY29kZWQuIElmIGFueSBpc3N1ZXMuIENvbWUgaGVyZSFcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2FsbGVyeTJfdWxfaXRlbS5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICBnYWxsZXJ5Ml91bF9pdGVtLmNoaWxkcmVuW2ldLmNoaWxkcmVuWzJdLmNsaWNrKCk7XG4gICAgICB9XG4gIH1cblxuICAvLyBGdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBtb2RhbC5cbiAgLy8gVXNlckFycmF5IGlzIHRoZSBjdXJyZW50IHVzZXIncyBhcnJheSBvZiBpdGVtcy5cbiAgLy8gT3RoZXJBcnJheSBpcyB0aGUgb3RoZXIgdXNlcidzIGFycmF5IG9mIGl0ZW1zLlxuICAvLyBPcmRlckNhc2UgZGV0ZXJtaW5lcyB3aGV0ZXIgaWYgaXQncyB0aGUgVXNlcidzIG9mZmVyIG9yIG90aGVyIHVzZXIgb2ZmZXIuXG4gIGZ1bmN0aW9uIGNyZWF0ZU1vZGFsIChVc2VyQXJyYXksT3RoZXJBcnJheSxPcmRlckNhc2UpIHtcblxuICAgICAgdmFyIHVzZXIgPSBiYXJ0ZXJDb250cm9sbGVyLnVzZXIsXG4gICAgICBvdGhlclVzZXIgPSAkcm91dGVQYXJhbXMub3RoZXJ1c2VyO1xuXG4gICAgICB2YXIgbW9kYWxEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuICAgICAgbW9kYWxEaWFsb2cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuICAgICAgbW9kYWxDb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxcbiAgICAgIG1vZGFsSGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxcbiAgICAgIG1vZGFsQm9keSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXG4gICAgICBtb2RhbEZvb3RlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBtb2RhbERpdi5jbGFzc05hbWUgPSBcIm1vZGFsIGZhZGVcIjtcbiAgICAgIG1vZGFsRGlhbG9nLmNsYXNzTmFtZSA9IFwibW9kYWwtZGlhbG9nXCI7XG4gICAgICBtb2RhbENvbnRlbnQuY2xhc3NOYW1lID0gXCJtb2RhbC1jb250ZW50XCI7XG4gICAgICBtb2RhbEhlYWRlci5jbGFzc05hbWUgPSBcIm1vZGFsLWhlYWRlclwiO1xuICAgICAgbW9kYWxCb2R5LmNsYXNzTmFtZSA9IFwibW9kYWwtYm9keVwiO1xuICAgICAgbW9kYWxGb290ZXIuY2xhc3NOYW1lID0gXCJtb2RhbC1mb290ZXJcIjtcbiAgICAgIHZhciBoZWFkZXJTdHJpbmcgPSB1c2VyICsgXCIncyBUcmFkZGluZyBPZmZlciBUbyBcIiArIG90aGVyVXNlcjtcbiAgICAgIGlmKCFPcmRlckNhc2Upe1xuICAgICAgICAgIGhlYWRlclN0cmluZyA9IG90aGVyVXNlciArIFwiJ3MgVHJhZGRpbmcgT2ZmZXIgVG8gXCIgKyB1c2VyO1xuICAgICAgfVxuXG4gICAgICB2YXIgaDJfdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDJcIik7XG4gICAgICBoMl90aXRsZS5pbm5lckhUTUwgPSBoZWFkZXJTdHJpbmc7XG4gICAgICBtb2RhbEhlYWRlci5hcHBlbmRDaGlsZChoMl90aXRsZSk7XG5cbiAgICAgIHZhciBkaXZSb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgZGl2Um93LmNsYXNzTmFtZSA9IFwicm93XCI7XG4gICAgICBtb2RhbEJvZHkuYXBwZW5kQ2hpbGQoZGl2Um93KTtcbiAgICAgIHZhciBkaXZCb2R5MSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXG4gICAgICBkaXZCb2R5MiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXG4gICAgICBkaXZCb2R5MyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cbiAgICAgIGRpdkJvZHkxLmNsYXNzTmFtZSA9IFwiY29sLW1kLTVcIjtcbiAgICAgIGRpdkJvZHkyLmNsYXNzTmFtZSA9IFwiY29sLW1kLTJcIjtcbiAgICAgIGRpdkJvZHkzLmNsYXNzTmFtZSA9IFwiY29sLW1kLTVcIjtcblxuICAgICAgdmFyIGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgICBpbWcuc3JjID0gXCJpbWFnZXMvdHJhZGUucG5nXCI7XG4gICAgICBpbWcuc3R5bGUud2lkdGggPSBcIjUwcHhcIjtcbiAgICAgIGltZy5zdHlsZS5oZWlnaHQgPSBcIjUwcHhcIjtcblxuICAgICAgY3JlYXRlSW1hZ2VJdGVtKFVzZXJBcnJheSxiYXJ0ZXJDb250cm9sbGVyLkl0ZW1zX1VzZXIsZGl2Qm9keTEpO1xuICAgICAgY3JlYXRlSW1hZ2VJdGVtKE90aGVyQXJyYXksYmFydGVyQ29udHJvbGxlci5JdGVtc19PdGhlcl9Vc2VyLGRpdkJvZHkzKTtcbiAgICAgIGRpdkJvZHkyLmFwcGVuZENoaWxkKGltZyk7XG4gICAgICBkaXZSb3cuYXBwZW5kQ2hpbGQoZGl2Qm9keTEpO1xuICAgICAgZGl2Um93LmFwcGVuZENoaWxkKGRpdkJvZHkyKTtcbiAgICAgIGRpdlJvdy5hcHBlbmRDaGlsZChkaXZCb2R5Myk7XG5cbiAgICAgIHZhciBtb2RhbERpdkZvb3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgdmFyIGgzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgzXCIpO1xuICAgICAgaDMuaW5uZXJIVE1MID0gXCJEbyB5b3Ugd2FudCB0byBhY2NlcHQgdGhlIG9mZmVyP1wiO1xuICAgICAgdmFyIGFfeWVzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gICAgICB2YXIgYV9ubyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuICAgICAgYV95ZXMuY2xhc3NOYW1lID0gXCJidG4gYnRuLWRlZmF1bHRcIjtcbiAgICAgIGFfeWVzLnNldEF0dHJpYnV0ZShcInJvbGVcIixcImJ1dHRvblwiKTtcbiAgICAgIGFfeWVzLmlubmVySFRNTCA9IFwiWWVzXCI7XG4gICAgICBhX3llcy5zZXRBdHRyaWJ1dGUoXCJkYXRhLWRpc21pc3NcIixcIm1vZGFsXCIpO1xuICAgICAgYV9uby5jbGFzc05hbWUgPSBcImJ0biBidG4tZGVmYXVsdFwiO1xuICAgICAgYV9uby5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJidXR0b25cIik7XG4gICAgICBhX25vLnNldEF0dHJpYnV0ZShcImRhdGEtZGlzbWlzc1wiLFwibW9kYWxcIik7XG4gICAgICBhX25vLmlubmVySFRNTCA9IFwiTm9cIjtcbiAgICAgIG1vZGFsRGl2Rm9vdC5hcHBlbmRDaGlsZChoMyk7XG4gICAgICBtb2RhbERpdkZvb3QuYXBwZW5kQ2hpbGQoYV95ZXMpO1xuICAgICAgbW9kYWxEaXZGb290LmFwcGVuZENoaWxkKGFfbm8pO1xuICAgICAgbW9kYWxGb290ZXIuYXBwZW5kQ2hpbGQobW9kYWxEaXZGb290KTtcblxuICAgICAgbW9kYWxDb250ZW50LmFwcGVuZENoaWxkKG1vZGFsSGVhZGVyKTtcbiAgICAgIG1vZGFsQ29udGVudC5hcHBlbmRDaGlsZChtb2RhbEJvZHkpO1xuICAgICAgaWYoIU9yZGVyQ2FzZSkge1xuICAgICAgICAgIG1vZGFsQ29udGVudC5hcHBlbmRDaGlsZChtb2RhbEZvb3Rlcik7XG4gICAgICB9XG4gICAgICBtb2RhbERpYWxvZy5hcHBlbmRDaGlsZChtb2RhbENvbnRlbnQpO1xuICAgICAgbW9kYWxEaXYuYXBwZW5kQ2hpbGQobW9kYWxEaWFsb2cpO1xuICAgICAgcmV0dXJuIFttb2RhbERpdixhX3llcyxhX25vLG1vZGFsRGl2Rm9vdF07XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVJbWFnZUl0ZW0gKGl0ZW1zLGl0ZW1NYXAsZGl2KSB7XG4gICAgICBmb3IgKHggaW4gaXRlbXMpIHtcbiAgICAgICAgICB2YXIgbmV3SW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAgICAgICBuZXdJbWcuc3JjID0gaXRlbU1hcFtpdGVtc1t4XV0uaW1hZ2UucGF0aDIwMDtcbiAgICAgICAgICBuZXdJbWcuc3R5bGUud2lkdGggPSBcIjEwMHB4XCI7XG4gICAgICAgICAgbmV3SW1nLnN0eWxlLmhlaWdodCA9IFwiMTIwcHhcIjtcbiAgICAgICAgICBuZXdJbWcudGl0bGUgPSBpdGVtTWFwW2l0ZW1zW3hdXS5uYW1lO1xuICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZChuZXdJbWcpO1xuICAgICAgfVxuICB9XG5cbiAgJHNjb3BlLkZpcmVNb2RhbCA9IGZ1bmN0aW9uKGV2ZW50KXtcbiAgICAgIGlmKGV2ZW50LnRhcmdldC5pZCAhPT0gXCJiYXJ0ZXJfbWVzc2FnZV9jb250ZW50XCIgJiYgZXZlbnQudGFyZ2V0LmlkICE9PSBcImJhcnRlcl9pbnB1dF9tZXNzYWdlXCIgJiYgZXZlbnQudGFyZ2V0LmlkICE9IFwiXCIpIHtcblxuICAgICAgICAgIGlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibW9kYWxfXCIrZXZlbnQudGFyZ2V0LmlkKSkge1xuICAgICAgICAgICAgICAkKFwiI21vZGFsX1wiK2V2ZW50LnRhcmdldC5pZCkubW9kYWwoKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZhciBkb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgT2ZmZXJTdmMuR2V0T25lT2ZmZXJCeUlkKGV2ZW50LnRhcmdldC5pZClcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoT2ZmZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlIG9mZmVyZXIgd2FzIGNyZWF0ZWQgYnkgY3VycmVudCB1c2VyLlxuICAgICAgICAgICAgICAgICAgICBpZihPZmZlci5Vc2VyX29mZmVyX3VzZXJuYW1lID09PSBiYXJ0ZXJDb250cm9sbGVyLnVzZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbmUgPSBoYXNJdGVtcyhPZmZlci5Vc2VyX29mZmVyX2l0ZW1zLGJhcnRlckNvbnRyb2xsZXIuSXRlbXNfVXNlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb25lID0gaGFzSXRlbXMoT2ZmZXIuVXNlcl9vdGhlcl9pdGVtcyxiYXJ0ZXJDb250cm9sbGVyLkl0ZW1zX090aGVyX1VzZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoZG9uZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsQ3JlYXRpb24gPSBjcmVhdGVNb2RhbChPZmZlci5Vc2VyX29mZmVyX2l0ZW1zLE9mZmVyLlVzZXJfb3RoZXJfaXRlbXMsdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kYWxDcmVhdGlvblswXS5pZCA9IFwibW9kYWxfXCIrZXZlbnQudGFyZ2V0LmlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29sbGVjdGlvbk9mTW9kYWxzXCIpLmFwcGVuZENoaWxkKG1vZGFsQ3JlYXRpb25bMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjbW9kYWxfXCIrZXZlbnQudGFyZ2V0LmlkKS5tb2RhbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkb2luZyBzdHVmZiBoZXJlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiU29ycnkgaXRlbXMgbWlzc2luZ1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9uZSA9IGhhc0l0ZW1zKE9mZmVyLlVzZXJfb2ZmZXJfaXRlbXMsYmFydGVyQ29udHJvbGxlci5JdGVtc19PdGhlcl9Vc2VyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbmUgPSBoYXNJdGVtcyhPZmZlci5Vc2VyX290aGVyX2l0ZW1zLGJhcnRlckNvbnRyb2xsZXIuSXRlbXNfVXNlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hlY2tDbGljayA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihkb25lKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbW9kYWxDcmVhdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE9mZmVyLlRyYW5zYWN0aW9uUGVuZGluZy5hY2NlcHRlZCA9PT0gZmFsc2UgfHwgT2ZmZXIuVHJhbnNhY3Rpb25QZW5kaW5nLmFjY2VwdGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsQ3JlYXRpb24gPSBjcmVhdGVNb2RhbChPZmZlci5Vc2VyX290aGVyX2l0ZW1zLE9mZmVyLlVzZXJfb2ZmZXJfaXRlbXMsdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsQ3JlYXRpb25bMF0uaWQgPSBcIm1vZGFsX1wiK2V2ZW50LnRhcmdldC5pZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb2xsZWN0aW9uT2ZNb2RhbHNcIikuYXBwZW5kQ2hpbGQobW9kYWxDcmVhdGlvblswXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjbW9kYWxfXCIrZXZlbnQudGFyZ2V0LmlkKS5tb2RhbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsQ3JlYXRpb24gPSBjcmVhdGVNb2RhbChPZmZlci5Vc2VyX290aGVyX2l0ZW1zLE9mZmVyLlVzZXJfb2ZmZXJfaXRlbXMsZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RhbENyZWF0aW9uWzFdLm9uY2xpY2sgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tDbGljayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kYWxDcmVhdGlvblsyXS5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tDbGljayA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsQ3JlYXRpb25bM10uaWQgPSBcIm1vZGFsX2Zvb3Rlcl9cIitldmVudC50YXJnZXQuaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsQ3JlYXRpb25bMF0uaWQgPSBcIm1vZGFsX1wiK2V2ZW50LnRhcmdldC5pZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb2xsZWN0aW9uT2ZNb2RhbHNcIikuYXBwZW5kQ2hpbGQobW9kYWxDcmVhdGlvblswXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjbW9kYWxfXCIrZXZlbnQudGFyZ2V0LmlkKS5tb2RhbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiI21vZGFsX1wiICsgZXZlbnQudGFyZ2V0LmlkKS5vbihcImhpZGRlbi5icy5tb2RhbFwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWQgPSBlLmN1cnJlbnRUYXJnZXQuaWQucmVwbGFjZShcIm1vZGFsX1wiLFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihjaGVja0NsaWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc29ja2V0LmVtaXQoJ2NoYXQnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBcIk9mZmVyIEFjY2VwdGVkLiDwn5GNXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyOiBiYXJ0ZXJDb250cm9sbGVyLnVzZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGVjaWFsOiBcIk9EXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWc6IGJhcnRlckNvbnRyb2xsZXIudXNlclRhZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENoYXRTdmMuc2VuZE1lc3NhZ2UoYmFydGVyQ29udHJvbGxlci5vdGhlclVzZXIsIFwiT2ZmZXIgQWNjZXB0ZWQuIPCfkY1cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gXCIvIy9jcmVhdGVSZXNlcnZhdGlvbi1cIitpZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hlY2tDbGljayA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja0NsaWNrID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLm9mZmVyU3RhdHVzID0gXCJERUNMSU5FRFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLm9mZmVySWQgPSBpZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9mZmVyU3ZjLnNldFJlc2VydmF0aW9uKG9iailcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHN0dWZmKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibW9kYWxfZm9vdGVyX1wiICsgaWQpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc29ja2V0LmVtaXQoJ2NoYXQnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IFwiT2ZmZXIgZGVjbGluZWQuIPCfkY5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcjogYmFydGVyQ29udHJvbGxlci51c2VyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGVjaWFsOiBcIk9EXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhZzogYmFydGVyQ29udHJvbGxlci51c2VyVGFnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENoYXRTdmMuc2VuZE1lc3NhZ2UoYmFydGVyQ29udHJvbGxlci5vdGhlclVzZXIsIFwiT2ZmZXIgZGVjbGluZWQuIPCfkY5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IC8vIGVuZCBvZiBlbHNlLlxuICAgICAgICAgICAgICAgICAgICAgICAgfSAvLyBlbmQgb2YgaWYuXG4gICAgICAgICAgICAgICAgICAgIH0gLy8gZW5kIG9mIGVsc2VcbiAgICAgICAgICAgICAgICB9KTsgLy8gZW5kIG9mIHRoZW4uXG4gICAgICAgICAgfS8vIGVuZCBvZiBlbHNlXG4gICAgICB9XG4gIH1cblxuICAkc2NvcGUucmVkaXJlY3QgPSBmYWxzZTtcbiAgZnVuY3Rpb24gaGFzSXRlbXMoYXJyLCBtYXApIHtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgaWYoIW1hcFthcnJbaV1dKXtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbn0pOyAvLyBFbmQgb2YgQ29udHJvbGxlclxuIiwiYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcIkhvbWVDdHJsXCIsIGZ1bmN0aW9uKCRzY29wZSwkcm9vdFNjb3BlLFVzZXJTdmMsR2VvU3ZjLFRyYWRpbmdJdGVtU3ZjKXtcblxuICAgICRzY29wZS5Vc2VyQ2l0eSA9IFwiXCI7XG4gICAgJHNjb3BlLkNpdHlJdGVtcyA9IFtdO1xuICAgICRzY29wZS5BbGxJdGVtcyA9IFtdO1xuICAgICRzY29wZS5Ib21lQ3RybFJlZGlyZWN0ID0gZmFsc2U7XG4gICAgdmFyIGhvbWVfY2l0eURvbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2l0eURpdlwiKSxcbiAgICBob21lX2FsbEl0ZW1Eb20gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFsbEl0ZW1EaXZcIilcblxuICAgIHZhciBzdHIgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInVzci1sb2NcIik7XG4gICAgdmFyIHVzcl9sb2Nfb2JqID0gSlNPTi5wYXJzZShzdHIpO1xuXG4gICAgJHNjb3BlLkdldExvY2F0aW9uID0gZnVuY3Rpb24oKXtcbiAgICAgICAgZ2V0TG9jYXRpb24oKTtcbiAgICB9XG5cbiAgICAvLyBjb25kaXRpb24gdG8gY2hlY2sgaWYgdGhlcmUgaXMgYSBjdXJyZW50IGdlbyBsb2NhdG9yLlxuICAgIC8vIHdpbGwgY2FsbCBmdW5jdGlvbi4gSWYgbm90LiBXaWxsIGdyYWIgdHJhZGluZyBkYXRhIGZvcm0gZGF0YWJhc2UuXG4gICAgaWYgKHVzcl9sb2Nfb2JqID09PSBudWxsIHx8IHVzcl9sb2Nfb2JqLnN0YXR1cyA9PT0gXCJFUlJPUlwiKSB7XG4gICAgICAgIGdldExvY2F0aW9uKCk7XG4gICAgICAgIGdldEl0ZW1zQnlDaXR5U3RhdGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAkc2NvcGUuVXNlckdlbyA9IHVzcl9sb2Nfb2JqO1xuICAgICAgICBnZXRJdGVtc0J5Q2l0eVN0YXRlKCk7XG4gICAgfVxuXG5cblxuICAgIGZ1bmN0aW9uIGdldEl0ZW1zQnlDaXR5U3RhdGUoKXtcbiAgICAgICAgVXNlclN2Yy5oYXNTZXNzaW9uKClcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGhhc1Nlc3Npb24pe1xuICAgICAgICAgICAgICAgIGlmKGhhc1Nlc3Npb24pe1xuICAgICAgICAgICAgICAgICAgICBVc2VyU3ZjLnJldHVyblNlc3Npb25Vc2VyTmFtZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihTZXNzaW9uTmFtZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVHJhZGluZ0l0ZW1TdmMuZ2V0SXRlbUZyb21DaXR5U3RhdGVBdm9pZFVzZXIodXNyX2xvY19vYmosU2Vzc2lvbk5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKEl0ZW1zKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaXR5U3RhdGUgPSB1c3JfbG9jX29iai5jaXR5K1wiLCBcIit1c3JfbG9jX29iai5zdGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VTbGlkZXJIdG1sKGNvbWJpbmVOZXN0ZWRBcnJheXMoSXRlbXMpLHVzcl9sb2Nfb2JqLmNpdHksY2l0eVN0YXRlLHRydWUsaG9tZV9jaXR5RG9tLCRzY29wZS5DaXR5SXRlbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUcmFkaW5nSXRlbVN2Yy5nZXRBbGxJdGVtc0J1dChTZXNzaW9uTmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oQWxsSXRlbXMpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coQWxsSXRlbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFrZVNsaWRlckh0bWwoQWxsSXRlbXMsXCJBbGwgSXRlbXNcIixcIkFsbCBJdGVtc1wiLGZhbHNlLGhvbWVfYWxsSXRlbURvbSwkc2NvcGUuQWxsSXRlbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgVHJhZGluZ0l0ZW1TdmMuZ2V0SXRlbUZyb21DaXR5U3RhdGUodXNyX2xvY19vYmopXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoSXRlbXMpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaXR5U3RhdGUgPSB1c3JfbG9jX29iai5jaXR5K1wiLCBcIit1c3JfbG9jX29iai5zdGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWtlU2xpZGVySHRtbChjb21iaW5lTmVzdGVkQXJyYXlzKEl0ZW1zKSx1c3JfbG9jX29iai5jaXR5LGNpdHlTdGF0ZSx0cnVlLGhvbWVfY2l0eURvbSwkc2NvcGUuQ2l0eUl0ZW1zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBUcmFkaW5nSXRlbVN2Yy5nZXRBbGxJdGVtcygpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihBbGxJdGVtcyl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFrZVNsaWRlckh0bWwoQWxsSXRlbXMsXCJBbGwgSXRlbXNcIixcIkFsbCBJdGVtc1wiLGZhbHNlLGhvbWVfYWxsSXRlbURvbSwkc2NvcGUuQWxsSXRlbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gY29tYmluZU5lc3RlZEFycmF5cyhJbnB1dCl7XG4gICAgICAgIHZhciBhcnJheSA9IFtdO1xuICAgICAgICBmb3IoeCBpbiBJbnB1dCl7XG4gICAgICAgICAgICBmb3IoeSBpbiBJbnB1dFt4XSl7XG4gICAgICAgICAgICAgICAgYXJyYXkucHVzaChJbnB1dFt4XVt5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8vIEEgZnVuY3Rpb24gdGhhdCBnZXRzIHRoZSBjdXJyZW50IGdlb2xvY2FpdG9uLiBJZiBub3QuIFdpbGwgcmV0dXJuIGVycm9yLlxuICAgIGZ1bmN0aW9uIGdldExvY2F0aW9uKCkge1xuICAgICAgICBpZiAobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSB7XG4gICAgICAgICAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKHNob3dQb3NpdGlvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkc2NvcGUuVXNlckNpdHkgPSBcIkdlb2xvY2F0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBicm93c2VyLlwiO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gZnVuY3Rpb24gdGhhdCBnZXRzIHByb2NjZXNzZWQgYWZ0ZXIgZ2VvbG9jYXRpb24gaXMgY2FwdHVyZWQuXG4gICAgLy8gd2lsbCBzZXQgaXQgdG8gbG9jYWwgc3RvcmFnZS5cbiAgICBmdW5jdGlvbiBzaG93UG9zaXRpb24ocG9zaXRpb24pIHtcbiAgICAgICAgR2VvU3ZjLmdldENpdHlTdGF0ZShwb3NpdGlvbilcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT0gXCJFUlJPUlwiICkge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuVXNlckdlbyA9IG51bGw7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlVzZXJHZW8gPSByZXNwb25zZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHVzcl9sb2Nfc3RyaW5nID0gSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidXNyLWxvY1wiLHVzcl9sb2Nfc3RyaW5nKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1ha2VTbGlkZXJIdG1sKGFycmF5LHNldENvZGUsY2l0eVN0YXRlLENpdHksRG9tLHNjb3BlQXJyYXkpe1xuICAgICAgICB2YXIgSXRlbVRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgSXRlbVRpdGxlLmNsYXNzTmFtZSA9IFwiSG9tZV9UaXRsZVwiO1xuICAgICAgICBpZihDaXR5KXtcbiAgICAgICAgICAgIEl0ZW1UaXRsZS5pbm5lckhUTUwgPSBcIk5lYXJ5IGJ5IFRyYWRlcyBhdCBDaXR5IFwiICsgY2l0eVN0YXRlICtcIjxociAvPlwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgSXRlbVRpdGxlLmlubmVySFRNTCA9IGNpdHlTdGF0ZSArXCI8aHIgLz5cIjtcbiAgICAgICAgfVxuXG4gICAgICAgIERvbS5hcHBlbmRDaGlsZChJdGVtVGl0bGUpO1xuICAgICAgICB2YXIgbmV3U2V0Q29kZSA9IHNldENvZGUucmVwbGFjZSgvXFxzKy9nLCAnXycpO1xuICBcdFx0dmFyIHNlY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VjdGlvblwiKVxuXHRcdHNlY3Rpb24uaWQgPSBcIml0ZW1WaWV3LVwiK25ld1NldENvZGU7XG4gIFx0XHRzZWN0aW9uLmNsYXNzID0gXCJyZWd1bGFyIHNsaWRlclwiO1xuXHRcdC8vIGxvb3BzIHRocm91Z2ggY2FyZHMgYW5kIGNyZWF0ZSBkaXYgYW5kIGltYWdlc1xuICBcdFx0Zm9yKHggaW4gYXJyYXkpe1xuICAgICAgICAgICAgc2NvcGVBcnJheS5wdXNoKGFycmF5W3hdKTtcbiAgICAgICAgICAgIHZhciBkaXZUZW1wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxcbiAgICAgICAgICAgIGltZ1RlbXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpLFxuICAgICAgICAgICAgaW1nVGVtcE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICAgICAgICAgIGltZ1RlbXAuc3JjID0gYXJyYXlbeF0uaW1hZ2UucGF0aDIwMDtcbiAgICAgICAgICAgIGltZ1RlbXAuaWQgPSBcIml0ZW0tXCIrYXJyYXlbeF0uX2lkO1xuICAgICAgICAgICAgaW1nVGVtcC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXRvZ2dsZVwiLFwibW9kYWxcIik7XG4gICAgICAgICAgICBpbWdUZW1wLnNldEF0dHJpYnV0ZShcImRhdGEtdGFyZ2V0XCIsXCIjbW9kYWxfXCIrYXJyYXlbeF0uX2lkKTtcbiAgICAgICAgICAgIGltZ1RlbXBOYW1lLmlubmVySFRNTCA9IGFycmF5W3hdLm5hbWU7XG4gICAgICAgICAgICBkaXZUZW1wLmFwcGVuZENoaWxkKGltZ1RlbXApO1xuICAgICAgICAgICAgZGl2VGVtcC5hcHBlbmRDaGlsZChpbWdUZW1wTmFtZSk7XG4gICAgICAgICAgICBzZWN0aW9uLmFwcGVuZENoaWxkKGRpdlRlbXApO1xuICBcdFx0fVxuICBcdFx0Ly8gYWRkcyB0byBjb2xsZWN0aW9uIG9mIHNsaWRlciBkaXZcbiAgXHRcdHZhciBzbGlkZXJDb2xsZWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgc2xpZGVyQ29sbGVjdGlvbi5pZCA9IFwiaG9tZV9uZWFyX2J5X1wiICsgbmV3U2V0Q29kZTtcbiAgXHRcdHNsaWRlckNvbGxlY3Rpb24uYXBwZW5kQ2hpbGQoc2VjdGlvbik7XG4gICAgICAgIERvbS5hcHBlbmRDaGlsZChzbGlkZXJDb2xsZWN0aW9uKTtcblx0XHQvLyBpbml0aWFsaXplIHRoZSBzbGlkZXJcbiAgXHRcdCQoXCIjaXRlbVZpZXctXCIrbmV3U2V0Q29kZSkuc2xpY2soeyBhcnJvd3M6dHJ1ZSwgZG90czogdHJ1ZSwgaW5maW5pdGU6IHRydWUsIHNsaWRlc1RvU2hvdzogMywgc2xpZGVzVG9TY3JvbGw6IDMgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0TGlzdGVuZXJzKGFycmF5KXtcbiAgICAgICAgZm9yKHggaW4gYXJyYXkpe1xuICAgICAgICAgICAgdmFyIGEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFfXCIrYXJyYXlbeF0uX2lkKTtcbiAgICAgICAgICAgIGEub25jbGljayA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgJHNjb3BlLkhvbWVDdHJsUmVkaXJlY3QgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJChcIiNtb2RhbF9cIiArIGFycmF5W3hdLl9pZCkub24oXCJoaWRkZW4uYnMubW9kYWxcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIHZhciB1c2VyID0gYXJyYXlbeF0udXNlclxuICAgICAgICAgICAgICAgIGlmKCRzY29wZS5Ib21lQ3RybFJlZGlyZWN0ID09IHRydWUpe1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24gPSBcIi8jL2JhcnRlci11c2VyLVwiK3VzZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAkc2NvcGUuU2VhcmNoQmFyID0gXCJcIlxuXG4gICAgJHNjb3BlLlNlYXJjaEl0ZW1zID0gZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIHNlYXJjaCA9ICRzY29wZS5TZWFyY2hCYXJcbiAgICAgICAgVHJhZGluZ0l0ZW1TdmMuZ2V0U2VhcmNoSXRlbShzZWFyY2gpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoSXRlbXMpe1xuICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJIb21lX1RhcmdldFNlYXJjaERpdlwiKTtcbiAgICAgICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQodGVtcCk7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnRlbXAgPSBbXVxuICAgICAgICAgICAgICAgIG1ha2VTbGlkZXJIdG1sKEl0ZW1zLHNlYXJjaCxcIkFsbCBJdGVtcyBvZiBrZXl3b3JkOiBcIitzZWFyY2gsZmFsc2UsdGVtcCwkc2NvcGUudGVtcCk7XG4gICAgICAgICAgICB9KVxuICAgIH1cblxuICAgIC8vJChcIiNjYXJkVmlld1NsaWRlci1cIitzZXRDb2RlKS5zbGljayh7IGFycm93czpmYWxzZSwgZG90czogdHJ1ZSwgaW5maW5pdGU6IHRydWUsIHNsaWRlc1RvU2hvdzogNiwgc2xpZGVzVG9TY3JvbGw6IDYgfSk7XG4gICAgJHNjb3BlLiRvbignQ2l0eUl0ZW1zRG9uZScsIGZ1bmN0aW9uKG5nUmVwZWF0RmluaXNoZWRFdmVudCkge1xuICAgICAgICBzZXRMaXN0ZW5lcnMoJHNjb3BlLkNpdHlJdGVtcylcbiAgICB9KTtcblxuICAgICRzY29wZS4kb24oXCJhbGxJdGVtc0RvbmVcIixmdW5jdGlvbihuZ1JlcGVhdEZpbmlzaGVkRXZlbnQpIHtcbiAgICAgICAgc2V0TGlzdGVuZXJzKCRzY29wZS5BbGxJdGVtcylcbiAgICB9KTtcblxufSk7XG5cblxuYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuZGlyZWN0aXZlKCdvbkZpbmlzaFJlbmRlcicsIGZ1bmN0aW9uICgkdGltZW91dCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgICAgICAgaWYgKHNjb3BlLiRsYXN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBzY29wZS4kZW1pdChhdHRyLm9uRmluaXNoUmVuZGVyKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpLmNvbnRyb2xsZXIoJ0xvZ2luQ3RybCcsZnVuY3Rpb24oJHNjb3BlLCRsb2NhdGlvbixVc2VyU3ZjKXtcblxuICAgIGZ1bmN0aW9uIGhhbmRsZUh0bWxFcnJvcigpe1xuICAgICAgICAkc2NvcGUuc2hvd1ZpZXcgPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIGZ1bmN0aW9uIHRvIGxvZyBpbiB1c2VyXG4gICAgJHNjb3BlLmxvZ2luID0gZnVuY3Rpb24gKHVzZXJuYW1lLCBwYXNzd29yZCkge1xuICAgICAgICBVc2VyU3ZjLmxvZ2luKHVzZXJuYW1lLCBwYXNzd29yZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGlmKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKVxuICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGVIdG1sRXJyb3IoKTtcbiAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKFwiL1wiKVxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG59KTtcbiIsImFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJNeUl0ZW1zQ3RybFwiLGZ1bmN0aW9uKCRzY29wZSxVc2VyU3ZjLFRyYWRpbmdJdGVtU3ZjKXtcblxuICAgIFVzZXJTdmMuZ2V0VXNlckFjY291bnRJbmZvKClcbiAgICAgICAgLnRoZW4oIGZ1bmN0aW9uKFVzZXJPYmplY3QpIHtcbiAgICAgICAgICAgICRzY29wZS5Vc2VycyA9IFVzZXJPYmplY3Q7XG4gICAgICAgICAgICBUcmFkaW5nSXRlbVN2Yy5nZXRBbGxVc2VyVHJhZGluZ0l0ZW1zKFVzZXJPYmplY3QudXNlcm5hbWUpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKFRyYWRpbmdPYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yKHggaW4gVHJhZGluZ09iamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFRyYWRpbmdPYmplY3RbeF0uZGVzY3JpcHRpb24ubGVuZ3RoPjU1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVHJhZGluZ09iamVjdFt4XS5kZXNjcmlwdGlvbiA9IFRyYWRpbmdPYmplY3RbeF0uZGVzY3JpcHRpb24uc3Vic3RyaW5nKDAsIDU1KSArIFwiLi4uXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRyYWRpbmdPYmplY3RbeF0uZGVzY3JpcHRpb24gPSBGaWxsU3RyaW5nKFRyYWRpbmdPYmplY3RbeF0uZGVzY3JpcHRpb24sNTUtVHJhZGluZ09iamVjdFt4XS5kZXNjcmlwdGlvbi5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5Vc2VySXRlbXMgPSBUcmFkaW5nT2JqZWN0O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuXG4gICAgZnVuY3Rpb24gRmlsbFN0cmluZyhzdHJpbmcsbnVtYmVyT2YpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1iZXJPZjsgaSsrKSB7XG4gICAgICAgICAgICBzdHJpbmcgKz0gXCJcXHhhMFwiXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICB9XG5cbn0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpLmNvbnRyb2xsZXIoJ1BlbmRpbmdUcmFkZXNDdHJsJyxmdW5jdGlvbigkc2NvcGUsJGxvY2F0aW9uLFVzZXJTdmMsT2ZmZXJTdmMsIFRyYWRpbmdJdGVtU3ZjKXtcbiAgICAvLyBjb250cm9sbGVyIGZvciBwZW5kaW5nIHRyYWRlc1xuICAgIHZhciBwZW5kaW5nVHJhZGVzID0ge31cbiAgICBwZW5kaW5nVHJhZGVzLkl0ZW1NYXAgPSB7fTtcbiAgICBwZW5kaW5nVHJhZGVzLnVzZXIgPSBcIlwiO1xuICAgIHBlbmRpbmdUcmFkZXMuT2ZmZXJzID0gW107XG4gICAgcGVuZGluZ1RyYWRlcy5Vc2VyTWFwID0ge307XG4gICAgcGVuZGluZ1RyYWRlcy51c2VySW1nID0gXCJcIjtcbiAgICBVc2VyU3ZjLmdldFVzZXJBY2NvdW50SW5mbygpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uICh1c2VyKXtcbiAgICAgICAgICAgIHBlbmRpbmdUcmFkZXMudXNlciA9IHVzZXI7XG4gICAgICAgICAgICBwZW5kaW5nVHJhZGVzLnVzZXJJbWcgPSB1c2VyLnVzZXJfaW1hZ2UucGF0aDIwMDtcbiAgICAgICAgICAgIC8vIEdldHRpbmcgYWxsIGltYWdlcyBpbnRvIGEgbWFwLlxuICAgICAgICAgICAgT2ZmZXJTdmMuR2V0UGVuZGluZ09mZmVycyh1c2VyLnVzZXJuYW1lKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChPZmZlcnMpe1xuICAgICAgICAgICAgICAgICAgICBwZW5kaW5nVHJhZGVzLk9mZmVycyA9IE9mZmVycztcbiAgICAgICAgICAgICAgICAgICAgZm9yKHggaW4gT2ZmZXJzKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcih5IGluIE9mZmVyc1t4XS5Vc2VyX290aGVyX2l0ZW1zKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWQgPSBPZmZlcnNbeF0uVXNlcl9vdGhlcl9pdGVtc1t5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZW5kaW5nVHJhZGVzLkl0ZW1NYXBbaWRdID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcih6IGluIE9mZmVyc1t4XS5Vc2VyX29mZmVyX2l0ZW1zKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWQgPSBPZmZlcnNbeF0uVXNlcl9vZmZlcl9pdGVtc1t6XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZW5kaW5nVHJhZGVzLkl0ZW1NYXBbaWRdID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGdldEltYWdlcyhwZW5kaW5nVHJhZGVzLkl0ZW1NYXApO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgIGZ1bmN0aW9uIGdldEltYWdlcyhNYXBPZklkcyl7XG4gICAgICAgIHZhciBjb3VudCA9IDA7XG4gICAgICAgIGZvcih4IGluIE1hcE9mSWRzKXtcbiAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGltYWdlQ291bnQgPSAwO1xuICAgICAgICBmb3IoeCBpbiBNYXBPZklkcyl7XG4gICAgICAgICAgICBUcmFkaW5nSXRlbVN2Yy5nZXRJdGVtQnlJZCh4KVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSl7XG4gICAgICAgICAgICAgICAgICAgIGltYWdlQ291bnQrKztcbiAgICAgICAgICAgICAgICAgICAgcGVuZGluZ1RyYWRlcy5JdGVtTWFwW3Jlc3BvbnNlLl9pZF0gPSByZXNwb25zZTtcbiAgICAgICAgICAgICAgICAgICAgaWYoaW1hZ2VDb3VudCA9PT0gY291bnQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0VXNlckltYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0VXNlckltYWdlKCl7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiVGhpcyBoaXRcIik7XG4gICAgICAgIHZhciBjb3VudCA9IDA7XG4gICAgICAgIGZvciAoeCBpbiBwZW5kaW5nVHJhZGVzLk9mZmVycyl7XG4gICAgICAgICAgICBpZihwZW5kaW5nVHJhZGVzLk9mZmVyc1t4XS5Vc2VyX29mZmVyX3VzZXJuYW1lID09PSBwZW5kaW5nVHJhZGVzLnVzZXIudXNlcm5hbWUpIHtcbiAgICAgICAgICAgICAgICBVc2VyU3ZjLmdldFVzZXJPcGVuSW5mbyhwZW5kaW5nVHJhZGVzLk9mZmVyc1t4XS5Vc2VyX290aGVyX3VzZXJuYW1lKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAodXNlcil7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudCArKztcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlbmRpbmdUcmFkZXMuVXNlck1hcFt1c2VyLnVzZXJuYW1lXSA9IHVzZXIudXNlcl9pbWFnZS5wYXRoMjAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYocGVuZGluZ1RyYWRlcy5PZmZlcnMubGVuZ3RoID09PSBjb3VudCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VXNlckltYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBVc2VyU3ZjLmdldFVzZXJPcGVuSW5mbyhwZW5kaW5nVHJhZGVzLk9mZmVyc1t4XS5Vc2VyX29mZmVyX3VzZXJuYW1lKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAodXNlcil7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudCArKztcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlbmRpbmdUcmFkZXMuVXNlck1hcFt1c2VyLnVzZXJuYW1lXSA9IHVzZXIudXNlcl9pbWFnZS5wYXRoMjAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYocGVuZGluZ1RyYWRlcy5PZmZlcnMubGVuZ3RoID09PSBjb3VudCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VXNlckltYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0VXNlckltYWdlKCl7XG4gICAgICAgIGZvcih4IGluIHBlbmRpbmdUcmFkZXMuT2ZmZXJzKXtcbiAgICAgICAgICAgIGlmKHBlbmRpbmdUcmFkZXMuT2ZmZXJzW3hdLlVzZXJfb2ZmZXJfdXNlcm5hbWUgPT09IHBlbmRpbmdUcmFkZXMudXNlci51c2VybmFtZSkge1xuICAgICAgICAgICAgICAgIHBlbmRpbmdUcmFkZXMuT2ZmZXJzW3hdLm90aGVyUGF0aCA9IHBlbmRpbmdUcmFkZXMuVXNlck1hcFtwZW5kaW5nVHJhZGVzLk9mZmVyc1t4XS5Vc2VyX290aGVyX3VzZXJuYW1lXTtcbiAgICAgICAgICAgICAgICBwZW5kaW5nVHJhZGVzLk9mZmVyc1t4XS5vdGhlclVzZXIgPSBwZW5kaW5nVHJhZGVzLk9mZmVyc1t4XS5Vc2VyX290aGVyX3VzZXJuYW1lO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZW5kaW5nVHJhZGVzLk9mZmVyc1t4XS5vdGhlclBhdGggPSBwZW5kaW5nVHJhZGVzLlVzZXJNYXBbcGVuZGluZ1RyYWRlcy5PZmZlcnNbeF0uVXNlcl9vZmZlcl91c2VybmFtZV07XG4gICAgICAgICAgICAgICAgcGVuZGluZ1RyYWRlcy5PZmZlcnNbeF0ub3RoZXJVc2VyID0gcGVuZGluZ1RyYWRlcy5PZmZlcnNbeF0uVXNlcl9vZmZlcl91c2VybmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBqb2luVGhlbSgpO1xuICAgICAgICAkc2NvcGUuVXNlciA9IHBlbmRpbmdUcmFkZXMudXNlclxuICAgICAgICAkc2NvcGUuT2ZmZXJzID0gcGVuZGluZ1RyYWRlcy5PZmZlcnM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gam9pblRoZW0oKSB7XG4gICAgICAgIGZvcih4IGluIHBlbmRpbmdUcmFkZXMuT2ZmZXJzKXtcbiAgICAgICAgICAgIHZhciBvYmogPSBwZW5kaW5nVHJhZGVzLk9mZmVyc1t4XTtcbiAgICAgICAgICAgIHZhciBpZFRlbXAgPSBvYmouVHJhbnNhY3Rpb25QZW5kaW5nLl9pZDtcbiAgICAgICAgICAgIHZhciB0ZW1wID0gY3JlYXRlTW9kYWwocGVuZGluZ1RyYWRlcy5PZmZlcnNbeF0pO1xuICAgICAgICAgICAgdGVtcFswXS5pZCA9IFwibW9kYWxfXCIgKyBpZFRlbXA7XG4gICAgICAgICAgICB2YXIgaXRDbGlrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRlbXBbMV0ub25jbGljayA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgaXRDbGlrZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhcHBlbmRNb2RhbHNcIikuYXBwZW5kQ2hpbGQodGVtcFswXSk7XG4gICAgICAgICAgICAkKFwiI21vZGFsX1wiICsgaWRUZW1wKS5vbihcImhpZGRlbi5icy5tb2RhbFwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgaWYoaXRDbGlrZWQpe1xuICAgICAgICAgICAgICAgICAgICB2YXIgaWQgPSBlLmN1cnJlbnRUYXJnZXQuaWQucmVwbGFjZShcIm1vZGFsX1wiLFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICBpdENsaWtlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24gPSBcIi8jL3BlbmRpbmdUcmFkZXMtZGV0YWlscy1cIitpZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZU1vZGFsIChQZW5kaW5nVHJhZGVPYmopIHtcblxuICAgICAgICAvL1VzZXJBcnJheSxPdGhlckFycmF5XG4gICAgICAgIHZhciB1c2VyID0gUGVuZGluZ1RyYWRlT2JqLlVzZXJfb2ZmZXJfdXNlcm5hbWUsXG4gICAgICAgIG90aGVyVXNlciA9IFBlbmRpbmdUcmFkZU9iai5Vc2VyX290aGVyX3VzZXJuYW1lO1xuICAgICAgICB2YXIgVXNlckFycmF5ID0gUGVuZGluZ1RyYWRlT2JqLlVzZXJfb3RoZXJfaXRlbXM7XG4gICAgICAgIHZhciBPdGhlckFycmF5ID0gUGVuZGluZ1RyYWRlT2JqLlVzZXJfb2ZmZXJfaXRlbXM7XG5cbiAgICAgICAgdmFyIG1vZGFsRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxcbiAgICAgICAgbW9kYWxEaWFsb2cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuICAgICAgICBtb2RhbENvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuICAgICAgICBtb2RhbEhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXG4gICAgICAgIG1vZGFsQm9keSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXG4gICAgICAgIG1vZGFsRm9vdGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblxuICAgICAgICBtb2RhbERpdi5jbGFzc05hbWUgPSBcIm1vZGFsIGZhZGVcIjtcbiAgICAgICAgbW9kYWxEaWFsb2cuY2xhc3NOYW1lID0gXCJtb2RhbC1kaWFsb2dcIjtcbiAgICAgICAgbW9kYWxDb250ZW50LmNsYXNzTmFtZSA9IFwibW9kYWwtY29udGVudFwiO1xuICAgICAgICBtb2RhbEhlYWRlci5jbGFzc05hbWUgPSBcIm1vZGFsLWhlYWRlclwiO1xuICAgICAgICBtb2RhbEJvZHkuY2xhc3NOYW1lID0gXCJtb2RhbC1ib2R5XCI7XG4gICAgICAgIG1vZGFsRm9vdGVyLmNsYXNzTmFtZSA9IFwibW9kYWwtZm9vdGVyXCI7XG5cblxuICAgICAgICB2YXIgaGVhZGVyU3RyaW5nID0gdXNlciArIFwiJ3MgVHJhZGRpbmcgT2ZmZXIgVG8gXCIgKyBvdGhlclVzZXI7XG5cbiAgICAgICAgdmFyIGgyX3RpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgyXCIpO1xuICAgICAgICBoMl90aXRsZS5pbm5lckhUTUwgPSBoZWFkZXJTdHJpbmc7XG4gICAgICAgIG1vZGFsSGVhZGVyLmFwcGVuZENoaWxkKGgyX3RpdGxlKTtcblxuICAgICAgICB2YXIgZGl2Um93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZGl2Um93LmNsYXNzTmFtZSA9IFwicm93XCI7XG4gICAgICAgIG1vZGFsQm9keS5hcHBlbmRDaGlsZChkaXZSb3cpO1xuICAgICAgICB2YXIgZGl2Qm9keTEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuICAgICAgICBkaXZCb2R5MiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXG4gICAgICAgIGRpdkJvZHkzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblxuICAgICAgICBkaXZCb2R5MS5jbGFzc05hbWUgPSBcImNvbC1tZC01XCI7XG4gICAgICAgIGRpdkJvZHkyLmNsYXNzTmFtZSA9IFwiY29sLW1kLTJcIjtcbiAgICAgICAgZGl2Qm9keTMuY2xhc3NOYW1lID0gXCJjb2wtbWQtNVwiO1xuXG4gICAgICAgIHZhciBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgICAgICBpbWcuc3JjID0gXCJpbWFnZXMvdHJhZGUucG5nXCI7XG4gICAgICAgIGltZy5zdHlsZS53aWR0aCA9IFwiNTBweFwiO1xuICAgICAgICBpbWcuc3R5bGUuaGVpZ2h0ID0gXCI1MHB4XCI7XG5cbiAgICAgICAgdmFyIG1vZGFsRGl2Rm9vdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHZhciBhX3llcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuICAgICAgICBhX3llcy5jbGFzc05hbWUgPSBcImJ0biBidG4tZGVmYXVsdFwiO1xuICAgICAgICBhX3llcy5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJidXR0b25cIik7XG4gICAgICAgIGFfeWVzLmlubmVySFRNTCA9IFwiVmlldyBMb2NhdGlvbiBhbmQgVGltZSBEZXRhaWxzXCI7XG4gICAgICAgIGFfeWVzLnNldEF0dHJpYnV0ZShcImRhdGEtZGlzbWlzc1wiLFwibW9kYWxcIik7XG4gICAgICAgIG1vZGFsRGl2Rm9vdC5hcHBlbmRDaGlsZChhX3llcyk7XG4gICAgICAgIG1vZGFsRm9vdGVyLmFwcGVuZENoaWxkKG1vZGFsRGl2Rm9vdCk7XG5cbiAgICAgICAgY3JlYXRlSW1hZ2VJdGVtKFVzZXJBcnJheSxwZW5kaW5nVHJhZGVzLkl0ZW1NYXAsZGl2Qm9keTEpO1xuICAgICAgICBjcmVhdGVJbWFnZUl0ZW0oT3RoZXJBcnJheSxwZW5kaW5nVHJhZGVzLkl0ZW1NYXAsZGl2Qm9keTMpO1xuICAgICAgICBkaXZCb2R5Mi5hcHBlbmRDaGlsZChpbWcpO1xuICAgICAgICBkaXZSb3cuYXBwZW5kQ2hpbGQoZGl2Qm9keTEpO1xuICAgICAgICBkaXZSb3cuYXBwZW5kQ2hpbGQoZGl2Qm9keTIpO1xuICAgICAgICBkaXZSb3cuYXBwZW5kQ2hpbGQoZGl2Qm9keTMpO1xuXG4gICAgICAgIG1vZGFsQ29udGVudC5hcHBlbmRDaGlsZChtb2RhbEhlYWRlcik7XG4gICAgICAgIG1vZGFsQ29udGVudC5hcHBlbmRDaGlsZChtb2RhbEJvZHkpO1xuICAgICAgICBtb2RhbENvbnRlbnQuYXBwZW5kQ2hpbGQobW9kYWxGb290ZXIpO1xuICAgICAgICBtb2RhbERpYWxvZy5hcHBlbmRDaGlsZChtb2RhbENvbnRlbnQpO1xuICAgICAgICBtb2RhbERpdi5hcHBlbmRDaGlsZChtb2RhbERpYWxvZyk7XG5cbiAgICAgICAgcmV0dXJuIFttb2RhbERpdixhX3llc107XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlSW1hZ2VJdGVtIChpdGVtcyxpdGVtTWFwLGRpdikge1xuICAgICAgICBmb3IgKHggaW4gaXRlbXMpIHtcbiAgICAgICAgICAgIHZhciBuZXdJbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgICAgICAgICAgbmV3SW1nLnNyYyA9IGl0ZW1NYXBbaXRlbXNbeF1dLmltYWdlLnBhdGgyMDA7XG4gICAgICAgICAgICBuZXdJbWcuc3R5bGUud2lkdGggPSBcIjEwMHB4XCI7XG4gICAgICAgICAgICBuZXdJbWcuc3R5bGUuaGVpZ2h0ID0gXCIxMjBweFwiO1xuICAgICAgICAgICAgbmV3SW1nLnRpdGxlID0gaXRlbU1hcFtpdGVtc1t4XV0ubmFtZTtcbiAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZChuZXdJbWcpO1xuICAgICAgICB9XG4gICAgfVxuXG59KTsgLy8gZW5kIG9mIGNvbnRyb2xsZXJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKS5jb250cm9sbGVyKCdQZW5kaW5nVHJhZGVzRGV0YWlsc0N0cmwnLGZ1bmN0aW9uKCRzY29wZSwkcm91dGVQYXJhbXMsIFVzZXJTdmMsIE9mZmVyU3ZjLCBSZXNlcnZhdGlvblN2YywgVHJhZGluZ0l0ZW1TdmMpe1xuICAgICRzY29wZS5Vc2VyID0ge307XG4gICAgJHNjb3BlLlVzZXJJbWFnZSA9IFtdO1xuICAgICRzY29wZS5PdGhlckltYWdlID0gW107XG4gICAgVXNlclN2Yy5nZXRVc2VyQWNjb3VudEluZm8oKVxuICAgICAgICAudGhlbihmdW5jdGlvbihVc2VyKXtcbiAgICAgICAgICAgICRzY29wZS5Vc2VyID0gVXNlcjtcbiAgICAgICAgICAgIFJlc2VydmF0aW9uU3ZjLmdldFJlc2VydmF0aW9uKCRyb3V0ZVBhcmFtcy5pZClcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzZXJ2YXRpb24pe1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuUmVzZXJ2YXRpb24gPSByZXNlcnZhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgJChcIiNhcmVhcGlja2VyXCIpLmxvY2F0aW9ucGlja2VyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiByZXNlcnZhdGlvbi5sb2NhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhZGl1czogMjAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgem9vbTogMTcsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVBdXRvY29tcGxldGU6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvZmZlcklkID0gcmVzZXJ2YXRpb24ub2ZmZXJJZDtcbiAgICAgICAgICAgICAgICAgICAgZ3JhYk9mZmVyKG9mZmVySWQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuXG4gICAgZnVuY3Rpb24gZ3JhYk9mZmVyKG9mZmVySWQpe1xuICAgICAgICBPZmZlclN2Yy5HZXRPbmVPZmZlckJ5SWQob2ZmZXJJZClcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChvZmZlcil7XG4gICAgICAgICAgICAgICAgcHJvY2Nlc3NPZmZlcihvZmZlcik7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcm9jY2Vzc09mZmVyKG9mZmVyKXtcbiAgICAgICAgaWYob2ZmZXIuVXNlcl9vZmZlcl91c2VybmFtZSA9PT0gJHNjb3BlLlVzZXIudXNlcm5hbWUpe1xuICAgICAgICAgICAgZm9yKHggaW4gb2ZmZXIuVXNlcl9vZmZlcl9pdGVtcyl7XG4gICAgICAgICAgICAgICAgVHJhZGluZ0l0ZW1TdmMuZ2V0SXRlbUJ5SWQob2ZmZXIuVXNlcl9vZmZlcl9pdGVtc1t4XSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oSXRlbSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuVXNlckltYWdlLnB1c2goSXRlbSk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHggaW4gb2ZmZXIuVXNlcl9vdGhlcl9pdGVtcykge1xuICAgICAgICAgICAgICAgIFRyYWRpbmdJdGVtU3ZjLmdldEl0ZW1CeUlkKG9mZmVyLlVzZXJfb2ZmZXJfaXRlbXNbeF0pXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKEl0ZW0pe1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk90aGVySW1hZ2UucHVzaChJdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvcih4IGluIG9mZmVyLlVzZXJfb3RoZXJfaXRlbXMpe1xuICAgICAgICAgICAgICAgIC8vb2ZmZXIuVXNlcl9vZmZlcl91c2VybmFtZVxuICAgICAgICAgICAgICAgIFRyYWRpbmdJdGVtU3ZjLmdldEl0ZW1CeUlkKG9mZmVyLlVzZXJfb3RoZXJfaXRlbXNbeF0pXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKEl0ZW0pe1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlVzZXJJbWFnZS5wdXNoKEl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKHggaW4gb2ZmZXIuVXNlcl9vdGhlcl9pdGVtcykge1xuICAgICAgICAgICAgICAgIFRyYWRpbmdJdGVtU3ZjLmdldEl0ZW1CeUlkKG9mZmVyLlVzZXJfb2ZmZXJfaXRlbXNbeF0pXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKEl0ZW0pe1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk90aGVySW1hZ2UucHVzaChJdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0pOyAvLyBlbmQgb2YgY29udHJvbGxlclxuIiwiYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcIlBvc3RJdGVtQ3RybFwiLGZ1bmN0aW9uKCRzY29wZSwkbG9jYXRpb24sVXNlclN2YyxUcmFkaW5nSXRlbVN2Yyl7XG5cbiAgICAkc2NvcGUuZ2V0VXNlciA9IFwiXCI7XG4gICAgJHNjb3BlLm5hbWVfb2ZfaXRlbSA9XCJcIjtcbiAgICAkc2NvcGUuZGVzY3JpcHRpb25fb2ZfaXRlbSA9XCJcIjtcblxuICAgIFVzZXJTdmMuZ2V0VXNlckFjY291bnRJbmZvKCkudGhlbihmdW5jdGlvbihVc2VyT2JqZWN0KXtcbiAgICAgICRzY29wZS5nZXRVc2VyID0gVXNlck9iamVjdC51c2VybmFtZTtcbiAgICAgICRzY29wZS5Vc2VySWQgPSBVc2VyT2JqZWN0Ll9pZDtcbiAgICB9KTtcblxuXG4gICAgJHNjb3BlLnN1Ym1pdFBvc3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlcnJvcnMgPSBmYWxzZTtcbiAgICAgICAgLy8gbWFrZXMgYnV0dG9uIGRpc2FibGVkLlxuICAgICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGE7XG4gICAgICAgIHZhciBmaWxlID0gJCgnI3Bvc3RfaXRlbV9pbWFnZScpWzBdLmZpbGVzWzBdO1xuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ltYWdlJyxmaWxlKTtcblxuICAgICAgICBpZiAoZmlsZSA9PSBudWxsKSB7XG4gICAgICAgICAgICBlcnJvcnMgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicG9zdF9pdGVtX2Vycm9yX2ltYWdlXCIpKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwb3N0X2l0ZW1fZXJyb3JfaW1hZ2VcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0cmFkaW5nT2JqZWN0ID0ge307XG4gICAgICAgIHRyYWRpbmdPYmplY3QubmFtZSA9ICRzY29wZS5uYW1lX29mX2l0ZW07XG4gICAgICAgIHRyYWRpbmdPYmplY3QuZGVzY3JpcHRpb24gPSAkc2NvcGUuZGVzY3JpcHRpb25fb2ZfaXRlbTtcbiAgICAgICAgdHJhZGluZ09iamVjdC51c2VyID0gJHNjb3BlLmdldFVzZXI7XG4gICAgICAgIHRyYWRpbmdPYmplY3QudXNlcl9pZCA9ICRzY29wZS5Vc2VySWQ7XG5cbiAgICAgICAgZm9yKHggaW4gdHJhZGluZ09iamVjdCkge1xuICAgICAgICAgICAgaWYodHJhZGluZ09iamVjdFt4XSA9PT0gbnVsbCB8fCB0cmFkaW5nT2JqZWN0W3hdID09PSB1bmRlZmluZWQgfHwgdHJhZGluZ09iamVjdFt4XS5sZW5ndGggPD0gMCl7XG4gICAgICAgICAgICAgICAgZGlzcGxheUVycm9yKHgpO1xuICAgICAgICAgICAgICAgIGVycm9ycyA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbW92ZUVycm9yKHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYoZXJyb3JzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicG9zdF9pdGVtX3N1Ym1pdFwiKSkge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicG9zdF9pdGVtX3N1Ym1pdFwiKS5zZXRBdHRyaWJ1dGVOb2RlKGRvY3VtZW50LmNyZWF0ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicG9zdF9pdGVtX2gzX3VwbG9hZGluZ1wiKSkge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicG9zdF9pdGVtX2gzX3VwbG9hZGluZ1wiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgVHJhZGluZ0l0ZW1TdmMuYWRkSXRlbSh0cmFkaW5nT2JqZWN0LGZvcm1EYXRhKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvcG9zdFN1Y2Nlc3NmdWxsLScrcmVzcG9uc2UuX2lkKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRpc3BsYXlFcnJvcihuYW1lT2YpIHtcbiAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicG9zdF9pdGVtX2Vycm9yX1wiK25hbWVPZikpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicG9zdF9pdGVtX2Vycm9yX1wiK25hbWVPZikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlbW92ZUVycm9yKG5hbWVPZikge1xuICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwb3N0X2l0ZW1fZXJyb3JfXCIrbmFtZU9mKSkge1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwb3N0X2l0ZW1fZXJyb3JfXCIrbmFtZU9mKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIH1cbiAgICB9XG5cbn0pO1xuIiwiYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcIlBvc3RJdGVtU3VjY2Vzc0N0cmxcIixmdW5jdGlvbigkc2NvcGUsJHJvdXRlUGFyYW1zLFRyYWRpbmdJdGVtU3ZjKXtcbiAgICAkc2NvcGUucG9zdEl0ZW1TdWNjZXNzID0ge31cbiAgICBUcmFkaW5nSXRlbVN2Yy5nZXRJdGVtQnlJZCgkcm91dGVQYXJhbXMuaWQpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgJHNjb3BlLnBvc3RJdGVtU3VjY2VzcyA9IHJlc3BvbnNlO1xuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xuICAgICAgICB9KTtcbn0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpLmNvbnRyb2xsZXIoJ1JlZ2lzdGVyQ3RybCcsZnVuY3Rpb24oJHNjb3BlLCRsb2NhdGlvbixVc2VyU3ZjKXtcblxuICAgIC8vIHJlZ2lzdGVyIHVzZXIgdGhhdCB0YWxrcyB0byBzZXJ2aWNlXG4gICAgJHNjb3BlLnJlZ2lzdGVyID0gZnVuY3Rpb24oZmlyc3RfbmFtZSxsYXN0X25hbWUsdXNlcm5hbWUscGFzc3dvcmQsZW1haWwsY2l0eSxzdGF0ZSl7XG4gICAgXHRVc2VyU3ZjLnJlZ2lzdGVyKGZpcnN0X25hbWUsbGFzdF9uYW1lLHVzZXJuYW1lLHBhc3N3b3JkLGVtYWlsLGNpdHksc3RhdGUpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ2xvZ2luJyx1c2VyKTtcbiAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCdyZWdpc3Rlci1zZXR1cCcpO1xuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICB9KTtcblxuICAgIH07XG5cbiAgICAkc2NvcGUuY2hlY2tVbmlxdWVVc2VyID0gZnVuY3Rpb24oKXtcbiAgICAgIGlmKCRzY29wZS5yZWdpc3Rlcl91c2VybmFtZS5sZW5ndGg+MCl7XG4gICAgXHQgICBVc2VyU3ZjLmNoZWNrX3VzZXJuYW1lKCRzY29wZS5yZWdpc3Rlcl91c2VybmFtZSkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgICAgICAgIHZhciBsYWJlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWdpc3Rlcl9Vc2VyQ2hlY2snKTtcbiAgICAgICAgICAgaWYoIXJlc3BvbnNlKVxuICAgICAgICAgICAgIGxhYmVsLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICBsYWJlbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgXHQgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAkc2NvcGUuY2hlY2tVbmlxdWVFbWFpbCA9IGZ1bmN0aW9uKCl7XG4gICAgXHRpZigkc2NvcGUucmVnaXN0ZXJfRW1haWxDaGVjay5sZW5ndGg+MCl7XG4gICAgICAgICAgICBVc2VyU3ZjLmNoZWNrX2VtYWlsKCRzY29wZS5yZWdpc3Rlcl9FbWFpbENoZWNrKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcbiAgICAgICAgICAgICAgdmFyIGxhYmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlZ2lzdGVyX0VtYWlsQ2hlY2snKTtcbiAgICAgICAgICAgICAgaWYoIXJlc3BvbnNlKVxuICAgICAgICAgICAgICAgIGxhYmVsLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBsYWJlbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgXHR9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAkc2NvcGUucmVnaXN0ZXJfdXNlcm5hbWUgPSBcIlwiO1xuICAgICRzY29wZS5yZWdpc3Rlcl9FbWFpbENoZWNrID0gXCJcIjtcbiAgICAkc2NvcGUuVW5pcXVlRW1haWwgPSB0cnVlO1xuICAgICRzY29wZS5VbmlxdWVVc2VyID0gdHJ1ZTtcbn0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpLmNvbnRyb2xsZXIoJ1JlZ2lzdGVyU2V0dXBDdHJsJyxmdW5jdGlvbigkc2NvcGUsVXNlclN2Yyl7XG5cbiAgdmFyIFJlZ2lzdGVyU2V0VXAgPSB7fTtcbiAgUmVnaXN0ZXJTZXRVcC51c2VybmFtZSA9IFwiXCJcbiAgUmVnaXN0ZXJTZXRVcC51c2VyID0ge307XG4gICRzY29wZS5yZWdpc3Rlcl9zZXR1cF91c2VySW1hZ2UgPSBcImltYWdlcy91c2Vycy9ibGFua191c2VyLnBuZ1wiO1xuXG4gIFVzZXJTdmMuZ2V0UmVnaXN0ZXJTZXNzaW9uKCk7XG5cbiAgLy8gZ2V0J3MgY3VycmVudCB1c2VyJ3MgbmFtZS5cbiAgVXNlclN2Yy5nZXRVc2VyQWNjb3VudEluZm8oKS50aGVuKGZ1bmN0aW9uKFVzZXJPYmplY3Qpe1xuICAgIFJlZ2lzdGVyU2V0VXAudXNlciA9IFVzZXJPYmplY3Q7XG4gICAgJHNjb3BlLnJlZ2lzdGVyX3NldHVwX3VzZXJuYW1lID0gVXNlck9iamVjdC51c2VybmFtZTtcblxuICB9KTtcblxuICAkc2NvcGUuZmlsZVVwQ2xpZW50ID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgbmV4dFN0ZXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVnaXN0ZXJfc2V0dXBfbmV4dCcpO1xuICAgIG5leHRTdGVwLmlubmVySFRNTCA9IFwiTmV4dCBTdGVwXCI7XG4gIH1cblxuICAkc2NvcGUuY29udGludWVSZWdpc3RlciA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhO1xuICAgIHZhciBmaWxlID0gJCgnI3JlZ2lzdGVyX3NldHVwX2ltYWdlc19maWxlJylbMF0uZmlsZXNbMF07XG4gICAgZm9ybURhdGEuYXBwZW5kKCdpbWFnZScsZmlsZSk7XG4gICAgVXNlclN2Yy5TZXRVc2VyUHJvZmlsZUltYWdlKGZvcm1EYXRhLFJlZ2lzdGVyU2V0VXAudXNlci5faWQpO1xuICAgIFVzZXJTdmMuZGVzdG9yeVJlZ2lzdGVyU2Vzc2lvbigpO1xuICB9XG5cbiAgLy8gZGVzdHJveXMgdGhlIHJlZ2lzdGVyIHNlc3Npb24uXG4gIHZhciBkZXN0b3J5UmVnaXN0ZXIgPWZ1bmN0aW9uKCl7XG4gICAgVXNlclN2Yy5kZXN0b3J5UmVnaXN0ZXJTZXNzaW9uKCk7XG4gIH1cblxuICAvLyBtb2RpZnlzIHdpbmRvdyAoYnJvd3NlcikgcmVsb2FkL2Nsb3NlIGV2ZW50LlxuICB3aW5kb3cub25iZWZvcmV1bmxvYWQgPSBkZXN0b3J5UmVnaXN0ZXI7XG5cbiAgLy8gbW9kaWZ5cyB3aW5kb3cgKGJyb3dzZXIpIHVybCBjaGFuZ2UgZXZlbnQuXG4gIHdpbmRvdy5vbmhhc2hjaGFuZ2UgPSBmdW5jdGlvbihldmVudCl7XG4gICAgaWYoZXZlbnQub2xkVVJMID09IFwiaHR0cDovL2xvY2FsaG9zdDozMDAwLyMvcmVnaXN0ZXItc2V0dXBcIil7XG4gICAgICBVc2VyU3ZjLmRlc3RvcnlSZWdpc3RlclNlc3Npb24oKTtcbiAgICB9XG4gIH1cblxuXG4gICQoJyNteUNhcm91c2VsJykuY2Fyb3VzZWwoe1xuICAgICAgIGludGVydmFsOiAgIDI1NzZcbiAgIH0pO1xuXG4gICB2YXIgY2xpY2tFdmVudCA9IGZhbHNlO1xuICAgJCgnI215Q2Fyb3VzZWwnKS5vbignY2xpY2snLCAnLm5hdiBhJywgZnVuY3Rpb24oKSB7XG4gICAgICAgY2xpY2tFdmVudCA9IHRydWU7XG4gICAgICAgJCgnLm5hdiBsaScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAkKHRoaXMpLnBhcmVudCgpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgIH0pLm9uKCdzbGlkLmJzLmNhcm91c2VsJywgZnVuY3Rpb24oZSkge1xuICAgICBpZighY2xpY2tFdmVudCkge1xuICAgICAgIHZhciBjb3VudCA9ICQoJy5uYXYnKS5jaGlsZHJlbigpLmxlbmd0aCAtMTtcbiAgICAgICB2YXIgY3VycmVudCA9ICQoJy5uYXYgbGkuYWN0aXZlJyk7XG4gICAgICAgY29uc29sZS5sb2coY291bnQpO1xuICAgICAgIGNvbnNvbGUubG9nKGN1cnJlbnQpXG4gICAgICAgY3VycmVudC5yZW1vdmVDbGFzcygnYWN0aXZlJykubmV4dCgpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICB2YXIgaWQgPSBwYXJzZUludChjdXJyZW50LmRhdGEoJ3NsaWRlLXRvJykpO1xuICAgICAgIGlmKGNvdW50ID09IGlkKSB7XG4gICAgICAgICAkKCcubmF2IGxpJykuZmlyc3QoKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgfVxuICAgICB9XG4gICAgIGNsaWNrRXZlbnQgPSBmYWxzZTtcbiAgIH0pO1xuXG59KTsgLy8gZW5kIG9mIENvbnRyb2xsZXJcblxuYW5ndWxhci5tb2R1bGUoJ2FwcCcpLmRpcmVjdGl2ZSgnY3VzdG9tT25DaGFuZ2UnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIHZhciBvbkNoYW5nZUhhbmRsZXIgPSBzY29wZS4kZXZhbChhdHRycy5jdXN0b21PbkNoYW5nZSk7XG4gICAgICBlbGVtZW50LmJpbmQoJ2NoYW5nZScsIG9uQ2hhbmdlSGFuZGxlcik7XG4gICAgfVxuICB9O1xufSk7IC8vIEVuZCBvZiBkaXJlY3RpdmUgJ2N1c3RvbU9uQ2hhbmdlJ1xuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpLmNvbnRyb2xsZXIoJ1Jlc2VydmF0aW9uQ3RybCcsZnVuY3Rpb24oJHNjb3BlLCRyb3V0ZVBhcmFtcywkbG9jYXRpb24sVXNlclN2YyxPZmZlclN2YyxSZXNlcnZhdGlvblN2YyxUcmFkaW5nSXRlbVN2Yyl7XG4gICAgLy8kcm91dGVQYXJhbXMuaWRcbiAgICAkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJChcIiNkYXRlcGlja2VyXCIpLmRhdGVwaWNrZXIoe1xuICAgICAgICAgICAgc2hvd09uOiBcImJ1dHRvblwiLFxuICAgICAgICAgICAgYnV0dG9uSW1hZ2U6IFwiaHR0cHM6Ly9pLmltZ3VyLmNvbS94eXFNNWVWLnBuZz8yXCIsXG4gICAgICAgICAgICBidXR0b25JbWFnZU9ubHk6IHRydWUsXG4gICAgICAgICAgICBidXR0b25UZXh0OiBcIlBpY2sgYSBkYXRlXCJcbiAgICAgICAgfSk7XG4gICAgICAgICQoJyNiYXNpY0V4YW1wbGUnKS50aW1lcGlja2VyKCk7XG4gICAgfSk7XG5cbiAgICAkc2NvcGUucmVzZXJ2YXRpb24gPSB7fTtcbiAgICAkc2NvcGUucmVzZXJ2YXRpb24ub2ZmZXJJZCA9ICRyb3V0ZVBhcmFtcy5pZDtcbiAgICAkc2NvcGUucmVzZXJ2YXRpb24ubG9jYXRpb24gPSB7fTtcbiAgICAkc2NvcGUucmVzZXJ2YXRpb24uZGF0ZSA9IHt9O1xuXG4gICAgJHNjb3BlLnN1Ym1pdFJlc2VydmF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB0aW1lID0gJCgnI2Jhc2ljRXhhbXBsZScpLnZhbCgpO1xuICAgICAgICB2YXIgZGF0ZSA9ICQoJyNkYXRlcGlja2VyJykudmFsKCk7XG4gICAgICAgICRzY29wZS5yZXNlcnZhdGlvbi5kYXRlLnRpbWUgPSB0aW1lO1xuICAgICAgICAkc2NvcGUucmVzZXJ2YXRpb24uZGF0ZS5kYXkgPSBkYXRlO1xuICAgICAgICBpZih0aW1lID09PSBcIlwiIHx8IGRhdGUgPT09IFwiXCIpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzZXJ2YXRpb25faDRfd2Fycm5pbmdcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBSZXNlcnZhdGlvblN2Yy5tYWtlUmVzZXJ2YXRpb24oJHNjb3BlLnJlc2VydmF0aW9uKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgLy9Vc2VyX29mZmVyX2l0ZW1zXG4gICAgICAgICAgICAgICAgLy9Vc2VyX290aGVyX2l0ZW1zXG4gICAgICAgICAgICAgICAgZm9yKHggaW4gcmVzcG9uc2UuZGF0YS5Vc2VyX290aGVyX2l0ZW1zKXtcbiAgICAgICAgICAgICAgICAgICAgVHJhZGluZ0l0ZW1TdmMuc2V0VHJhZGVUcnVlQnlJZChyZXNwb25zZS5kYXRhLlVzZXJfb3RoZXJfaXRlbXNbeF0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZvciAoeCBpbiByZXNwb25zZS5kYXRhLlVzZXJfb2ZmZXJfaXRlbXMpIHtcbiAgICAgICAgICAgICAgICAgICAgVHJhZGluZ0l0ZW1TdmMuc2V0VHJhZGVUcnVlQnlJZChyZXNwb25zZS5kYXRhLlVzZXJfb2ZmZXJfaXRlbXNbeF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aChcIi9wZW5kaW5nVHJhZGVzXCIpO1xuICAgICAgICAgICAgfSlcbiAgICB9XG5cbiAgICBVc2VyU3ZjLmdldFVzZXJBY2NvdW50SW5mbygpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChVc2VyKSB7XG4gICAgICAgICAgICAkc2NvcGUucmVzZXJ2YXRpb24ubG9jYXRpb24ubGF0aXR1ZGUgPSBVc2VyLmdlb2NvZGUubGF0O1xuICAgICAgICAgICAgJHNjb3BlLnJlc2VydmF0aW9uLmxvY2F0aW9uLmxvbmdpdHVkZSA9IFVzZXIuZ2VvY29kZS5sbmc7XG4gICAgICAgICAgICAvL0FyZWFwaWNrZXJcbiAgICAgICAgICAgICQoXCIjYXJlYXBpY2tlclwiKS5sb2NhdGlvbnBpY2tlcih7XG4gICAgICAgICAgICAgICAgbG9jYXRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgbGF0aXR1ZGU6IFVzZXIuZ2VvY29kZS5sYXQsXG4gICAgICAgICAgICAgICAgICAgIGxvbmdpdHVkZTogVXNlci5nZW9jb2RlLmxuZ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmFkaXVzOiAyMDAsXG4gICAgICAgICAgICAgICAgaW5wdXRCaW5kaW5nOiB7XG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uTmFtZUlucHV0OiAkKCcjYWRkcmVzcycpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlbmFibGVBdXRvY29tcGxldGU6IHRydWUsXG4gICAgICAgICAgICAgICAgb25jaGFuZ2VkOiBmdW5jdGlvbiAoY3VycmVudExvY2F0aW9uLCByYWRpdXMsIGlzTWFya2VyRHJvcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmVzZXJ2YXRpb24ubG9jYXRpb24gPSBjdXJyZW50TG9jYXRpb25cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9KTtcblxufSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJykuY29udHJvbGxlcignVXNlckN0cmwnLGZ1bmN0aW9uKCRzY29wZSxVc2VyU3ZjKXtcbiAgdmFyIGgxID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJoMVwiKTtcbiAgVXNlclN2Yy5nZXRVc2VyQWNjb3VudEluZm8oKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xuICAgICRzY29wZS5Vc2VyID0gZGF0YS51c2VybmFtZTtcbiAgICAkc2NvcGUudXNlckltYWdlID0gZGF0YS51c2VyX2ltYWdlO1xuICB9KVxufSk7IC8vZW5kIG9mIGNvbnRyb2xsZXJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKS5jb250cm9sbGVyKCdVc2VyU2V0dGluZ3MnLGZ1bmN0aW9uKCRzY29wZSxVc2VyU3ZjKXtcbiAgLy8gQ2hlY2tzIHVzZXIgc2Vzc2lvbiAvL1xuICB2YXIgVXNlclN2Y09iaiA9IHt9O1xuICBVc2VyU3ZjT2JqLmZvcm1JdGVtcyA9IHt9O1xuICBVc2VyU3ZjT2JqLmVycm9yRm9ybUl0ZW1zID0ge307XG4gIFVzZXJTdmNPYmouZm9ybUl0ZW1zLmVtYWlsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1c2VyX3NldHRpbmdzX2lucHV0X2VtYWlsXCIpO1xuICBVc2VyU3ZjT2JqLmZvcm1JdGVtcy5maXJzdF9uYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1c2VyX3NldHRpbmdzX2lucHV0X2ZpcnN0XCIpO1xuICBVc2VyU3ZjT2JqLmZvcm1JdGVtcy5sYXN0X25hbWUgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1c2VyX3NldHRpbmdzX2lucHV0X2xhc3RcIik7XG4gIFVzZXJTdmNPYmouZm9ybUl0ZW1zLnVzZXJuYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1c2VyX3NldHRpbmdzX2lucHV0X3VzZXJuYW1lXCIpO1xuICBVc2VyU3ZjT2JqLmVycm9yRm9ybUl0ZW1zLnVzZXJuYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1c2VyX3NldHRpbmdzX2NoZWNrX3VzZXJuYW1lXCIpO1xuICBVc2VyU3ZjT2JqLmVycm9yRm9ybUl0ZW1zLmVtYWlsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1c2VyX3NldHRpbmdzX2NoZWNrX2VtYWlsXCIpO1xuICBVc2VyU3ZjT2JqLnVzZXJfaW1hZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXJfc2V0dGluZ3NfaW1hZ2VcIik7XG4gIFVzZXJTdmNPYmouZmllbGRzZXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXJfc2V0dGluZ3NfZmllbGRTZXRcIik7XG4gIFVzZXJTdmNPYmouY29udGFpbkVycm9yID0gZmFsc2U7XG4gIFVzZXJTdmNPYmoub3JpZ2luYWxVc2VyID0ge31cbiAgLy8gcmV0dXJucyAyMDEgb3IgNDAxXG4gIFVzZXJTdmMuZ2V0TG9nSW5TZXNzaW9uKCk7XG5cbiAgLy8gdXBkYXRlcyBmb3JtLlxuICBVc2VyU3ZjLmdldFVzZXJBY2NvdW50SW5mbygpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xuICAgIFVzZXJTdmNPYmoub3JpZ2luYWxVc2VyID0gcmVzcG9uc2U7XG4gICAgLy8gTG9vcHMgdGhyb3VnaCBmb3JtIGl0ZW1zIGFuZCBzZXRzIHRoZSB2YWx1ZS5cbiAgICBmb3IoeCBpbiBVc2VyU3ZjT2JqLmZvcm1JdGVtcyl7XG4gICAgICBVc2VyU3ZjT2JqLmZvcm1JdGVtc1t4XS5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLHJlc3BvbnNlW3hdKTtcbiAgICB9XG4gICAgLy8gVW5ibG9ja3MgdXNlciBpbnB1dFxuICAgIFVzZXJTdmNPYmouZmllbGRzZXQucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XG4gICAgLy8gU2V0cyB1c2VyIGltYWdlXG4gICAgLy8hZG9jcy51c2VyX2ltYWdlLmhhc093blByb3BlcnR5KCdkZWZhdWx0J1xuICAgIGlmKHJlc3BvbnNlLnVzZXJfaW1hZ2UuaGFzT3duUHJvcGVydHkoJ2RlZmF1bHQnKSl7XG4gICAgICBVc2VyU3ZjT2JqLnVzZXJfaW1hZ2Uuc3JjPXJlc3BvbnNlLnVzZXJfaW1hZ2UuZGVmYXVsdDtcbiAgICB9ZWxzZXtcbiAgICAgIFVzZXJTdmNPYmoudXNlcl9pbWFnZS5zcmM9cmVzcG9uc2UudXNlcl9pbWFnZS5wYXRoODAwO1xuICAgIH1cblxuICB9KTtcblxuICAkc2NvcGUuY2hlY2tVbmlxdWVFbWFpbCA9IGZ1bmN0aW9uKCl7XG4gICAgaWYoVXNlclN2Y09iai5mb3JtSXRlbXMuZW1haWwudmFsdWUubGVuZ3RoPjAgJiYgVXNlclN2Y09iai5mb3JtSXRlbXMuZW1haWwudmFsdWUgIT0gVXNlclN2Y09iai5vcmlnaW5hbFVzZXIuZW1haWwpe1xuICAgICAgVXNlclN2Yy5jaGVja19lbWFpbChVc2VyU3ZjT2JqLmZvcm1JdGVtcy5lbWFpbC52YWx1ZSkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgICAgIGlmKCFyZXNwb25zZSl7XG4gICAgICAgICAgVXNlclN2Y09iai5lcnJvckZvcm1JdGVtcy5lbWFpbC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgIFVzZXJTdmNPYmouY29udGFpbkVycm9yID0gdHJ1ZTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgVXNlclN2Y09iai5lcnJvckZvcm1JdGVtcy5lbWFpbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgVXNlclN2Y09iai5jb250YWluRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgJHNjb3BlLmNoZWNrVW5pcXVlVXNlcm5hbWUgPSBmdW5jdGlvbigpe1xuICAgIGlmKFVzZXJTdmNPYmouZm9ybUl0ZW1zLnVzZXJuYW1lLnZhbHVlLmxlbmd0aD4wICYmIFVzZXJTdmNPYmouZm9ybUl0ZW1zLnVzZXJuYW1lLnZhbHVlICE9IFVzZXJTdmNPYmoub3JpZ2luYWxVc2VyLnVzZXJuYW1lICl7XG4gICAgICBVc2VyU3ZjLmNoZWNrX3VzZXJuYW1lKFVzZXJTdmNPYmouZm9ybUl0ZW1zLnVzZXJuYW1lLnZhbHVlKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcbiAgICAgICAgaWYoIXJlc3BvbnNlKXtcbiAgICAgICAgICBVc2VyU3ZjT2JqLmVycm9yRm9ybUl0ZW1zLnVzZXJuYW1lLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgVXNlclN2Y09iai5jb250YWluRXJyb3IgPSB0cnVlO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICBVc2VyU3ZjT2JqLmVycm9yRm9ybUl0ZW1zLnVzZXJuYW1lLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICBVc2VyU3ZjT2JqLmNvbnRhaW5FcnJvciA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAkc2NvcGUuQ29uZmlybUNoYW5nZXMgPSBmdW5jdGlvbigpe1xuICAgIGlmKFVzZXJTdmNPYmouY29udGFpbkVycm9yKXtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy9lbWFpbDplbWFpbCxmaXJzdF9uYW1lOmZpcnN0bmFtZSxsYXN0X25hbWU6bGFzdG5hbWUsdXNlcm5hbWU6dXNlcm5hbWVcbiAgICBVc2VyU3ZjLnVwZGF0ZVVzZXJDb250ZW50KFVzZXJTdmNPYmouZm9ybUl0ZW1zLmVtYWlsLnZhbHVlLFxuICAgICAgVXNlclN2Y09iai5mb3JtSXRlbXMuZmlyc3RfbmFtZS52YWx1ZSxcbiAgICAgIFVzZXJTdmNPYmouZm9ybUl0ZW1zLmxhc3RfbmFtZS52YWx1ZSxcbiAgICAgIFVzZXJTdmNPYmouZm9ybUl0ZW1zLnVzZXJuYW1lLnZhbHVlLFVzZXJTdmNPYmoub3JpZ2luYWxVc2VyLl9pZClcbiAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1c2VyX3NldHRpbmdzX2gzX2NoYW5nZVwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgfSlcbiAgfSAvLyBlbmQgb2YgQ29uZmlybUNoYW5nZXNcblxuICAkc2NvcGUuZmlsZVVwbG9hZFJlYWR5ID0gZnVuY3Rpb24oKXtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlcl9zZXR0aW5nc19zdWJtaXQnKS5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlcl9zZXR0aW5nc19oNF9pbWdVcCcpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgfVxuXG4gICRzY29wZS5zdWJtaXRJbWFnZSA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhO1xuICAgIHZhciBmaWxlID0gJCgnI3VzZXJfc2V0dGluZ3NfaW1hZ2VzX2lucHV0JylbMF0uZmlsZXNbMF07XG4gICAgZm9ybURhdGEuYXBwZW5kKCdpbWFnZScsZmlsZSk7XG4gICAgdmFyIGRpcyA9IGRvY3VtZW50LmNyZWF0ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VyX3NldHRpbmdzX3N1Ym1pdCcpLnNldEF0dHJpYnV0ZU5vZGUoZGlzKTtcbiAgICBVc2VyU3ZjLlNldFVzZXJQcm9maWxlSW1hZ2UoZm9ybURhdGEsVXNlclN2Y09iai5vcmlnaW5hbFVzZXIuX2lkKS50aGVuKGZ1bmN0aW9uKHJlc3VsdHMpe1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJfc2V0dGluZ3NfaDRfaW1nVXAnKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgIH0pXG4gIH07Ly8gRW5kIG9mIHVwbG9hZEZpbGVcblxufSk7XG5cbmFuZ3VsYXIubW9kdWxlKCdhcHAnKS5kaXJlY3RpdmUoJ2N1c3RvbU9uQ2hhbmdlJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICB2YXIgb25DaGFuZ2VIYW5kbGVyID0gc2NvcGUuJGV2YWwoYXR0cnMuY3VzdG9tT25DaGFuZ2UpO1xuICAgICAgZWxlbWVudC5iaW5kKCdjaGFuZ2UnLCBvbkNoYW5nZUhhbmRsZXIpO1xuICAgIH1cbiAgfTtcbn0pOyAvLyBFbmQgb2YgZGlyZWN0aXZlICdjdXN0b21PbkNoYW5nZSdcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKS5jb250cm9sbGVyKCdVc2VyU2V0dGluZ3NQYXNzd29yZCcsZnVuY3Rpb24oJHNjb3BlLFVzZXJTdmMpe1xuICAkc2NvcGUudXBkYXRlUGFzc3dvcmQgPSBmdW5jdGlvbigpe1xuICAgIGlmKCgkc2NvcGUuVXNlclBhc3N3b3JkLmxlbmd0aD4wICYmICRzY29wZS5OZXdQYXNzd29yZC5sZW5ndGg+MCAmJiAkc2NvcGUuQ29uZmlybU5ld1Bhc3N3b3JkLmxlbmd0aD4wKSl7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXJfc2V0dGluZ3NfcGFzc3dvcmRfcF9zdWNjZXNzXCIpLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7XG4gICAgICBpZigoJHNjb3BlLk5ld1Bhc3N3b3JkICE9ICRzY29wZS5Vc2VyUGFzc3dvcmQpICYmICgkc2NvcGUuQ29uZmlybU5ld1Bhc3N3b3JkID09ICRzY29wZS5OZXdQYXNzd29yZCkpe1xuICAgICAgICB2YXIgZGlzID0gZG9jdW1lbnQuY3JlYXRlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VyX3NldHRpbmdzX3Bhc3N3b3JkX2J0bl9VUCcpLnNldEF0dHJpYnV0ZU5vZGUoZGlzKTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1c2VyX3NldHRpbmdzX3Bhc3N3b3JkX3BfbWF0Y2hpbmdcIikuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1c2VyX3NldHRpbmdzX3Bhc3N3b3JkX3BfY29uZmlybVwiKS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO1xuICAgICAgICBVc2VyU3ZjLmNoYW5nZVBhc3N3b3JkKCRzY29wZS5Vc2VyUGFzc3dvcmQsJHNjb3BlLk5ld1Bhc3N3b3JkKVxuICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgICAgICAgICBpZihyZXNwb25zZS5zdGF0dXMgPT0gMjAwKXtcbiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1c2VyX3NldHRpbmdzX3Bhc3N3b3JkX3Bfc3VjY2Vzc1wiKS5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIjtcbiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1c2VyX3NldHRpbmdzX3Bhc3N3b3JkX3Bfd3JvbmdcIikuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtcbiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJfc2V0dGluZ3NfcGFzc3dvcmRfYnRuX1VQJykucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XG4gICAgICAgICAgICB9ZWxzZSBpZiAocmVzcG9uc2Uuc3RhdHVzID09IDQwNil7XG4gICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlcl9zZXR0aW5nc19wYXNzd29yZF9wX3dyb25nXCIpLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiO1xuICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXJfc2V0dGluZ3NfcGFzc3dvcmRfYnRuX1VQXCIpLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICB9ZWxzZSBpZiAoJHNjb3BlLk5ld1Bhc3N3b3JkID09ICRzY29wZS5Vc2VyUGFzc3dvcmQpe1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXJfc2V0dGluZ3NfcGFzc3dvcmRfcF9tYXRjaGluZ1wiKS5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIjtcbiAgICAgICAgY29uc29sZS5sb2coJ3BvcCcpO1xuICAgICAgfWVsc2UgaWYoJHNjb3BlLkNvbmZpcm1OZXdQYXNzd29yZCAhPSAkc2NvcGUuTmV3UGFzc3dvcmQpe1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXJfc2V0dGluZ3NfcGFzc3dvcmRfcF9jb25maXJtXCIpLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiO1xuICAgICAgICBjb25zb2xlLmxvZygnaGl0Jyk7XG4gICAgICB9XG4gICAgfVxuICB9XG59KTtcbiIsImFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLnNlcnZpY2UoXCJDaGF0U3ZjXCIsIGZ1bmN0aW9uICgkaHR0cCkge1xuICB2YXIgc3ZjID0gdGhpcztcblxuICAvLyBHZXQncyB0b3AgdGVuIHJlY2VudCBtZXNzYWdlcyBmcm9tIGJvdGggdXNlcnMuXG4gIHN2Yy5nZXRSZWNlbnRNZXNzYWdlcyA9IGZ1bmN0aW9uKG90aGVyVXNlcil7XG4gICAgcmV0dXJuICRodHRwLmdldChcImFwaS9jaGF0L1wiK290aGVyVXNlcikudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICB9KTtcbiAgfTtcblxuICBzdmMuc2VuZE1lc3NhZ2UgPSBmdW5jdGlvbihvdGhlclVzZXIsbWVzc2FnZUJvZHkpe1xuICAgIHJldHVybiAkaHR0cC5wb3N0KFwiYXBpL2NoYXQvXCIse290aGVyVXNlcjpvdGhlclVzZXIsYm9keTptZXNzYWdlQm9keX0pO1xuICB9XG5cbiAgc3ZjLnNlbmRNZXNzYWdlV2l0aE9mZmVySUQgPSBmdW5jdGlvbiAob3RoZXJVc2VyLG1lc3NhZ2VCb2R5LF9pZCkge1xuICAgICAgcmV0dXJuICRodHRwLnBvc3QoXCJhcGkvY2hhdC9zcGVjaWFsL1wiLHtvdGhlclVzZXI6b3RoZXJVc2VyLGJvZHk6bWVzc2FnZUJvZHksb2ZmZXJJZDpfaWR9KTtcbiAgfVxuXG59KSAvKiBFbmQgb2YgQ2hhdFN2YyovXG4iLCJhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5zZXJ2aWNlKFwiR2VvU3ZjXCIsIGZ1bmN0aW9uICgkaHR0cCkge1xuXG4gICAgdmFyIHN2YyA9IHRoaXM7XG4gICAgLy8vZ2VvLzpsYXRcIitcIi1cIitcIjpsbmdcbiAgICBzdmMuZ2V0Q2l0eVN0YXRlID0gZnVuY3Rpb24obG9jYXRpb24pe1xuICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KFwiL2FwaS9nZW8vXCIgKyBsb2NhdGlvbi5jb29yZHMubGF0aXR1ZGUgKyBcIi1cIiArIGxvY2F0aW9uLmNvb3Jkcy5sb25naXR1ZGUpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxufSkgLyogRW5kIG9mIENoYXRTdmMqL1xuIiwiYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuc2VydmljZShcIk9mZmVyU3ZjXCIsIGZ1bmN0aW9uICgkaHR0cCkge1xuICAgIHZhciBzdmMgPSB0aGlzO1xuXG4gICAgc3ZjLkdldEFsbE9mZmVyc0J5VXNlck5hbWUgPSBmdW5jdGlvbiAoVXNlcm5hbWUpIHtcbiAgICAgICAgcmV0dXJuICRodHRwLmdldChcIi9hcGkvb2ZmZXJzL3VzZXJuYW1lL1wiK1VzZXJuYW1lKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKE9mZmVycykge1xuICAgICAgICAgICAgICAgIHJldHVybiBPZmZlcnMuZGF0YTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIHN2Yy5HZXRPbmVPZmZlckJ5SWQgPSBmdW5jdGlvbiAoX2lkKSB7XG4gICAgICAgIHJldHVybiAkaHR0cC5nZXQoXCIvYXBpL29mZmVycy9pZC9cIitfaWQpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoT2ZmZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gT2ZmZXIuZGF0YTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIHN2Yy5tYWtlT2ZmZXIgPSBmdW5jdGlvbiAoT2ZmZXJPYmplY3QpIHtcbiAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoXCIvYXBpL29mZmVycy9tYWtlL1wiLCBPZmZlck9iamVjdClcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChPZmZlckNyZWF0ZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gT2ZmZXJDcmVhdGVkLmRhdGE7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzdmMuc2V0UmVzZXJ2YXRpb24gPSBmdW5jdGlvbihSZXNlcnZhdGlvbk9iamVjdCkge1xuICAgICAgICByZXR1cm4gJGh0dHAucHV0KFwiL2FwaS9vZmZlcnMvYWRkVHJhbnNhY3Rpb25QZW5kaW5nL1wiLCBSZXNlcnZhdGlvbk9iamVjdClcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICAgICAgfSlcbiAgICB9XG5cbiAgICBzdmMuR2V0UGVuZGluZ09mZmVycyA9IGZ1bmN0aW9uKFVzZXJuYW1lKXtcbiAgICAgICAgcmV0dXJuICRodHRwLmdldChcIi9hcGkvb2ZmZXJzL3BlbmRpbmcvdXNlcm5hbWUvXCIrVXNlcm5hbWUpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoT2ZmZXJzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE9mZmVycy5kYXRhO1xuICAgICAgICAgICAgfSlcbiAgICB9XG5cbn0pO1xuIiwiYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuc2VydmljZShcIlJlc2VydmF0aW9uU3ZjXCIsIGZ1bmN0aW9uICgkaHR0cCxPZmZlclN2Yykge1xuICAgIHZhciBzdmMgPSB0aGlzO1xuICAgIHN2Yy5tYWtlUmVzZXJ2YXRpb24gPSBmdW5jdGlvbiAoT2ZmZXJPYmplY3QpIHtcbiAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoXCIvYXBpL3Jlc2VydmF0aW9uL21ha2UvXCIsIE9mZmVyT2JqZWN0KVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKE9mZmVyQ3JlYXRlZCkge1xuICAgICAgICAgICAgICAgIHZhciBvZmZlckNyZWF0ZWQgPSBPZmZlckNyZWF0ZWQuZGF0YTtcbiAgICAgICAgICAgICAgICBvZmZlckNyZWF0ZWQuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICB2YXIgcmVzZXJ2YXRpb25PYmplY3QgPSB7fTtcbiAgICAgICAgICAgICAgICByZXNlcnZhdGlvbk9iamVjdC5vZmZlcklkID0gb2ZmZXJDcmVhdGVkWzBdLm9mZmVySWQ7XG4gICAgICAgICAgICAgICAgcmVzZXJ2YXRpb25PYmplY3QuVHJhbnNhY3Rpb25QZW5kaW5nSWQgPSBvZmZlckNyZWF0ZWRbMF0uX2lkO1xuICAgICAgICAgICAgICAgIHJlc2VydmF0aW9uT2JqZWN0Lm9mZmVyU3RhdHVzID0gXCJhY2NlcHRlZFwiXG4gICAgICAgICAgICAgICAgcmV0dXJuIE9mZmVyU3ZjLnNldFJlc2VydmF0aW9uKHJlc2VydmF0aW9uT2JqZWN0KTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIHN2Yy5kZWNsaW5lUmVzZXJ2YXRpb24gPSBmdW5jdGlvbigpe1xuXG4gICAgfVxuXG4gICAgc3ZjLmdldFJlc2VydmF0aW9uID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHJldHVybiAkaHR0cC5nZXQoXCIvYXBpL3RyYW5zUGVuZC9nZXRUcmFuc1BlbmQvZmluZE9uZS9cIitpZClcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChSZXNlcnZhdGlvbil7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFJlc2VydmF0aW9uLmRhdGE7XG4gICAgICAgICAgICB9KVxuICAgIH1cbn0pO1xuIiwiYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuc2VydmljZShcIlRyYWRpbmdJdGVtU3ZjXCIsIGZ1bmN0aW9uICgkaHR0cCkge1xuICAgIHZhciBzdmMgPSB0aGlzO1xuXG4gICAgc3ZjLmFkZEl0ZW0gID0gZnVuY3Rpb24odHJhZGluZ09iamVjdCxmb3JtKXtcbiAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoXCJhcGkvdHJhZGluZy9hZGRJdGVtL1wiLHRyYWRpbmdPYmplY3QpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5wdXQoXCJhcGkvdHJhZGluZy91cGRhdGVJbWFnZS9cIityZXNwb25zZS5kYXRhLl9pZCxmb3JtLHsgdHJhbnNmb3JtUmVxdWVzdDphbmd1bGFyLmlkZW50aXR5LCBoZWFkZXJzOnsnQ29udGVudC1UeXBlJzp1bmRlZmluZWR9fSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZTIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZTIpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZTIuZGF0YTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgIH0pO1xuICAgfVxuXG4gIHN2Yy5nZXRVc2Vyc1RyYWRpbmdPYmplY3RzID0gZnVuY3Rpb24ob3RoZXJVc2VyKXtcbiAgICByZXR1cm4gJGh0dHAuZ2V0KFwiYXBpL2NoYXQvXCIrb3RoZXJVc2VyKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIC90cmFkaW5nL2dldEl0ZW1zLzp1c2VybmFtZVxuICBzdmMuZ2V0QWxsVXNlclRyYWRpbmdJdGVtcyA9IGZ1bmN0aW9uICh1c2VybmFtZSkge1xuICAgICAgcmV0dXJuICRodHRwLmdldChcImFwaS90cmFkaW5nL2dldEl0ZW1zL1wiK3VzZXJuYW1lKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAoYWxsSXRlbSkge1xuICAgICAgICAgICAgYWxsSXRlbS5kYXRhLnNoaWZ0KCk7XG4gICAgICAgICAgICByZXR1cm4gYWxsSXRlbS5kYXRhO1xuICAgICAgICB9KTtcbiAgfVxuXG4gIC8vIGdldHMgYWxsIGl0ZW1zIGZvcm0gZGF0YWJhc2VcbiAgc3ZjLmdldEFsbEl0ZW1zID0gZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoXCJhcGkvdHJhZGluZy9nZXRBbGxJdGVtcy9cIilcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGFsbEl0ZW1zKXtcbiAgICAgICAgICAgIHJldHVybiBhbGxJdGVtcy5kYXRhO1xuICAgICAgICB9KTtcbiAgfVxuXG4gIC8vIGdldCBhbGwgYnV0IHVzZXJcbiAgc3ZjLmdldEFsbEl0ZW1zQnV0ID0gZnVuY3Rpb24oVXNlck5hbWUpe1xuICAgICAgcmV0dXJuICRodHRwLmdldChcImFwaS90cmFkaW5nL2dldEFsbEl0ZW1zQnV0L1wiK1VzZXJOYW1lKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAoSXRlbXMpe1xuICAgICAgICAgICAgcmV0dXJuIEl0ZW1zLmRhdGE7XG4gICAgICAgIH0pXG4gIH1cblxuICAvLyAvdHJhZGluZy9nZXRJdGVtcy9maW5kT25lLzppZFxuICBzdmMuZ2V0SXRlbUJ5SWQgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoXCJhcGkvdHJhZGluZy9nZXRJdGVtcy9maW5kT25lL1wiK2lkKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAoaXRlbSl7XG4gICAgICAgICAgICByZXR1cm4gaXRlbS5kYXRhO1xuICAgICAgICB9KVxuICB9XG5cblxuICAvLyAvdHJhZGluZy9kZWxldGVJdGVtcy86aWRcbiAgc3ZjLmRlbGV0ZUl0ZW0gPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgIHJldHVybiAkaHR0cC5kZWxldGUoXCJhcGkvL3RyYWRpbmcvZGVsZXRlSXRlbXMvXCIgKyBpZClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKXtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgfSk7XG4gIH1cblxuXG4gIC8vIC90cmFkaW5nL2VkaXRJdGVtcy86aWRcbiAgc3ZjLmVkaXRJdGVtID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICByZXR1cm4gJGh0dHAucHV0KFwiYXBpL3RyYWRpbmcvZWRpdEl0ZW1zL1wiICsgaWQpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSl7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgIH0pXG4gIH1cblxuICBzdmMuZ2V0SXRlbUZyb21DaXR5U3RhdGUgPSBmdW5jdGlvbiAoR2VvT2JqZWN0KSB7XG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KFwiYXBpL3RyYWRpbmcvZ3JhYkl0ZW1CeUNpdHktU3RhdGUvXCIrR2VvT2JqZWN0LmNpdHkrXCItXCIrR2VvT2JqZWN0LnN0YXRlKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGlmKHJlc3BvbnNlLmRhdGFbMF0uc3RhdHVzID09PSBcIkVSUk9SXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuZGF0YS5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICB9XG5cbiAgc3ZjLmdldEl0ZW1Gcm9tQ2l0eVN0YXRlQXZvaWRVc2VyID0gZnVuY3Rpb24oR2VvT2JqZWN0LFVzZXJOYW1lKXtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoXCJhcGkvdHJhZGluZy9ncmFiSXRlbUJ5Q2l0eS1TdGF0ZS9hdm9pZC1cIitVc2VyTmFtZStcIi9cIitHZW9PYmplY3QuY2l0eStcIi1cIitHZW9PYmplY3Quc3RhdGUpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgaWYocmVzcG9uc2UuZGF0YVswXS5zdGF0dXMgPT09IFwiRVJST1JcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXNwb25zZS5kYXRhLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gIH1cblxuICBzdmMuc2V0VHJhZGVUcnVlQnlJZCA9IGZ1bmN0aW9uKF9pZCl7XG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KFwiYXBpL3RyYWRpbmcvc2V0VHJhZGVUcnVlQnlJZC9cIitfaWQpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSl7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgIH0pXG4gIH1cblxuICBzdmMuc2V0VHJhZGVGYWxzZUJ5SWQgPSBmdW5jdGlvbihfaWQpe1xuICAgICAgcmV0dXJuICRodHRwLmdldChcImFwaS90cmFkaW5nL3NldFRyYWRlRmFsc2VCeUlkL1wiK19pZClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKXtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgfSlcbiAgfVxuXG4gIHN2Yy5nZXRTZWFyY2hJdGVtID0gZnVuY3Rpb24oU2VhcmNoKXtcbiAgICAgIC8vL2l0ZW1TZWFyY2gvc2VhcmNoLzpuYW1lXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KFwiYXBpL2l0ZW1TZWFyY2gvc2VhcmNoL1wiK1NlYXJjaClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKXtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgICAgICB9KVxuICB9XG5cbn0pIC8qIEVuZCBvZiBDaGF0U3ZjKi9cbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKS5zZXJ2aWNlKCdVc2VyU3ZjJywgZnVuY3Rpb24gKCRodHRwLCRxKSB7XG5cbiAgICB2YXIgc3ZjID0gdGhpcztcblxuICAgIC8vIHVwZGF0ZXMgdXNlcidzIGZpcnN0bmFtZSxsYXN0bmFtZSx1c2VybmFtZSxlbWFpbFxuICAgIC8vIHJlcXVpcmVzIGF1dGVudGljYXRpb25cbiAgICAvLyBkb25lIHdpdGggc2Vzc2lvbiB1c2VyLlxuICAgIHN2Yy51cGRhdGVVc2VyQ29udGVudCA9IGZ1bmN0aW9uKGVtYWlsLGZpcnN0bmFtZSxsYXN0bmFtZSx1c2VybmFtZSxpZCl7XG4gICAgICByZXR1cm4gJGh0dHAucG9zdCgnYXBpL3VzZXJzL3VwZGF0ZVVzZXIvJyx7ZW1haWw6ZW1haWwsZmlyc3RfbmFtZTpmaXJzdG5hbWUsbGFzdF9uYW1lOmxhc3RuYW1lLHVzZXJuYW1lOnVzZXJuYW1lLF9pZDppZH0pO1xuICAgIH1cblxuICAgIHN2Yy5TZXRVc2VyUHJvZmlsZUltYWdlID0gZnVuY3Rpb24oRm9ybSxfaWQpe1xuICAgICAgcmV0dXJuICRodHRwLnBvc3QoJ2FwaS91c2Vycy9wcm9maWxlSW1hZ2UvJytfaWQsRm9ybSx7IHRyYW5zZm9ybVJlcXVlc3Q6YW5ndWxhci5pZGVudGl0eSwgaGVhZGVyczp7J0NvbnRlbnQtVHlwZSc6dW5kZWZpbmVkfX0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgLy9jaGVja3MgaWYgdXNlcm5hbWUgaXMgY3VycmVudCBpbiBkYlxuICAgIHN2Yy5jaGVja191c2VybmFtZSA9IGZ1bmN0aW9uKHVzZXJuYW1lKXtcbiAgICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS91c2Vycy9jaGVja1VzZXJuYW1lLycrdXNlcm5hbWUpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvL2NoZWNrIGlmIGVtYWlsIGlzIGN1cnJlbnQgaW4gZGJcbiAgICBzdmMuY2hlY2tfZW1haWwgPSBmdW5jdGlvbihlbWFpbCl7XG4gICAgICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvdXNlcnMvY2hlY2tFbWFpbC8nK2VtYWlsKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLy8gZ2V0IGN1cnJlbnQgdXNlcnMgaW5mb1xuICAgIC8vIHVzZWQgZm9yIGxvZ2luIHVzZXIuXG4gICAgLy8gRE8gTk9UIFVTRVxuICAgIHN2Yy5nZXRVc2VyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3VzZXJzJylcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhXG4gICAgICAgICAgICB9KVxuICAgIH07XG5cbiAgICAvLyBsb2dzIGluIHVzZXJcbiAgICBzdmMubG9naW4gPSBmdW5jdGlvbiAodXNlcm5hbWUsIHBhc3N3b3JkKSB7XG4gICAgICAgIC8vIGdldCBzaWduYXR1cmUgZnJvbSBwb3N0XG4gICAgICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3Nlc3Npb25zJywge1xuICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLCBwYXNzd29yZDogcGFzc3dvcmR9KVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIC8vIHNldHMgdGhlIHgtYXV0aCB0byBsYXRlciBjb21wYXJlIGluIGdldFVzZXJcbiAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydYLUF1dGgnXSA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICByZXR1cm4gc3ZjLmdldFVzZXIoKVxuICAgICAgICB9LGZ1bmN0aW9uKGVycil7XG4gICAgICAgICAgICByZXR1cm4gZXJyXG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvLyBhcGkgY2FsbCB0byByZWdpc3RlciBhIHVzZXIuXG4gICAgc3ZjLnJlZ2lzdGVyID0gZnVuY3Rpb24gKGZpcnN0X25hbWUsbGFzdF9uYW1lLHVzZXJuYW1lLHBhc3N3b3JkLGVtYWlsLGNpdHksc3RhdGUpIHtcbiAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvdXNlcnMnLHtcbiAgICAgICAgICAgIGZpcnN0X25hbWU6IGZpcnN0X25hbWUsIGxhc3RfbmFtZTpsYXN0X25hbWUsIHVzZXJuYW1lOiB1c2VybmFtZSwgcGFzc3dvcmQ6cGFzc3dvcmQsZW1haWw6ZW1haWwsbG9jYXRpb246IHtjaXR5OmNpdHksc3RhdGU6c3RhdGV9XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XG4gICAgICAgICAgICBzdmMuY2FsY3VsYXRlTGF0TG5nKHJlc3BvbnNlLmRhdGEuX2lkLGNpdHksc3RhdGUpO1xuICAgICAgICAgICAgcmV0dXJuIHN2Yy5sb2dpbih1c2VybmFtZSxwYXNzd29yZCk7XG4gICAgICAgIH0pXG4gICAgfTtcblxuICAgIHN2Yy5jYWxjdWxhdGVMYXRMbmcgPSBmdW5jdGlvbihfaWQsY2l0eSxzdGF0ZSl7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiSElUXCIpO1xuICAgICAgICByZXR1cm4gJGh0dHAucHV0KFwiL2FwaS91c2Vycy91cGRhdGVMYXRMb25nL1wiICsgX2lkICtcIi1cIitjaXR5K1wiLVwiK3N0YXRlKVxuICAgIH1cblxuICAgIC8vIGdldHMgY3VycmVudCB1c2VyJ3MgYWNjb3VudCBpbmZvXG4gICAgLy8gcmVxdWlyZXMgYXV0ZW50aWNhdGlvblxuICAgIC8vIGRvbmUgd2l0aCBzZXNzaW9uXG4gICAgLy8gdXNlcm5hbWUsZW1haWwsZmlyc3RuYW1lLGxhc3RuYW1lLHByb2ZpbGVwaWNcbiAgICBzdmMuZ2V0VXNlckFjY291bnRJbmZvID0gZnVuY3Rpb24oKXtcbiAgICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS91c2Vycy91c2VyL2FjY291bnRJbmZvJykudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3ZjLmNoYW5nZVBhc3N3b3JkID0gZnVuY3Rpb24oVXNlclBhc3N3b3JkLE5ld1Bhc3N3b3JkKXtcbiAgICAgIGNvbnNvbGUubG9nKFVzZXJQYXNzd29yZCxOZXdQYXNzd29yZCk7XG4gICAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS91c2Vycy91c2VyL2NoYW5nZXBhc3N3b3JkJyx7cGFzc3dvcmQ6VXNlclBhc3N3b3JkLG5ld19wYXNzd29yZDpOZXdQYXNzd29yZH0pXG4gICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSl7IHJldHVybiByZXNwb25zZTsgfSxmdW5jdGlvbihlcnIpeyByZXR1cm4gZXJyOyB9KVxuICAgIH1cblxuICAgIC8vIGdldHMgdXNlcm5hbWUncyBvcGVuIGluZm8uXG4gICAgLy8gbXVzdCBlbnRlciBhIHVzZXJuYW1lLlxuICAgIC8vIHVzZXJuYW1lLGZpcnN0bmFtZSxsYXN0bmFtZSxwcm9maWxlcGljXG4gICAgc3ZjLmdldFVzZXJPcGVuSW5mbyA9IGZ1bmN0aW9uKHVzZXJuYW1lKXtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvdXNlcnMvdXNlck9wZW4vJyt1c2VybmFtZSkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7cmV0dXJuIHJlc3BvbnNlLmRhdGE7IH0pXG4gICAgfVxuXG4gICAgLy8gYXBpIGNhbGwgdG8gbG9nIG91dCBjdXJyZW50IHVzZXIuXG4gICAgc3ZjLmxvZ291dCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvdXNlcnMvbG9nb3V0Jyk7XG4gICAgfVxuXG4gICAgLy8gcmVxdWlyZXMgc2Vzc2lvbi5cbiAgICAvLyByZXR1cm4gc2Vzc2lvbidzIHVzZXJuYW1lLlxuICAgIHN2Yy5yZXR1cm5TZXNzaW9uVXNlck5hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvdXNlcnMvdXNlcicpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhXG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvLyBjaGVja3MgZm9yIHNlc3Npb24uXG4gICAgLy8gcmV0dXJucyB0cnVlIG9yIGZhbHNlLlxuICAgIHN2Yy5oYXNTZXNzaW9uID0gZnVuY3Rpb24oKXtcbiAgICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS91c2Vycy9zZXNzaW9uJylcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vcmV0dXJucyB1c2VyIHNlc3Npb25cbiAgICAvLyAyMDEgb3IgNDAxXG4gICAgc3ZjLmdldExvZ0luU2Vzc2lvbiA9IGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3VzZXJzL2xvZ2luL3Nlc3Npb24nKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICB9KVxuICAgIH1cblxuICAgIC8vIHJldHVybnMgcmVnaXN0ZXIgc2Vzc2lvblxuICAgIHN2Yy5nZXRSZWdpc3RlclNlc3Npb24gPSBmdW5jdGlvbigpe1xuICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS91c2Vycy9yZWdpc3Rlci9zZXNzaW9uJylcbiAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICB9KVxuICAgIH1cblxuICAgIC8vIGRlc3Ryb3lzIHNlc3Npb24uXG4gICAgc3ZjLmRlc3RvcnlSZWdpc3RlclNlc3Npb24gPSBmdW5jdGlvbigpe1xuICAgICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvdXNlcnMvcmVnaXN0ZXIvc2Vzc2lvbi9kZXN0cm95LycpO1xuICAgIH1cblxufSk7XG4iXX0=
